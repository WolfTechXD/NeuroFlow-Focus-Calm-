var f0=Object.defineProperty;var m0=(e,t,n)=>t in e?f0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Q=(e,t,n)=>(m0(e,typeof t!="symbol"?t+"":t,n),n);function h0(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function p0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lm={exports:{}},uo={},cm={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rs=Symbol.for("react.element"),g0=Symbol.for("react.portal"),y0=Symbol.for("react.fragment"),x0=Symbol.for("react.strict_mode"),v0=Symbol.for("react.profiler"),w0=Symbol.for("react.provider"),b0=Symbol.for("react.context"),j0=Symbol.for("react.forward_ref"),S0=Symbol.for("react.suspense"),N0=Symbol.for("react.memo"),k0=Symbol.for("react.lazy"),mu=Symbol.iterator;function P0(e){return e===null||typeof e!="object"?null:(e=mu&&e[mu]||e["@@iterator"],typeof e=="function"?e:null)}var um={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dm=Object.assign,fm={};function Pr(e,t,n){this.props=e,this.context=t,this.refs=fm,this.updater=n||um}Pr.prototype.isReactComponent={};Pr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mm(){}mm.prototype=Pr.prototype;function _l(e,t,n){this.props=e,this.context=t,this.refs=fm,this.updater=n||um}var zl=_l.prototype=new mm;zl.constructor=_l;dm(zl,Pr.prototype);zl.isPureReactComponent=!0;var hu=Array.isArray,hm=Object.prototype.hasOwnProperty,$l={current:null},pm={key:!0,ref:!0,__self:!0,__source:!0};function gm(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)hm.call(t,r)&&!pm.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Rs,type:e,key:i,ref:a,props:s,_owner:$l.current}}function C0(e,t){return{$$typeof:Rs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rs}function T0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var pu=/\/+/g;function Uo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?T0(""+e.key):t.toString(36)}function hi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Rs:case g0:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Uo(a,0):r,hu(s)?(n="",e!=null&&(n=e.replace(pu,"$&/")+"/"),hi(s,t,n,"",function(u){return u})):s!=null&&(Hl(s)&&(s=C0(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(pu,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",hu(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Uo(i,l);a+=hi(i,t,n,c,s)}else if(c=P0(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Uo(i,l++),a+=hi(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Hs(e,t,n){if(e==null)return e;var r=[],s=0;return hi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function E0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fe={current:null},pi={transition:null},A0={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:pi,ReactCurrentOwner:$l};function ym(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Hs,forEach:function(e,t,n){Hs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Hs(e,function(){t++}),t},toArray:function(e){return Hs(e,function(t){return t})||[]},only:function(e){if(!Hl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=Pr;G.Fragment=y0;G.Profiler=v0;G.PureComponent=_l;G.StrictMode=x0;G.Suspense=S0;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A0;G.act=ym;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=dm({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=$l.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)hm.call(t,c)&&!pm.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Rs,type:e.type,key:s,ref:i,props:r,_owner:a}};G.createContext=function(e){return e={$$typeof:b0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:w0,_context:e},e.Consumer=e};G.createElement=gm;G.createFactory=function(e){var t=gm.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:j0,render:e}};G.isValidElement=Hl;G.lazy=function(e){return{$$typeof:k0,_payload:{_status:-1,_result:e},_init:E0}};G.memo=function(e,t){return{$$typeof:N0,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=pi.transition;pi.transition={};try{e()}finally{pi.transition=t}};G.unstable_act=ym;G.useCallback=function(e,t){return Fe.current.useCallback(e,t)};G.useContext=function(e){return Fe.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Fe.current.useDeferredValue(e)};G.useEffect=function(e,t){return Fe.current.useEffect(e,t)};G.useId=function(){return Fe.current.useId()};G.useImperativeHandle=function(e,t,n){return Fe.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return Fe.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return Fe.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return Fe.current.useMemo(e,t)};G.useReducer=function(e,t,n){return Fe.current.useReducer(e,t,n)};G.useRef=function(e){return Fe.current.useRef(e)};G.useState=function(e){return Fe.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return Fe.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return Fe.current.useTransition()};G.version="18.3.1";cm.exports=G;var b=cm.exports;const Ye=p0(b),M0=h0({__proto__:null,default:Ye},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0=b,L0=Symbol.for("react.element"),R0=Symbol.for("react.fragment"),V0=Object.prototype.hasOwnProperty,I0=D0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,F0={key:!0,ref:!0,__self:!0,__source:!0};function xm(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)V0.call(t,r)&&!F0.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:L0,type:e,key:i,ref:a,props:s,_owner:I0.current}}uo.Fragment=R0;uo.jsx=xm;uo.jsxs=xm;lm.exports=uo;var o=lm.exports,Ta={},vm={exports:{}},Je={},wm={exports:{}},bm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,S){var D=T.length;T.push(S);e:for(;0<D;){var M=D-1>>>1,z=T[M];if(0<s(z,S))T[M]=S,T[D]=z,D=M;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var S=T[0],D=T.pop();if(D!==S){T[0]=D;e:for(var M=0,z=T.length,X=z>>>1;M<X;){var B=2*(M+1)-1,fe=T[B],E=B+1,U=T[E];if(0>s(fe,D))E<z&&0>s(U,fe)?(T[M]=U,T[E]=D,M=E):(T[M]=fe,T[B]=D,M=B);else if(E<z&&0>s(U,D))T[M]=U,T[E]=D,M=E;else break e}}return S}function s(T,S){var D=T.sortIndex-S.sortIndex;return D!==0?D:T.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],f=1,d=null,m=3,y=!1,v=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(T){for(var S=n(u);S!==null;){if(S.callback===null)r(u);else if(S.startTime<=T)r(u),S.sortIndex=S.expirationTime,t(c,S);else break;S=n(u)}}function x(T){if(w=!1,h(T),!v)if(n(c)!==null)v=!0,L(k);else{var S=n(u);S!==null&&F(x,S.startTime-T)}}function k(T,S){v=!1,w&&(w=!1,g(N),N=-1),y=!0;var D=m;try{for(h(S),d=n(c);d!==null&&(!(d.expirationTime>S)||T&&!_());){var M=d.callback;if(typeof M=="function"){d.callback=null,m=d.priorityLevel;var z=M(d.expirationTime<=S);S=e.unstable_now(),typeof z=="function"?d.callback=z:d===n(c)&&r(c),h(S)}else r(c);d=n(c)}if(d!==null)var X=!0;else{var B=n(u);B!==null&&F(x,B.startTime-S),X=!1}return X}finally{d=null,m=D,y=!1}}var P=!1,A=null,N=-1,C=5,V=-1;function _(){return!(e.unstable_now()-V<C)}function Y(){if(A!==null){var T=e.unstable_now();V=T;var S=!0;try{S=A(!0,T)}finally{S?K():(P=!1,A=null)}}else P=!1}var K;if(typeof p=="function")K=function(){p(Y)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,xe=ee.port2;ee.port1.onmessage=Y,K=function(){xe.postMessage(null)}}else K=function(){j(Y,0)};function L(T){A=T,P||(P=!0,K())}function F(T,S){N=j(function(){T(e.unstable_now())},S)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,L(k))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(m){case 1:case 2:case 3:var S=3;break;default:S=m}var D=m;m=S;try{return T()}finally{m=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,S){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var D=m;m=T;try{return S()}finally{m=D}},e.unstable_scheduleCallback=function(T,S,D){var M=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?M+D:M):D=M,T){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=D+z,T={id:f++,callback:S,priorityLevel:T,startTime:D,expirationTime:z,sortIndex:-1},D>M?(T.sortIndex=D,t(u,T),n(c)===null&&T===n(u)&&(w?(g(N),N=-1):w=!0,F(x,D-M))):(T.sortIndex=z,t(c,T),v||y||(v=!0,L(k))),T},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(T){var S=m;return function(){var D=m;m=S;try{return T.apply(this,arguments)}finally{m=D}}}})(bm);wm.exports=bm;var U0=wm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0=b,Xe=U0;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jm=new Set,fs={};function $n(e,t){gr(e,t),gr(e+"Capture",t)}function gr(e,t){for(fs[e]=t,e=0;e<t.length;e++)jm.add(t[e])}var Vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ea=Object.prototype.hasOwnProperty,B0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gu={},yu={};function _0(e){return Ea.call(yu,e)?!0:Ea.call(gu,e)?!1:B0.test(e)?yu[e]=!0:(gu[e]=!0,!1)}function z0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $0(e,t,n,r){if(t===null||typeof t>"u"||z0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ue(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new Ue(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new Ue(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new Ue(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new Ue(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new Ue(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new Ue(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new Ue(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new Ue(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new Ue(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wl=/[\-:]([a-z])/g;function Gl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wl,Gl);Te[t]=new Ue(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wl,Gl);Te[t]=new Ue(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wl,Gl);Te[t]=new Ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new Ue(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new Ue(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ql(e,t,n,r){var s=Te.hasOwnProperty(t)?Te[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($0(t,n,s,r)&&(n=null),r||s===null?_0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Bt=O0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ws=Symbol.for("react.element"),Kn=Symbol.for("react.portal"),qn=Symbol.for("react.fragment"),Kl=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Sm=Symbol.for("react.provider"),Nm=Symbol.for("react.context"),ql=Symbol.for("react.forward_ref"),Ma=Symbol.for("react.suspense"),Da=Symbol.for("react.suspense_list"),Yl=Symbol.for("react.memo"),$t=Symbol.for("react.lazy"),km=Symbol.for("react.offscreen"),xu=Symbol.iterator;function Lr(e){return e===null||typeof e!="object"?null:(e=xu&&e[xu]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,Oo;function Qr(e){if(Oo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Oo=t&&t[1]||""}return`
`+Oo+e}var Bo=!1;function _o(e,t){if(!e||Bo)return"";Bo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Bo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Qr(e):""}function H0(e){switch(e.tag){case 5:return Qr(e.type);case 16:return Qr("Lazy");case 13:return Qr("Suspense");case 19:return Qr("SuspenseList");case 0:case 2:case 15:return e=_o(e.type,!1),e;case 11:return e=_o(e.type.render,!1),e;case 1:return e=_o(e.type,!0),e;default:return""}}function La(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qn:return"Fragment";case Kn:return"Portal";case Aa:return"Profiler";case Kl:return"StrictMode";case Ma:return"Suspense";case Da:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nm:return(e.displayName||"Context")+".Consumer";case Sm:return(e._context.displayName||"Context")+".Provider";case ql:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yl:return t=e.displayName||null,t!==null?t:La(e.type)||"Memo";case $t:t=e._payload,e=e._init;try{return La(e(t))}catch{}}return null}function W0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return La(t);case 8:return t===Kl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function G0(e){var t=Pm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gs(e){e._valueTracker||(e._valueTracker=G0(e))}function Cm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Pm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ra(e,t){var n=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=cn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tm(e,t){t=t.checked,t!=null&&Ql(e,"checked",t,!1)}function Va(e,t){Tm(e,t);var n=cn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ia(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ia(e,t.type,cn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ia(e,t,n){(t!=="number"||Ai(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Kr=Array.isArray;function ur(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+cn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Fa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(Kr(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:cn(n)}}function Em(e,t){var n=cn(t.value),r=cn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ju(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Am(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ua(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Am(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qs,Mm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qs=Qs||document.createElement("div"),Qs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ms(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Zr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Q0=["Webkit","ms","Moz","O"];Object.keys(Zr).forEach(function(e){Q0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zr[t]=Zr[e]})});function Dm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Zr.hasOwnProperty(e)&&Zr[e]?(""+t).trim():t+"px"}function Lm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Dm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var K0=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oa(e,t){if(t){if(K0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Ba(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _a=null;function Xl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var za=null,dr=null,fr=null;function Su(e){if(e=Fs(e)){if(typeof za!="function")throw Error(I(280));var t=e.stateNode;t&&(t=go(t),za(e.stateNode,e.type,t))}}function Rm(e){dr?fr?fr.push(e):fr=[e]:dr=e}function Vm(){if(dr){var e=dr,t=fr;if(fr=dr=null,Su(e),t)for(e=0;e<t.length;e++)Su(t[e])}}function Im(e,t){return e(t)}function Fm(){}var zo=!1;function Um(e,t,n){if(zo)return e(t,n);zo=!0;try{return Im(e,t,n)}finally{zo=!1,(dr!==null||fr!==null)&&(Fm(),Vm())}}function hs(e,t){var n=e.stateNode;if(n===null)return null;var r=go(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var $a=!1;if(Vt)try{var Rr={};Object.defineProperty(Rr,"passive",{get:function(){$a=!0}}),window.addEventListener("test",Rr,Rr),window.removeEventListener("test",Rr,Rr)}catch{$a=!1}function q0(e,t,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Jr=!1,Mi=null,Di=!1,Ha=null,Y0={onError:function(e){Jr=!0,Mi=e}};function X0(e,t,n,r,s,i,a,l,c){Jr=!1,Mi=null,q0.apply(Y0,arguments)}function Z0(e,t,n,r,s,i,a,l,c){if(X0.apply(this,arguments),Jr){if(Jr){var u=Mi;Jr=!1,Mi=null}else throw Error(I(198));Di||(Di=!0,Ha=u)}}function Hn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Om(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nu(e){if(Hn(e)!==e)throw Error(I(188))}function J0(e){var t=e.alternate;if(!t){if(t=Hn(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Nu(s),e;if(i===r)return Nu(s),t;i=i.sibling}throw Error(I(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function Bm(e){return e=J0(e),e!==null?_m(e):null}function _m(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_m(e);if(t!==null)return t;e=e.sibling}return null}var zm=Xe.unstable_scheduleCallback,ku=Xe.unstable_cancelCallback,ey=Xe.unstable_shouldYield,ty=Xe.unstable_requestPaint,pe=Xe.unstable_now,ny=Xe.unstable_getCurrentPriorityLevel,Zl=Xe.unstable_ImmediatePriority,$m=Xe.unstable_UserBlockingPriority,Li=Xe.unstable_NormalPriority,ry=Xe.unstable_LowPriority,Hm=Xe.unstable_IdlePriority,fo=null,Nt=null;function sy(e){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(fo,e,void 0,(e.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:ay,iy=Math.log,oy=Math.LN2;function ay(e){return e>>>=0,e===0?32:31-(iy(e)/oy|0)|0}var Ks=64,qs=4194304;function qr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ri(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=qr(l):(i&=a,i!==0&&(r=qr(i)))}else a=n&~s,a!==0?r=qr(a):i!==0&&(r=qr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-pt(t),s=1<<n,r|=e[n],t&=~s;return r}function ly(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cy(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-pt(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=ly(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Wa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wm(){var e=Ks;return Ks<<=1,!(Ks&4194240)&&(Ks=64),e}function $o(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pt(t),e[t]=n}function uy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-pt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Jl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var J=0;function Gm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Qm,ec,Km,qm,Ym,Ga=!1,Ys=[],Zt=null,Jt=null,en=null,ps=new Map,gs=new Map,Qt=[],dy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pu(e,t){switch(e){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":Jt=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":ps.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(t.pointerId)}}function Vr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Fs(t),t!==null&&ec(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function fy(e,t,n,r,s){switch(t){case"focusin":return Zt=Vr(Zt,e,t,n,r,s),!0;case"dragenter":return Jt=Vr(Jt,e,t,n,r,s),!0;case"mouseover":return en=Vr(en,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ps.set(i,Vr(ps.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,gs.set(i,Vr(gs.get(i)||null,e,t,n,r,s)),!0}return!1}function Xm(e){var t=Mn(e.target);if(t!==null){var n=Hn(t);if(n!==null){if(t=n.tag,t===13){if(t=Om(n),t!==null){e.blockedOn=t,Ym(e.priority,function(){Km(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);_a=r,n.target.dispatchEvent(r),_a=null}else return t=Fs(n),t!==null&&ec(t),e.blockedOn=n,!1;t.shift()}return!0}function Cu(e,t,n){gi(e)&&n.delete(t)}function my(){Ga=!1,Zt!==null&&gi(Zt)&&(Zt=null),Jt!==null&&gi(Jt)&&(Jt=null),en!==null&&gi(en)&&(en=null),ps.forEach(Cu),gs.forEach(Cu)}function Ir(e,t){e.blockedOn===t&&(e.blockedOn=null,Ga||(Ga=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,my)))}function ys(e){function t(s){return Ir(s,e)}if(0<Ys.length){Ir(Ys[0],e);for(var n=1;n<Ys.length;n++){var r=Ys[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Zt!==null&&Ir(Zt,e),Jt!==null&&Ir(Jt,e),en!==null&&Ir(en,e),ps.forEach(t),gs.forEach(t),n=0;n<Qt.length;n++)r=Qt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Qt.length&&(n=Qt[0],n.blockedOn===null);)Xm(n),n.blockedOn===null&&Qt.shift()}var mr=Bt.ReactCurrentBatchConfig,Vi=!0;function hy(e,t,n,r){var s=J,i=mr.transition;mr.transition=null;try{J=1,tc(e,t,n,r)}finally{J=s,mr.transition=i}}function py(e,t,n,r){var s=J,i=mr.transition;mr.transition=null;try{J=4,tc(e,t,n,r)}finally{J=s,mr.transition=i}}function tc(e,t,n,r){if(Vi){var s=Qa(e,t,n,r);if(s===null)Jo(e,t,r,Ii,n),Pu(e,r);else if(fy(s,e,t,n,r))r.stopPropagation();else if(Pu(e,r),t&4&&-1<dy.indexOf(e)){for(;s!==null;){var i=Fs(s);if(i!==null&&Qm(i),i=Qa(e,t,n,r),i===null&&Jo(e,t,r,Ii,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Jo(e,t,r,null,n)}}var Ii=null;function Qa(e,t,n,r){if(Ii=null,e=Xl(r),e=Mn(e),e!==null)if(t=Hn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Om(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ii=e,null}function Zm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ny()){case Zl:return 1;case $m:return 4;case Li:case ry:return 16;case Hm:return 536870912;default:return 16}default:return 16}}var qt=null,nc=null,yi=null;function Jm(){if(yi)return yi;var e,t=nc,n=t.length,r,s="value"in qt?qt.value:qt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return yi=s.slice(e,1<r?1-r:void 0)}function xi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xs(){return!0}function Tu(){return!1}function et(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xs:Tu,this.isPropagationStopped=Tu,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),t}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rc=et(Cr),Is=de({},Cr,{view:0,detail:0}),gy=et(Is),Ho,Wo,Fr,mo=de({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fr&&(Fr&&e.type==="mousemove"?(Ho=e.screenX-Fr.screenX,Wo=e.screenY-Fr.screenY):Wo=Ho=0,Fr=e),Ho)},movementY:function(e){return"movementY"in e?e.movementY:Wo}}),Eu=et(mo),yy=de({},mo,{dataTransfer:0}),xy=et(yy),vy=de({},Is,{relatedTarget:0}),Go=et(vy),wy=de({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),by=et(wy),jy=de({},Cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sy=et(jy),Ny=de({},Cr,{data:0}),Au=et(Ny),ky={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Py={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ty(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cy[e])?!!t[e]:!1}function sc(){return Ty}var Ey=de({},Is,{key:function(e){if(e.key){var t=ky[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Py[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sc,charCode:function(e){return e.type==="keypress"?xi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ay=et(Ey),My=de({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mu=et(My),Dy=de({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sc}),Ly=et(Dy),Ry=de({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vy=et(Ry),Iy=de({},mo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fy=et(Iy),Uy=[9,13,27,32],ic=Vt&&"CompositionEvent"in window,es=null;Vt&&"documentMode"in document&&(es=document.documentMode);var Oy=Vt&&"TextEvent"in window&&!es,eh=Vt&&(!ic||es&&8<es&&11>=es),Du=String.fromCharCode(32),Lu=!1;function th(e,t){switch(e){case"keyup":return Uy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yn=!1;function By(e,t){switch(e){case"compositionend":return nh(t);case"keypress":return t.which!==32?null:(Lu=!0,Du);case"textInput":return e=t.data,e===Du&&Lu?null:e;default:return null}}function _y(e,t){if(Yn)return e==="compositionend"||!ic&&th(e,t)?(e=Jm(),yi=nc=qt=null,Yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eh&&t.locale!=="ko"?null:t.data;default:return null}}var zy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zy[e.type]:t==="textarea"}function rh(e,t,n,r){Rm(r),t=Fi(t,"onChange"),0<t.length&&(n=new rc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ts=null,xs=null;function $y(e){hh(e,0)}function ho(e){var t=Jn(e);if(Cm(t))return e}function Hy(e,t){if(e==="change")return t}var sh=!1;if(Vt){var Qo;if(Vt){var Ko="oninput"in document;if(!Ko){var Vu=document.createElement("div");Vu.setAttribute("oninput","return;"),Ko=typeof Vu.oninput=="function"}Qo=Ko}else Qo=!1;sh=Qo&&(!document.documentMode||9<document.documentMode)}function Iu(){ts&&(ts.detachEvent("onpropertychange",ih),xs=ts=null)}function ih(e){if(e.propertyName==="value"&&ho(xs)){var t=[];rh(t,xs,e,Xl(e)),Um($y,t)}}function Wy(e,t,n){e==="focusin"?(Iu(),ts=t,xs=n,ts.attachEvent("onpropertychange",ih)):e==="focusout"&&Iu()}function Gy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ho(xs)}function Qy(e,t){if(e==="click")return ho(t)}function Ky(e,t){if(e==="input"||e==="change")return ho(t)}function qy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yt=typeof Object.is=="function"?Object.is:qy;function vs(e,t){if(yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ea.call(t,s)||!yt(e[s],t[s]))return!1}return!0}function Fu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uu(e,t){var n=Fu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fu(n)}}function oh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?oh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ah(){for(var e=window,t=Ai();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ai(e.document)}return t}function oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Yy(e){var t=ah(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&oh(n.ownerDocument.documentElement,n)){if(r!==null&&oc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Uu(n,i);var a=Uu(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xy=Vt&&"documentMode"in document&&11>=document.documentMode,Xn=null,Ka=null,ns=null,qa=!1;function Ou(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qa||Xn==null||Xn!==Ai(r)||(r=Xn,"selectionStart"in r&&oc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ns&&vs(ns,r)||(ns=r,r=Fi(Ka,"onSelect"),0<r.length&&(t=new rc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xn)))}function Zs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zn={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionend:Zs("Transition","TransitionEnd")},qo={},lh={};Vt&&(lh=document.createElement("div").style,"AnimationEvent"in window||(delete Zn.animationend.animation,delete Zn.animationiteration.animation,delete Zn.animationstart.animation),"TransitionEvent"in window||delete Zn.transitionend.transition);function po(e){if(qo[e])return qo[e];if(!Zn[e])return e;var t=Zn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in lh)return qo[e]=t[n];return e}var ch=po("animationend"),uh=po("animationiteration"),dh=po("animationstart"),fh=po("transitionend"),mh=new Map,Bu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mn(e,t){mh.set(e,t),$n(t,[e])}for(var Yo=0;Yo<Bu.length;Yo++){var Xo=Bu[Yo],Zy=Xo.toLowerCase(),Jy=Xo[0].toUpperCase()+Xo.slice(1);mn(Zy,"on"+Jy)}mn(ch,"onAnimationEnd");mn(uh,"onAnimationIteration");mn(dh,"onAnimationStart");mn("dblclick","onDoubleClick");mn("focusin","onFocus");mn("focusout","onBlur");mn(fh,"onTransitionEnd");gr("onMouseEnter",["mouseout","mouseover"]);gr("onMouseLeave",["mouseout","mouseover"]);gr("onPointerEnter",["pointerout","pointerover"]);gr("onPointerLeave",["pointerout","pointerover"]);$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$n("onBeforeInput",["compositionend","keypress","textInput","paste"]);$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ex=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yr));function _u(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Z0(r,t,void 0,e),e.currentTarget=null}function hh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;_u(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;_u(s,l,u),i=c}}}if(Di)throw e=Ha,Di=!1,Ha=null,e}function ie(e,t){var n=t[el];n===void 0&&(n=t[el]=new Set);var r=e+"__bubble";n.has(r)||(ph(t,e,2,!1),n.add(r))}function Zo(e,t,n){var r=0;t&&(r|=4),ph(n,e,r,t)}var Js="_reactListening"+Math.random().toString(36).slice(2);function ws(e){if(!e[Js]){e[Js]=!0,jm.forEach(function(n){n!=="selectionchange"&&(ex.has(n)||Zo(n,!1,e),Zo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Js]||(t[Js]=!0,Zo("selectionchange",!1,t))}}function ph(e,t,n,r){switch(Zm(t)){case 1:var s=hy;break;case 4:s=py;break;default:s=tc}n=s.bind(null,t,n,e),s=void 0,!$a||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Jo(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Mn(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}Um(function(){var u=i,f=Xl(n),d=[];e:{var m=mh.get(e);if(m!==void 0){var y=rc,v=e;switch(e){case"keypress":if(xi(n)===0)break e;case"keydown":case"keyup":y=Ay;break;case"focusin":v="focus",y=Go;break;case"focusout":v="blur",y=Go;break;case"beforeblur":case"afterblur":y=Go;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Eu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=xy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Ly;break;case ch:case uh:case dh:y=by;break;case fh:y=Vy;break;case"scroll":y=gy;break;case"wheel":y=Fy;break;case"copy":case"cut":case"paste":y=Sy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Mu}var w=(t&4)!==0,j=!w&&e==="scroll",g=w?m!==null?m+"Capture":null:m;w=[];for(var p=u,h;p!==null;){h=p;var x=h.stateNode;if(h.tag===5&&x!==null&&(h=x,g!==null&&(x=hs(p,g),x!=null&&w.push(bs(p,x,h)))),j)break;p=p.return}0<w.length&&(m=new y(m,v,null,n,f),d.push({event:m,listeners:w}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==_a&&(v=n.relatedTarget||n.fromElement)&&(Mn(v)||v[It]))break e;if((y||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?Mn(v):null,v!==null&&(j=Hn(v),v!==j||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(w=Eu,x="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(w=Mu,x="onPointerLeave",g="onPointerEnter",p="pointer"),j=y==null?m:Jn(y),h=v==null?m:Jn(v),m=new w(x,p+"leave",y,n,f),m.target=j,m.relatedTarget=h,x=null,Mn(f)===u&&(w=new w(g,p+"enter",v,n,f),w.target=h,w.relatedTarget=j,x=w),j=x,y&&v)t:{for(w=y,g=v,p=0,h=w;h;h=Qn(h))p++;for(h=0,x=g;x;x=Qn(x))h++;for(;0<p-h;)w=Qn(w),p--;for(;0<h-p;)g=Qn(g),h--;for(;p--;){if(w===g||g!==null&&w===g.alternate)break t;w=Qn(w),g=Qn(g)}w=null}else w=null;y!==null&&zu(d,m,y,w,!1),v!==null&&j!==null&&zu(d,j,v,w,!0)}}e:{if(m=u?Jn(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var k=Hy;else if(Ru(m))if(sh)k=Ky;else{k=Gy;var P=Wy}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=Qy);if(k&&(k=k(e,u))){rh(d,k,n,f);break e}P&&P(e,m,u),e==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&Ia(m,"number",m.value)}switch(P=u?Jn(u):window,e){case"focusin":(Ru(P)||P.contentEditable==="true")&&(Xn=P,Ka=u,ns=null);break;case"focusout":ns=Ka=Xn=null;break;case"mousedown":qa=!0;break;case"contextmenu":case"mouseup":case"dragend":qa=!1,Ou(d,n,f);break;case"selectionchange":if(Xy)break;case"keydown":case"keyup":Ou(d,n,f)}var A;if(ic)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Yn?th(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(eh&&n.locale!=="ko"&&(Yn||N!=="onCompositionStart"?N==="onCompositionEnd"&&Yn&&(A=Jm()):(qt=f,nc="value"in qt?qt.value:qt.textContent,Yn=!0)),P=Fi(u,N),0<P.length&&(N=new Au(N,e,null,n,f),d.push({event:N,listeners:P}),A?N.data=A:(A=nh(n),A!==null&&(N.data=A)))),(A=Oy?By(e,n):_y(e,n))&&(u=Fi(u,"onBeforeInput"),0<u.length&&(f=new Au("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=A))}hh(d,t)})}function bs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=hs(e,n),i!=null&&r.unshift(bs(e,i,s)),i=hs(e,t),i!=null&&r.push(bs(e,i,s))),e=e.return}return r}function Qn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zu(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=hs(n,i),c!=null&&a.unshift(bs(n,c,l))):s||(c=hs(n,i),c!=null&&a.push(bs(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var tx=/\r\n?/g,nx=/\u0000|\uFFFD/g;function $u(e){return(typeof e=="string"?e:""+e).replace(tx,`
`).replace(nx,"")}function ei(e,t,n){if(t=$u(t),$u(e)!==t&&n)throw Error(I(425))}function Ui(){}var Ya=null,Xa=null;function Za(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ja=typeof setTimeout=="function"?setTimeout:void 0,rx=typeof clearTimeout=="function"?clearTimeout:void 0,Hu=typeof Promise=="function"?Promise:void 0,sx=typeof queueMicrotask=="function"?queueMicrotask:typeof Hu<"u"?function(e){return Hu.resolve(null).then(e).catch(ix)}:Ja;function ix(e){setTimeout(function(){throw e})}function ea(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ys(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ys(t)}function tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Tr=Math.random().toString(36).slice(2),St="__reactFiber$"+Tr,js="__reactProps$"+Tr,It="__reactContainer$"+Tr,el="__reactEvents$"+Tr,ox="__reactListeners$"+Tr,ax="__reactHandles$"+Tr;function Mn(e){var t=e[St];if(t)return t;for(var n=e.parentNode;n;){if(t=n[It]||n[St]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wu(e);e!==null;){if(n=e[St])return n;e=Wu(e)}return t}e=n,n=e.parentNode}return null}function Fs(e){return e=e[St]||e[It],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function go(e){return e[js]||null}var tl=[],er=-1;function hn(e){return{current:e}}function oe(e){0>er||(e.current=tl[er],tl[er]=null,er--)}function ne(e,t){er++,tl[er]=e.current,e.current=t}var un={},Le=hn(un),_e=hn(!1),Un=un;function yr(e,t){var n=e.type.contextTypes;if(!n)return un;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ze(e){return e=e.childContextTypes,e!=null}function Oi(){oe(_e),oe(Le)}function Gu(e,t,n){if(Le.current!==un)throw Error(I(168));ne(Le,t),ne(_e,n)}function gh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(I(108,W0(e)||"Unknown",s));return de({},n,r)}function Bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||un,Un=Le.current,ne(Le,e),ne(_e,_e.current),!0}function Qu(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=gh(e,t,Un),r.__reactInternalMemoizedMergedChildContext=e,oe(_e),oe(Le),ne(Le,e)):oe(_e),ne(_e,n)}var Tt=null,yo=!1,ta=!1;function yh(e){Tt===null?Tt=[e]:Tt.push(e)}function lx(e){yo=!0,yh(e)}function pn(){if(!ta&&Tt!==null){ta=!0;var e=0,t=J;try{var n=Tt;for(J=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Tt=null,yo=!1}catch(s){throw Tt!==null&&(Tt=Tt.slice(e+1)),zm(Zl,pn),s}finally{J=t,ta=!1}}return null}var tr=[],nr=0,_i=null,zi=0,st=[],it=0,On=null,Et=1,At="";function wn(e,t){tr[nr++]=zi,tr[nr++]=_i,_i=e,zi=t}function xh(e,t,n){st[it++]=Et,st[it++]=At,st[it++]=On,On=e;var r=Et;e=At;var s=32-pt(r)-1;r&=~(1<<s),n+=1;var i=32-pt(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Et=1<<32-pt(t)+s|n<<s|r,At=i+e}else Et=1<<i|n<<s|r,At=e}function ac(e){e.return!==null&&(wn(e,1),xh(e,1,0))}function lc(e){for(;e===_i;)_i=tr[--nr],tr[nr]=null,zi=tr[--nr],tr[nr]=null;for(;e===On;)On=st[--it],st[it]=null,At=st[--it],st[it]=null,Et=st[--it],st[it]=null}var qe=null,Ke=null,ae=!1,ht=null;function vh(e,t){var n=ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ku(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qe=e,Ke=tn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qe=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=On!==null?{id:Et,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qe=e,Ke=null,!0):!1;default:return!1}}function nl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rl(e){if(ae){var t=Ke;if(t){var n=t;if(!Ku(e,t)){if(nl(e))throw Error(I(418));t=tn(n.nextSibling);var r=qe;t&&Ku(e,t)?vh(r,n):(e.flags=e.flags&-4097|2,ae=!1,qe=e)}}else{if(nl(e))throw Error(I(418));e.flags=e.flags&-4097|2,ae=!1,qe=e}}}function qu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qe=e}function ti(e){if(e!==qe)return!1;if(!ae)return qu(e),ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Za(e.type,e.memoizedProps)),t&&(t=Ke)){if(nl(e))throw wh(),Error(I(418));for(;t;)vh(e,t),t=tn(t.nextSibling)}if(qu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ke=tn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=qe?tn(e.stateNode.nextSibling):null;return!0}function wh(){for(var e=Ke;e;)e=tn(e.nextSibling)}function xr(){Ke=qe=null,ae=!1}function cc(e){ht===null?ht=[e]:ht.push(e)}var cx=Bt.ReactCurrentBatchConfig;function Ur(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function ni(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yu(e){var t=e._init;return t(e._payload)}function bh(e){function t(g,p){if(e){var h=g.deletions;h===null?(g.deletions=[p],g.flags|=16):h.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=on(g,p),g.index=0,g.sibling=null,g}function i(g,p,h){return g.index=h,e?(h=g.alternate,h!==null?(h=h.index,h<p?(g.flags|=2,p):h):(g.flags|=2,p)):(g.flags|=1048576,p)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,p,h,x){return p===null||p.tag!==6?(p=la(h,g.mode,x),p.return=g,p):(p=s(p,h),p.return=g,p)}function c(g,p,h,x){var k=h.type;return k===qn?f(g,p,h.props.children,x,h.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===$t&&Yu(k)===p.type)?(x=s(p,h.props),x.ref=Ur(g,p,h),x.return=g,x):(x=ki(h.type,h.key,h.props,null,g.mode,x),x.ref=Ur(g,p,h),x.return=g,x)}function u(g,p,h,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==h.containerInfo||p.stateNode.implementation!==h.implementation?(p=ca(h,g.mode,x),p.return=g,p):(p=s(p,h.children||[]),p.return=g,p)}function f(g,p,h,x,k){return p===null||p.tag!==7?(p=In(h,g.mode,x,k),p.return=g,p):(p=s(p,h),p.return=g,p)}function d(g,p,h){if(typeof p=="string"&&p!==""||typeof p=="number")return p=la(""+p,g.mode,h),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ws:return h=ki(p.type,p.key,p.props,null,g.mode,h),h.ref=Ur(g,null,p),h.return=g,h;case Kn:return p=ca(p,g.mode,h),p.return=g,p;case $t:var x=p._init;return d(g,x(p._payload),h)}if(Kr(p)||Lr(p))return p=In(p,g.mode,h,null),p.return=g,p;ni(g,p)}return null}function m(g,p,h,x){var k=p!==null?p.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return k!==null?null:l(g,p,""+h,x);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ws:return h.key===k?c(g,p,h,x):null;case Kn:return h.key===k?u(g,p,h,x):null;case $t:return k=h._init,m(g,p,k(h._payload),x)}if(Kr(h)||Lr(h))return k!==null?null:f(g,p,h,x,null);ni(g,h)}return null}function y(g,p,h,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(h)||null,l(p,g,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ws:return g=g.get(x.key===null?h:x.key)||null,c(p,g,x,k);case Kn:return g=g.get(x.key===null?h:x.key)||null,u(p,g,x,k);case $t:var P=x._init;return y(g,p,h,P(x._payload),k)}if(Kr(x)||Lr(x))return g=g.get(h)||null,f(p,g,x,k,null);ni(p,x)}return null}function v(g,p,h,x){for(var k=null,P=null,A=p,N=p=0,C=null;A!==null&&N<h.length;N++){A.index>N?(C=A,A=null):C=A.sibling;var V=m(g,A,h[N],x);if(V===null){A===null&&(A=C);break}e&&A&&V.alternate===null&&t(g,A),p=i(V,p,N),P===null?k=V:P.sibling=V,P=V,A=C}if(N===h.length)return n(g,A),ae&&wn(g,N),k;if(A===null){for(;N<h.length;N++)A=d(g,h[N],x),A!==null&&(p=i(A,p,N),P===null?k=A:P.sibling=A,P=A);return ae&&wn(g,N),k}for(A=r(g,A);N<h.length;N++)C=y(A,g,N,h[N],x),C!==null&&(e&&C.alternate!==null&&A.delete(C.key===null?N:C.key),p=i(C,p,N),P===null?k=C:P.sibling=C,P=C);return e&&A.forEach(function(_){return t(g,_)}),ae&&wn(g,N),k}function w(g,p,h,x){var k=Lr(h);if(typeof k!="function")throw Error(I(150));if(h=k.call(h),h==null)throw Error(I(151));for(var P=k=null,A=p,N=p=0,C=null,V=h.next();A!==null&&!V.done;N++,V=h.next()){A.index>N?(C=A,A=null):C=A.sibling;var _=m(g,A,V.value,x);if(_===null){A===null&&(A=C);break}e&&A&&_.alternate===null&&t(g,A),p=i(_,p,N),P===null?k=_:P.sibling=_,P=_,A=C}if(V.done)return n(g,A),ae&&wn(g,N),k;if(A===null){for(;!V.done;N++,V=h.next())V=d(g,V.value,x),V!==null&&(p=i(V,p,N),P===null?k=V:P.sibling=V,P=V);return ae&&wn(g,N),k}for(A=r(g,A);!V.done;N++,V=h.next())V=y(A,g,N,V.value,x),V!==null&&(e&&V.alternate!==null&&A.delete(V.key===null?N:V.key),p=i(V,p,N),P===null?k=V:P.sibling=V,P=V);return e&&A.forEach(function(Y){return t(g,Y)}),ae&&wn(g,N),k}function j(g,p,h,x){if(typeof h=="object"&&h!==null&&h.type===qn&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Ws:e:{for(var k=h.key,P=p;P!==null;){if(P.key===k){if(k=h.type,k===qn){if(P.tag===7){n(g,P.sibling),p=s(P,h.props.children),p.return=g,g=p;break e}}else if(P.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===$t&&Yu(k)===P.type){n(g,P.sibling),p=s(P,h.props),p.ref=Ur(g,P,h),p.return=g,g=p;break e}n(g,P);break}else t(g,P);P=P.sibling}h.type===qn?(p=In(h.props.children,g.mode,x,h.key),p.return=g,g=p):(x=ki(h.type,h.key,h.props,null,g.mode,x),x.ref=Ur(g,p,h),x.return=g,g=x)}return a(g);case Kn:e:{for(P=h.key;p!==null;){if(p.key===P)if(p.tag===4&&p.stateNode.containerInfo===h.containerInfo&&p.stateNode.implementation===h.implementation){n(g,p.sibling),p=s(p,h.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=ca(h,g.mode,x),p.return=g,g=p}return a(g);case $t:return P=h._init,j(g,p,P(h._payload),x)}if(Kr(h))return v(g,p,h,x);if(Lr(h))return w(g,p,h,x);ni(g,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,h),p.return=g,g=p):(n(g,p),p=la(h,g.mode,x),p.return=g,g=p),a(g)):n(g,p)}return j}var vr=bh(!0),jh=bh(!1),$i=hn(null),Hi=null,rr=null,uc=null;function dc(){uc=rr=Hi=null}function fc(e){var t=$i.current;oe($i),e._currentValue=t}function sl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function hr(e,t){Hi=e,uc=rr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Be=!0),e.firstContext=null)}function lt(e){var t=e._currentValue;if(uc!==e)if(e={context:e,memoizedValue:t,next:null},rr===null){if(Hi===null)throw Error(I(308));rr=e,Hi.dependencies={lanes:0,firstContext:e}}else rr=rr.next=e;return t}var Dn=null;function mc(e){Dn===null?Dn=[e]:Dn.push(e)}function Sh(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,mc(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ft(e,r)}function Ft(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ht=!1;function hc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ft(e,n)}return s=r.interleaved,s===null?(t.next=t,mc(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ft(e,n)}function vi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Jl(e,n)}}function Xu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wi(e,t,n,r){var s=e.updateQueue;Ht=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;a=0,f=u=c=null,l=i;do{var m=l.lane,y=l.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,w=l;switch(m=t,y=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){d=v.call(y,d,m);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,m=typeof v=="function"?v.call(y,d,m):v,m==null)break e;d=de({},d,m);break e;case 2:Ht=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=y,c=d):f=f.next=y,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(1);if(f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);_n|=a,e.lanes=a,e.memoizedState=d}}function Zu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(I(191,s));s.call(r)}}}var Us={},kt=hn(Us),Ss=hn(Us),Ns=hn(Us);function Ln(e){if(e===Us)throw Error(I(174));return e}function pc(e,t){switch(ne(Ns,t),ne(Ss,e),ne(kt,Us),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ua(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ua(t,e)}oe(kt),ne(kt,t)}function wr(){oe(kt),oe(Ss),oe(Ns)}function kh(e){Ln(Ns.current);var t=Ln(kt.current),n=Ua(t,e.type);t!==n&&(ne(Ss,e),ne(kt,n))}function gc(e){Ss.current===e&&(oe(kt),oe(Ss))}var le=hn(0);function Gi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function yc(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var wi=Bt.ReactCurrentDispatcher,ra=Bt.ReactCurrentBatchConfig,Bn=0,ue=null,ve=null,je=null,Qi=!1,rs=!1,ks=0,ux=0;function Ee(){throw Error(I(321))}function xc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yt(e[n],t[n]))return!1;return!0}function vc(e,t,n,r,s,i){if(Bn=i,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wi.current=e===null||e.memoizedState===null?hx:px,e=n(r,s),rs){i=0;do{if(rs=!1,ks=0,25<=i)throw Error(I(301));i+=1,je=ve=null,t.updateQueue=null,wi.current=gx,e=n(r,s)}while(rs)}if(wi.current=Ki,t=ve!==null&&ve.next!==null,Bn=0,je=ve=ue=null,Qi=!1,t)throw Error(I(300));return e}function wc(){var e=ks!==0;return ks=0,e}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?ue.memoizedState=je=e:je=je.next=e,je}function ct(){if(ve===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=je===null?ue.memoizedState:je.next;if(t!==null)je=t,ve=e;else{if(e===null)throw Error(I(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},je===null?ue.memoizedState=je=e:je=je.next=e}return je}function Ps(e,t){return typeof t=="function"?t(e):t}function sa(e){var t=ct(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=ve,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var f=u.lane;if((Bn&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,a=r):c=c.next=d,ue.lanes|=f,_n|=f}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,yt(r,t.memoizedState)||(Be=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ue.lanes|=i,_n|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ia(e){var t=ct(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);yt(i,t.memoizedState)||(Be=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ph(){}function Ch(e,t){var n=ue,r=ct(),s=t(),i=!yt(r.memoizedState,s);if(i&&(r.memoizedState=s,Be=!0),r=r.queue,bc(Ah.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,Cs(9,Eh.bind(null,n,r,s,t),void 0,null),Se===null)throw Error(I(349));Bn&30||Th(n,t,s)}return s}function Th(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Eh(e,t,n,r){t.value=n,t.getSnapshot=r,Mh(t)&&Dh(e)}function Ah(e,t,n){return n(function(){Mh(t)&&Dh(e)})}function Mh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yt(e,n)}catch{return!0}}function Dh(e){var t=Ft(e,1);t!==null&&gt(t,e,1,-1)}function Ju(e){var t=bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:e},t.queue=e,e=e.dispatch=mx.bind(null,ue,e),[t.memoizedState,e]}function Cs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Lh(){return ct().memoizedState}function bi(e,t,n,r){var s=bt();ue.flags|=e,s.memoizedState=Cs(1|t,n,void 0,r===void 0?null:r)}function xo(e,t,n,r){var s=ct();r=r===void 0?null:r;var i=void 0;if(ve!==null){var a=ve.memoizedState;if(i=a.destroy,r!==null&&xc(r,a.deps)){s.memoizedState=Cs(t,n,i,r);return}}ue.flags|=e,s.memoizedState=Cs(1|t,n,i,r)}function ed(e,t){return bi(8390656,8,e,t)}function bc(e,t){return xo(2048,8,e,t)}function Rh(e,t){return xo(4,2,e,t)}function Vh(e,t){return xo(4,4,e,t)}function Ih(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fh(e,t,n){return n=n!=null?n.concat([e]):null,xo(4,4,Ih.bind(null,t,e),n)}function jc(){}function Uh(e,t){var n=ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Oh(e,t){var n=ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Bh(e,t,n){return Bn&21?(yt(n,t)||(n=Wm(),ue.lanes|=n,_n|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Be=!0),e.memoizedState=n)}function dx(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var r=ra.transition;ra.transition={};try{e(!1),t()}finally{J=n,ra.transition=r}}function _h(){return ct().memoizedState}function fx(e,t,n){var r=sn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zh(e))$h(t,n);else if(n=Sh(e,t,n,r),n!==null){var s=Ie();gt(n,e,r,s),Hh(n,t,r)}}function mx(e,t,n){var r=sn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zh(e))$h(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,yt(l,a)){var c=t.interleaved;c===null?(s.next=s,mc(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Sh(e,t,s,r),n!==null&&(s=Ie(),gt(n,e,r,s),Hh(n,t,r))}}function zh(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function $h(e,t){rs=Qi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Jl(e,n)}}var Ki={readContext:lt,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},hx={readContext:lt,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:ed,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,bi(4194308,4,Ih.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bi(4194308,4,e,t)},useInsertionEffect:function(e,t){return bi(4,2,e,t)},useMemo:function(e,t){var n=bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fx.bind(null,ue,e),[r.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:Ju,useDebugValue:jc,useDeferredValue:function(e){return bt().memoizedState=e},useTransition:function(){var e=Ju(!1),t=e[0];return e=dx.bind(null,e[1]),bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ue,s=bt();if(ae){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),Se===null)throw Error(I(349));Bn&30||Th(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,ed(Ah.bind(null,r,i,e),[e]),r.flags|=2048,Cs(9,Eh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=bt(),t=Se.identifierPrefix;if(ae){var n=At,r=Et;n=(r&~(1<<32-pt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ks++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ux++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},px={readContext:lt,useCallback:Uh,useContext:lt,useEffect:bc,useImperativeHandle:Fh,useInsertionEffect:Rh,useLayoutEffect:Vh,useMemo:Oh,useReducer:sa,useRef:Lh,useState:function(){return sa(Ps)},useDebugValue:jc,useDeferredValue:function(e){var t=ct();return Bh(t,ve.memoizedState,e)},useTransition:function(){var e=sa(Ps)[0],t=ct().memoizedState;return[e,t]},useMutableSource:Ph,useSyncExternalStore:Ch,useId:_h,unstable_isNewReconciler:!1},gx={readContext:lt,useCallback:Uh,useContext:lt,useEffect:bc,useImperativeHandle:Fh,useInsertionEffect:Rh,useLayoutEffect:Vh,useMemo:Oh,useReducer:ia,useRef:Lh,useState:function(){return ia(Ps)},useDebugValue:jc,useDeferredValue:function(e){var t=ct();return ve===null?t.memoizedState=e:Bh(t,ve.memoizedState,e)},useTransition:function(){var e=ia(Ps)[0],t=ct().memoizedState;return[e,t]},useMutableSource:Ph,useSyncExternalStore:Ch,useId:_h,unstable_isNewReconciler:!1};function ft(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function il(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:de({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vo={isMounted:function(e){return(e=e._reactInternals)?Hn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ie(),s=sn(e),i=Dt(r,s);i.payload=t,n!=null&&(i.callback=n),t=nn(e,i,s),t!==null&&(gt(t,e,s,r),vi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ie(),s=sn(e),i=Dt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=nn(e,i,s),t!==null&&(gt(t,e,s,r),vi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ie(),r=sn(e),s=Dt(n,r);s.tag=2,t!=null&&(s.callback=t),t=nn(e,s,r),t!==null&&(gt(t,e,r,n),vi(t,e,r))}};function td(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!vs(n,r)||!vs(s,i):!0}function Wh(e,t,n){var r=!1,s=un,i=t.contextType;return typeof i=="object"&&i!==null?i=lt(i):(s=ze(t)?Un:Le.current,r=t.contextTypes,i=(r=r!=null)?yr(e,s):un),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function nd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function ol(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},hc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=lt(i):(i=ze(t)?Un:Le.current,s.context=yr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(il(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&vo.enqueueReplaceState(s,s.state,null),Wi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function br(e,t){try{var n="",r=t;do n+=H0(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function oa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function al(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var yx=typeof WeakMap=="function"?WeakMap:Map;function Gh(e,t,n){n=Dt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yi||(Yi=!0,yl=r),al(e,t)},n}function Qh(e,t,n){n=Dt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){al(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){al(e,t),typeof r!="function"&&(rn===null?rn=new Set([this]):rn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function rd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new yx;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Mx.bind(null,e,t,n),t.then(e,e))}function sd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function id(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dt(-1,1),t.tag=2,nn(n,t,1))),n.lanes|=1),e)}var xx=Bt.ReactCurrentOwner,Be=!1;function Ve(e,t,n,r){t.child=e===null?jh(t,null,n,r):vr(t,e.child,n,r)}function od(e,t,n,r,s){n=n.render;var i=t.ref;return hr(t,s),r=vc(e,t,n,r,i,s),n=wc(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ut(e,t,s)):(ae&&n&&ac(t),t.flags|=1,Ve(e,t,r,s),t.child)}function ad(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Ac(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Kh(e,t,i,r,s)):(e=ki(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:vs,n(a,r)&&e.ref===t.ref)return Ut(e,t,s)}return t.flags|=1,e=on(i,r),e.ref=t.ref,e.return=t,t.child=e}function Kh(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(vs(i,r)&&e.ref===t.ref)if(Be=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,Ut(e,t,s)}return ll(e,t,n,r,s)}function qh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(ir,Qe),Qe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ne(ir,Qe),Qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ne(ir,Qe),Qe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ne(ir,Qe),Qe|=r;return Ve(e,t,s,n),t.child}function Yh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ll(e,t,n,r,s){var i=ze(n)?Un:Le.current;return i=yr(t,i),hr(t,s),n=vc(e,t,n,r,i,s),r=wc(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ut(e,t,s)):(ae&&r&&ac(t),t.flags|=1,Ve(e,t,n,s),t.child)}function ld(e,t,n,r,s){if(ze(n)){var i=!0;Bi(t)}else i=!1;if(hr(t,s),t.stateNode===null)ji(e,t),Wh(t,n,r),ol(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=lt(u):(u=ze(n)?Un:Le.current,u=yr(t,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&nd(t,a,r,u),Ht=!1;var m=t.memoizedState;a.state=m,Wi(t,r,a,s),c=t.memoizedState,l!==r||m!==c||_e.current||Ht?(typeof f=="function"&&(il(t,n,f,r),c=t.memoizedState),(l=Ht||td(t,n,l,r,m,c,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Nh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ft(t.type,l),a.props=u,d=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=lt(c):(c=ze(n)?Un:Le.current,c=yr(t,c));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==d||m!==c)&&nd(t,a,r,c),Ht=!1,m=t.memoizedState,a.state=m,Wi(t,r,a,s);var v=t.memoizedState;l!==d||m!==v||_e.current||Ht?(typeof y=="function"&&(il(t,n,y,r),v=t.memoizedState),(u=Ht||td(t,n,u,r,m,v,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return cl(e,t,n,r,i,s)}function cl(e,t,n,r,s,i){Yh(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Qu(t,n,!1),Ut(e,t,i);r=t.stateNode,xx.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=vr(t,e.child,null,i),t.child=vr(t,null,l,i)):Ve(e,t,l,i),t.memoizedState=r.state,s&&Qu(t,n,!0),t.child}function Xh(e){var t=e.stateNode;t.pendingContext?Gu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gu(e,t.context,!1),pc(e,t.containerInfo)}function cd(e,t,n,r,s){return xr(),cc(s),t.flags|=256,Ve(e,t,n,r),t.child}var ul={dehydrated:null,treeContext:null,retryLane:0};function dl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Zh(e,t,n){var r=t.pendingProps,s=le.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ne(le,s&1),e===null)return rl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=jo(a,r,0,null),e=In(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=dl(n),t.memoizedState=ul,e):Sc(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return vx(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=on(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=on(l,i):(i=In(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?dl(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=ul,r}return i=e.child,e=i.sibling,r=on(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Sc(e,t){return t=jo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ri(e,t,n,r){return r!==null&&cc(r),vr(t,e.child,null,n),e=Sc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vx(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=oa(Error(I(422))),ri(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=jo({mode:"visible",children:r.children},s,0,null),i=In(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&vr(t,e.child,null,a),t.child.memoizedState=dl(a),t.memoizedState=ul,i);if(!(t.mode&1))return ri(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(I(419)),r=oa(i,r,void 0),ri(e,t,a,r)}if(l=(a&e.childLanes)!==0,Be||l){if(r=Se,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ft(e,s),gt(r,e,s,-1))}return Ec(),r=oa(Error(I(421))),ri(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Dx.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ke=tn(s.nextSibling),qe=t,ae=!0,ht=null,e!==null&&(st[it++]=Et,st[it++]=At,st[it++]=On,Et=e.id,At=e.overflow,On=t),t=Sc(t,r.children),t.flags|=4096,t)}function ud(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),sl(e.return,t,n)}function aa(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Jh(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ve(e,t,r.children,n),r=le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ud(e,n,t);else if(e.tag===19)ud(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ne(le,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Gi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),aa(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Gi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}aa(t,!0,n,null,i);break;case"together":aa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ji(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ut(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),_n|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=on(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=on(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wx(e,t,n){switch(t.tag){case 3:Xh(t),xr();break;case 5:kh(t);break;case 1:ze(t.type)&&Bi(t);break;case 4:pc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ne($i,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ne(le,le.current&1),t.flags|=128,null):n&t.child.childLanes?Zh(e,t,n):(ne(le,le.current&1),e=Ut(e,t,n),e!==null?e.sibling:null);ne(le,le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Jh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ne(le,le.current),r)break;return null;case 22:case 23:return t.lanes=0,qh(e,t,n)}return Ut(e,t,n)}var ep,fl,tp,np;ep=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fl=function(){};tp=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ln(kt.current);var i=null;switch(n){case"input":s=Ra(e,s),r=Ra(e,r),i=[];break;case"select":s=de({},s,{value:void 0}),r=de({},r,{value:void 0}),i=[];break;case"textarea":s=Fa(e,s),r=Fa(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ui)}Oa(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ie("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};np=function(e,t,n,r){n!==r&&(t.flags|=4)};function Or(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bx(e,t,n){var r=t.pendingProps;switch(lc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return ze(t.type)&&Oi(),Ae(t),null;case 3:return r=t.stateNode,wr(),oe(_e),oe(Le),yc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ti(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ht!==null&&(wl(ht),ht=null))),fl(e,t),Ae(t),null;case 5:gc(t);var s=Ln(Ns.current);if(n=t.type,e!==null&&t.stateNode!=null)tp(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return Ae(t),null}if(e=Ln(kt.current),ti(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[St]=t,r[js]=i,e=(t.mode&1)!==0,n){case"dialog":ie("cancel",r),ie("close",r);break;case"iframe":case"object":case"embed":ie("load",r);break;case"video":case"audio":for(s=0;s<Yr.length;s++)ie(Yr[s],r);break;case"source":ie("error",r);break;case"img":case"image":case"link":ie("error",r),ie("load",r);break;case"details":ie("toggle",r);break;case"input":vu(r,i),ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ie("invalid",r);break;case"textarea":bu(r,i),ie("invalid",r)}Oa(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ei(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ei(r.textContent,l,e),s=["children",""+l]):fs.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ie("scroll",r)}switch(n){case"input":Gs(r),wu(r,i,!0);break;case"textarea":Gs(r),ju(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ui)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Am(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[St]=t,e[js]=r,ep(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ba(n,r),n){case"dialog":ie("cancel",e),ie("close",e),s=r;break;case"iframe":case"object":case"embed":ie("load",e),s=r;break;case"video":case"audio":for(s=0;s<Yr.length;s++)ie(Yr[s],e);s=r;break;case"source":ie("error",e),s=r;break;case"img":case"image":case"link":ie("error",e),ie("load",e),s=r;break;case"details":ie("toggle",e),s=r;break;case"input":vu(e,r),s=Ra(e,r),ie("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=de({},r,{value:void 0}),ie("invalid",e);break;case"textarea":bu(e,r),s=Fa(e,r),ie("invalid",e);break;default:s=r}Oa(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Lm(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Mm(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ms(e,c):typeof c=="number"&&ms(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fs.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ie("scroll",e):c!=null&&Ql(e,i,c,a))}switch(n){case"input":Gs(e),wu(e,r,!1);break;case"textarea":Gs(e),ju(e);break;case"option":r.value!=null&&e.setAttribute("value",""+cn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ur(e,!!r.multiple,i,!1):r.defaultValue!=null&&ur(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ui)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)np(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=Ln(Ns.current),Ln(kt.current),ti(t)){if(r=t.stateNode,n=t.memoizedProps,r[St]=t,(i=r.nodeValue!==n)&&(e=qe,e!==null))switch(e.tag){case 3:ei(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ei(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[St]=t,t.stateNode=r}return Ae(t),null;case 13:if(oe(le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ae&&Ke!==null&&t.mode&1&&!(t.flags&128))wh(),xr(),t.flags|=98560,i=!1;else if(i=ti(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[St]=t}else xr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),i=!1}else ht!==null&&(wl(ht),ht=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||le.current&1?we===0&&(we=3):Ec())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return wr(),fl(e,t),e===null&&ws(t.stateNode.containerInfo),Ae(t),null;case 10:return fc(t.type._context),Ae(t),null;case 17:return ze(t.type)&&Oi(),Ae(t),null;case 19:if(oe(le),i=t.memoizedState,i===null)return Ae(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Or(i,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Gi(e),a!==null){for(t.flags|=128,Or(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ne(le,le.current&1|2),t.child}e=e.sibling}i.tail!==null&&pe()>jr&&(t.flags|=128,r=!0,Or(i,!1),t.lanes=4194304)}else{if(!r)if(e=Gi(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Or(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ae)return Ae(t),null}else 2*pe()-i.renderingStartTime>jr&&n!==1073741824&&(t.flags|=128,r=!0,Or(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=pe(),t.sibling=null,n=le.current,ne(le,r?n&1|2:n&1),t):(Ae(t),null);case 22:case 23:return Tc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Qe&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function jx(e,t){switch(lc(t),t.tag){case 1:return ze(t.type)&&Oi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wr(),oe(_e),oe(Le),yc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gc(t),null;case 13:if(oe(le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));xr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(le),null;case 4:return wr(),null;case 10:return fc(t.type._context),null;case 22:case 23:return Tc(),null;case 24:return null;default:return null}}var si=!1,De=!1,Sx=typeof WeakSet=="function"?WeakSet:Set,O=null;function sr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){me(e,t,r)}else n.current=null}function ml(e,t,n){try{n()}catch(r){me(e,t,r)}}var dd=!1;function Nx(e,t){if(Ya=Vi,e=ah(),oc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,f=0,d=e,m=null;t:for(;;){for(var y;d!==n||s!==0&&d.nodeType!==3||(l=a+s),d!==i||r!==0&&d.nodeType!==3||(c=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(y=d.firstChild)!==null;)m=d,d=y;for(;;){if(d===e)break t;if(m===n&&++u===s&&(l=a),m===i&&++f===r&&(c=a),(y=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xa={focusedElem:e,selectionRange:n},Vi=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,j=v.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:ft(t.type,w),j);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(x){me(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return v=dd,dd=!1,v}function ss(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ml(t,n,i)}s=s.next}while(s!==r)}}function wo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function rp(e){var t=e.alternate;t!==null&&(e.alternate=null,rp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[St],delete t[js],delete t[el],delete t[ox],delete t[ax])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sp(e){return e.tag===5||e.tag===3||e.tag===4}function fd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ui));else if(r!==4&&(e=e.child,e!==null))for(pl(e,t,n),e=e.sibling;e!==null;)pl(e,t,n),e=e.sibling}function gl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(gl(e,t,n),e=e.sibling;e!==null;)gl(e,t,n),e=e.sibling}var Pe=null,mt=!1;function _t(e,t,n){for(n=n.child;n!==null;)ip(e,t,n),n=n.sibling}function ip(e,t,n){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(fo,n)}catch{}switch(n.tag){case 5:De||sr(n,t);case 6:var r=Pe,s=mt;Pe=null,_t(e,t,n),Pe=r,mt=s,Pe!==null&&(mt?(e=Pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(mt?(e=Pe,n=n.stateNode,e.nodeType===8?ea(e.parentNode,n):e.nodeType===1&&ea(e,n),ys(e)):ea(Pe,n.stateNode));break;case 4:r=Pe,s=mt,Pe=n.stateNode.containerInfo,mt=!0,_t(e,t,n),Pe=r,mt=s;break;case 0:case 11:case 14:case 15:if(!De&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&ml(n,t,a),s=s.next}while(s!==r)}_t(e,t,n);break;case 1:if(!De&&(sr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){me(n,t,l)}_t(e,t,n);break;case 21:_t(e,t,n);break;case 22:n.mode&1?(De=(r=De)||n.memoizedState!==null,_t(e,t,n),De=r):_t(e,t,n);break;default:_t(e,t,n)}}function md(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Sx),t.forEach(function(r){var s=Lx.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function dt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Pe=l.stateNode,mt=!1;break e;case 3:Pe=l.stateNode.containerInfo,mt=!0;break e;case 4:Pe=l.stateNode.containerInfo,mt=!0;break e}l=l.return}if(Pe===null)throw Error(I(160));ip(i,a,s),Pe=null,mt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){me(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)op(t,e),t=t.sibling}function op(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dt(t,e),vt(e),r&4){try{ss(3,e,e.return),wo(3,e)}catch(w){me(e,e.return,w)}try{ss(5,e,e.return)}catch(w){me(e,e.return,w)}}break;case 1:dt(t,e),vt(e),r&512&&n!==null&&sr(n,n.return);break;case 5:if(dt(t,e),vt(e),r&512&&n!==null&&sr(n,n.return),e.flags&32){var s=e.stateNode;try{ms(s,"")}catch(w){me(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Tm(s,i),Ba(l,a);var u=Ba(l,i);for(a=0;a<c.length;a+=2){var f=c[a],d=c[a+1];f==="style"?Lm(s,d):f==="dangerouslySetInnerHTML"?Mm(s,d):f==="children"?ms(s,d):Ql(s,f,d,u)}switch(l){case"input":Va(s,i);break;case"textarea":Em(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?ur(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?ur(s,!!i.multiple,i.defaultValue,!0):ur(s,!!i.multiple,i.multiple?[]:"",!1))}s[js]=i}catch(w){me(e,e.return,w)}}break;case 6:if(dt(t,e),vt(e),r&4){if(e.stateNode===null)throw Error(I(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){me(e,e.return,w)}}break;case 3:if(dt(t,e),vt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ys(t.containerInfo)}catch(w){me(e,e.return,w)}break;case 4:dt(t,e),vt(e);break;case 13:dt(t,e),vt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Pc=pe())),r&4&&md(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(De=(u=De)||f,dt(t,e),De=u):dt(t,e),vt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(O=e,f=e.child;f!==null;){for(d=O=f;O!==null;){switch(m=O,y=m.child,m.tag){case 0:case 11:case 14:case 15:ss(4,m,m.return);break;case 1:sr(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){me(r,n,w)}}break;case 5:sr(m,m.return);break;case 22:if(m.memoizedState!==null){pd(d);continue}}y!==null?(y.return=m,O=y):pd(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Dm("display",a))}catch(w){me(e,e.return,w)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){me(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:dt(t,e),vt(e),r&4&&md(e);break;case 21:break;default:dt(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(sp(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ms(s,""),r.flags&=-33);var i=fd(e);gl(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=fd(e);pl(e,l,a);break;default:throw Error(I(161))}}catch(c){me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kx(e,t,n){O=e,ap(e)}function ap(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||si;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||De;l=si;var u=De;if(si=a,(De=c)&&!u)for(O=s;O!==null;)a=O,c=a.child,a.tag===22&&a.memoizedState!==null?gd(s):c!==null?(c.return=a,O=c):gd(s);for(;i!==null;)O=i,ap(i),i=i.sibling;O=s,si=l,De=u}hd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):hd(e)}}function hd(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||wo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!De)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ft(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Zu(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Zu(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&ys(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}De||t.flags&512&&hl(t)}catch(m){me(t,t.return,m)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function pd(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function gd(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wo(4,t)}catch(c){me(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){me(t,s,c)}}var i=t.return;try{hl(t)}catch(c){me(t,i,c)}break;case 5:var a=t.return;try{hl(t)}catch(c){me(t,a,c)}}}catch(c){me(t,t.return,c)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var Px=Math.ceil,qi=Bt.ReactCurrentDispatcher,Nc=Bt.ReactCurrentOwner,at=Bt.ReactCurrentBatchConfig,q=0,Se=null,ye=null,Ce=0,Qe=0,ir=hn(0),we=0,Ts=null,_n=0,bo=0,kc=0,is=null,Oe=null,Pc=0,jr=1/0,Ct=null,Yi=!1,yl=null,rn=null,ii=!1,Yt=null,Xi=0,os=0,xl=null,Si=-1,Ni=0;function Ie(){return q&6?pe():Si!==-1?Si:Si=pe()}function sn(e){return e.mode&1?q&2&&Ce!==0?Ce&-Ce:cx.transition!==null?(Ni===0&&(Ni=Wm()),Ni):(e=J,e!==0||(e=window.event,e=e===void 0?16:Zm(e.type)),e):1}function gt(e,t,n,r){if(50<os)throw os=0,xl=null,Error(I(185));Vs(e,n,r),(!(q&2)||e!==Se)&&(e===Se&&(!(q&2)&&(bo|=n),we===4&&Kt(e,Ce)),$e(e,r),n===1&&q===0&&!(t.mode&1)&&(jr=pe()+500,yo&&pn()))}function $e(e,t){var n=e.callbackNode;cy(e,t);var r=Ri(e,e===Se?Ce:0);if(r===0)n!==null&&ku(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ku(n),t===1)e.tag===0?lx(yd.bind(null,e)):yh(yd.bind(null,e)),sx(function(){!(q&6)&&pn()}),n=null;else{switch(Gm(r)){case 1:n=Zl;break;case 4:n=$m;break;case 16:n=Li;break;case 536870912:n=Hm;break;default:n=Li}n=pp(n,lp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lp(e,t){if(Si=-1,Ni=0,q&6)throw Error(I(327));var n=e.callbackNode;if(pr()&&e.callbackNode!==n)return null;var r=Ri(e,e===Se?Ce:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Zi(e,r);else{t=r;var s=q;q|=2;var i=up();(Se!==e||Ce!==t)&&(Ct=null,jr=pe()+500,Vn(e,t));do try{Ex();break}catch(l){cp(e,l)}while(1);dc(),qi.current=i,q=s,ye!==null?t=0:(Se=null,Ce=0,t=we)}if(t!==0){if(t===2&&(s=Wa(e),s!==0&&(r=s,t=vl(e,s))),t===1)throw n=Ts,Vn(e,0),Kt(e,r),$e(e,pe()),n;if(t===6)Kt(e,r);else{if(s=e.current.alternate,!(r&30)&&!Cx(s)&&(t=Zi(e,r),t===2&&(i=Wa(e),i!==0&&(r=i,t=vl(e,i))),t===1))throw n=Ts,Vn(e,0),Kt(e,r),$e(e,pe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:bn(e,Oe,Ct);break;case 3:if(Kt(e,r),(r&130023424)===r&&(t=Pc+500-pe(),10<t)){if(Ri(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ie(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ja(bn.bind(null,e,Oe,Ct),t);break}bn(e,Oe,Ct);break;case 4:if(Kt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-pt(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Px(r/1960))-r,10<r){e.timeoutHandle=Ja(bn.bind(null,e,Oe,Ct),r);break}bn(e,Oe,Ct);break;case 5:bn(e,Oe,Ct);break;default:throw Error(I(329))}}}return $e(e,pe()),e.callbackNode===n?lp.bind(null,e):null}function vl(e,t){var n=is;return e.current.memoizedState.isDehydrated&&(Vn(e,t).flags|=256),e=Zi(e,t),e!==2&&(t=Oe,Oe=n,t!==null&&wl(t)),e}function wl(e){Oe===null?Oe=e:Oe.push.apply(Oe,e)}function Cx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!yt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kt(e,t){for(t&=~kc,t&=~bo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pt(t),r=1<<n;e[n]=-1,t&=~r}}function yd(e){if(q&6)throw Error(I(327));pr();var t=Ri(e,0);if(!(t&1))return $e(e,pe()),null;var n=Zi(e,t);if(e.tag!==0&&n===2){var r=Wa(e);r!==0&&(t=r,n=vl(e,r))}if(n===1)throw n=Ts,Vn(e,0),Kt(e,t),$e(e,pe()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bn(e,Oe,Ct),$e(e,pe()),null}function Cc(e,t){var n=q;q|=1;try{return e(t)}finally{q=n,q===0&&(jr=pe()+500,yo&&pn())}}function zn(e){Yt!==null&&Yt.tag===0&&!(q&6)&&pr();var t=q;q|=1;var n=at.transition,r=J;try{if(at.transition=null,J=1,e)return e()}finally{J=r,at.transition=n,q=t,!(q&6)&&pn()}}function Tc(){Qe=ir.current,oe(ir)}function Vn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,rx(n)),ye!==null)for(n=ye.return;n!==null;){var r=n;switch(lc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Oi();break;case 3:wr(),oe(_e),oe(Le),yc();break;case 5:gc(r);break;case 4:wr();break;case 13:oe(le);break;case 19:oe(le);break;case 10:fc(r.type._context);break;case 22:case 23:Tc()}n=n.return}if(Se=e,ye=e=on(e.current,null),Ce=Qe=t,we=0,Ts=null,kc=bo=_n=0,Oe=is=null,Dn!==null){for(t=0;t<Dn.length;t++)if(n=Dn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Dn=null}return e}function cp(e,t){do{var n=ye;try{if(dc(),wi.current=Ki,Qi){for(var r=ue.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qi=!1}if(Bn=0,je=ve=ue=null,rs=!1,ks=0,Nc.current=null,n===null||n.return===null){we=1,Ts=t,ye=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=Ce,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=sd(a);if(y!==null){y.flags&=-257,id(y,a,l,i,t),y.mode&1&&rd(i,u,t),t=y,c=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(c),t.updateQueue=w}else v.add(c);break e}else{if(!(t&1)){rd(i,u,t),Ec();break e}c=Error(I(426))}}else if(ae&&l.mode&1){var j=sd(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),id(j,a,l,i,t),cc(br(c,l));break e}}i=c=br(c,l),we!==4&&(we=2),is===null?is=[i]:is.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Gh(i,c,t);Xu(i,g);break e;case 1:l=c;var p=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(rn===null||!rn.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=Qh(i,l,t);Xu(i,x);break e}}i=i.return}while(i!==null)}fp(n)}catch(k){t=k,ye===n&&n!==null&&(ye=n=n.return);continue}break}while(1)}function up(){var e=qi.current;return qi.current=Ki,e===null?Ki:e}function Ec(){(we===0||we===3||we===2)&&(we=4),Se===null||!(_n&268435455)&&!(bo&268435455)||Kt(Se,Ce)}function Zi(e,t){var n=q;q|=2;var r=up();(Se!==e||Ce!==t)&&(Ct=null,Vn(e,t));do try{Tx();break}catch(s){cp(e,s)}while(1);if(dc(),q=n,qi.current=r,ye!==null)throw Error(I(261));return Se=null,Ce=0,we}function Tx(){for(;ye!==null;)dp(ye)}function Ex(){for(;ye!==null&&!ey();)dp(ye)}function dp(e){var t=hp(e.alternate,e,Qe);e.memoizedProps=e.pendingProps,t===null?fp(e):ye=t,Nc.current=null}function fp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=jx(n,t),n!==null){n.flags&=32767,ye=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,ye=null;return}}else if(n=bx(n,t,Qe),n!==null){ye=n;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);we===0&&(we=5)}function bn(e,t,n){var r=J,s=at.transition;try{at.transition=null,J=1,Ax(e,t,n,r)}finally{at.transition=s,J=r}return null}function Ax(e,t,n,r){do pr();while(Yt!==null);if(q&6)throw Error(I(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(uy(e,i),e===Se&&(ye=Se=null,Ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ii||(ii=!0,pp(Li,function(){return pr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=at.transition,at.transition=null;var a=J;J=1;var l=q;q|=4,Nc.current=null,Nx(e,n),op(n,e),Yy(Xa),Vi=!!Ya,Xa=Ya=null,e.current=n,kx(n),ty(),q=l,J=a,at.transition=i}else e.current=n;if(ii&&(ii=!1,Yt=e,Xi=s),i=e.pendingLanes,i===0&&(rn=null),sy(n.stateNode),$e(e,pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Yi)throw Yi=!1,e=yl,yl=null,e;return Xi&1&&e.tag!==0&&pr(),i=e.pendingLanes,i&1?e===xl?os++:(os=0,xl=e):os=0,pn(),null}function pr(){if(Yt!==null){var e=Gm(Xi),t=at.transition,n=J;try{if(at.transition=null,J=16>e?16:e,Yt===null)var r=!1;else{if(e=Yt,Yt=null,Xi=0,q&6)throw Error(I(331));var s=q;for(q|=4,O=e.current;O!==null;){var i=O,a=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(O=u;O!==null;){var f=O;switch(f.tag){case 0:case 11:case 15:ss(8,f,i)}var d=f.child;if(d!==null)d.return=f,O=d;else for(;O!==null;){f=O;var m=f.sibling,y=f.return;if(rp(f),f===u){O=null;break}if(m!==null){m.return=y,O=m;break}O=y}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var j=w.sibling;w.sibling=null,w=j}while(w!==null)}}O=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,O=a;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ss(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,O=g;break e}O=i.return}}var p=e.current;for(O=p;O!==null;){a=O;var h=a.child;if(a.subtreeFlags&2064&&h!==null)h.return=a,O=h;else e:for(a=p;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wo(9,l)}}catch(k){me(l,l.return,k)}if(l===a){O=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,O=x;break e}O=l.return}}if(q=s,pn(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(fo,e)}catch{}r=!0}return r}finally{J=n,at.transition=t}}return!1}function xd(e,t,n){t=br(n,t),t=Gh(e,t,1),e=nn(e,t,1),t=Ie(),e!==null&&(Vs(e,1,t),$e(e,t))}function me(e,t,n){if(e.tag===3)xd(e,e,n);else for(;t!==null;){if(t.tag===3){xd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(rn===null||!rn.has(r))){e=br(n,e),e=Qh(t,e,1),t=nn(t,e,1),e=Ie(),t!==null&&(Vs(t,1,e),$e(t,e));break}}t=t.return}}function Mx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ie(),e.pingedLanes|=e.suspendedLanes&n,Se===e&&(Ce&n)===n&&(we===4||we===3&&(Ce&130023424)===Ce&&500>pe()-Pc?Vn(e,0):kc|=n),$e(e,t)}function mp(e,t){t===0&&(e.mode&1?(t=qs,qs<<=1,!(qs&130023424)&&(qs=4194304)):t=1);var n=Ie();e=Ft(e,t),e!==null&&(Vs(e,t,n),$e(e,n))}function Dx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),mp(e,n)}function Lx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),mp(e,n)}var hp;hp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_e.current)Be=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Be=!1,wx(e,t,n);Be=!!(e.flags&131072)}else Be=!1,ae&&t.flags&1048576&&xh(t,zi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ji(e,t),e=t.pendingProps;var s=yr(t,Le.current);hr(t,n),s=vc(null,t,r,e,s,n);var i=wc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ze(r)?(i=!0,Bi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,hc(t),s.updater=vo,t.stateNode=s,s._reactInternals=t,ol(t,r,e,n),t=cl(null,t,r,!0,i,n)):(t.tag=0,ae&&i&&ac(t),Ve(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ji(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Vx(r),e=ft(r,e),s){case 0:t=ll(null,t,r,e,n);break e;case 1:t=ld(null,t,r,e,n);break e;case 11:t=od(null,t,r,e,n);break e;case 14:t=ad(null,t,r,ft(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ft(r,s),ll(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ft(r,s),ld(e,t,r,s,n);case 3:e:{if(Xh(t),e===null)throw Error(I(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Nh(e,t),Wi(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=br(Error(I(423)),t),t=cd(e,t,r,n,s);break e}else if(r!==s){s=br(Error(I(424)),t),t=cd(e,t,r,n,s);break e}else for(Ke=tn(t.stateNode.containerInfo.firstChild),qe=t,ae=!0,ht=null,n=jh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xr(),r===s){t=Ut(e,t,n);break e}Ve(e,t,r,n)}t=t.child}return t;case 5:return kh(t),e===null&&rl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Za(r,s)?a=null:i!==null&&Za(r,i)&&(t.flags|=32),Yh(e,t),Ve(e,t,a,n),t.child;case 6:return e===null&&rl(t),null;case 13:return Zh(e,t,n);case 4:return pc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vr(t,null,r,n):Ve(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ft(r,s),od(e,t,r,s,n);case 7:return Ve(e,t,t.pendingProps,n),t.child;case 8:return Ve(e,t,t.pendingProps.children,n),t.child;case 12:return Ve(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,ne($i,r._currentValue),r._currentValue=a,i!==null)if(yt(i.value,a)){if(i.children===s.children&&!_e.current){t=Ut(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Dt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),sl(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(I(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),sl(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ve(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,hr(t,n),s=lt(s),r=r(s),t.flags|=1,Ve(e,t,r,n),t.child;case 14:return r=t.type,s=ft(r,t.pendingProps),s=ft(r.type,s),ad(e,t,r,s,n);case 15:return Kh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ft(r,s),ji(e,t),t.tag=1,ze(r)?(e=!0,Bi(t)):e=!1,hr(t,n),Wh(t,r,s),ol(t,r,s,n),cl(null,t,r,!0,e,n);case 19:return Jh(e,t,n);case 22:return qh(e,t,n)}throw Error(I(156,t.tag))};function pp(e,t){return zm(e,t)}function Rx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,r){return new Rx(e,t,n,r)}function Ac(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vx(e){if(typeof e=="function")return Ac(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ql)return 11;if(e===Yl)return 14}return 2}function on(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ki(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")Ac(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case qn:return In(n.children,s,i,t);case Kl:a=8,s|=8;break;case Aa:return e=ot(12,n,t,s|2),e.elementType=Aa,e.lanes=i,e;case Ma:return e=ot(13,n,t,s),e.elementType=Ma,e.lanes=i,e;case Da:return e=ot(19,n,t,s),e.elementType=Da,e.lanes=i,e;case km:return jo(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Sm:a=10;break e;case Nm:a=9;break e;case ql:a=11;break e;case Yl:a=14;break e;case $t:a=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=ot(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function In(e,t,n,r){return e=ot(7,e,r,t),e.lanes=n,e}function jo(e,t,n,r){return e=ot(22,e,r,t),e.elementType=km,e.lanes=n,e.stateNode={isHidden:!1},e}function la(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function ca(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ix(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$o(0),this.expirationTimes=$o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$o(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Mc(e,t,n,r,s,i,a,l,c){return e=new Ix(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ot(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hc(i),e}function Fx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function gp(e){if(!e)return un;e=e._reactInternals;e:{if(Hn(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(ze(n))return gh(e,n,t)}return t}function yp(e,t,n,r,s,i,a,l,c){return e=Mc(n,r,!0,e,s,i,a,l,c),e.context=gp(null),n=e.current,r=Ie(),s=sn(n),i=Dt(r,s),i.callback=t??null,nn(n,i,s),e.current.lanes=s,Vs(e,s,r),$e(e,r),e}function So(e,t,n,r){var s=t.current,i=Ie(),a=sn(s);return n=gp(n),t.context===null?t.context=n:t.pendingContext=n,t=Dt(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=nn(s,t,a),e!==null&&(gt(e,s,a,i),vi(e,s,a)),a}function Ji(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Dc(e,t){vd(e,t),(e=e.alternate)&&vd(e,t)}function Ux(){return null}var xp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Lc(e){this._internalRoot=e}No.prototype.render=Lc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));So(e,t,null,null)};No.prototype.unmount=Lc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zn(function(){So(null,e,null,null)}),t[It]=null}};function No(e){this._internalRoot=e}No.prototype.unstable_scheduleHydration=function(e){if(e){var t=qm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qt.length&&t!==0&&t<Qt[n].priority;n++);Qt.splice(n,0,e),n===0&&Xm(e)}};function Rc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ko(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wd(){}function Ox(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Ji(a);i.call(u)}}var a=yp(t,r,e,0,null,!1,!1,"",wd);return e._reactRootContainer=a,e[It]=a.current,ws(e.nodeType===8?e.parentNode:e),zn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Ji(c);l.call(u)}}var c=Mc(e,0,!1,null,null,!1,!1,"",wd);return e._reactRootContainer=c,e[It]=c.current,ws(e.nodeType===8?e.parentNode:e),zn(function(){So(t,c,n,r)}),c}function Po(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Ji(a);l.call(c)}}So(t,a,e,s)}else a=Ox(n,t,e,s,r);return Ji(a)}Qm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=qr(t.pendingLanes);n!==0&&(Jl(t,n|1),$e(t,pe()),!(q&6)&&(jr=pe()+500,pn()))}break;case 13:zn(function(){var r=Ft(e,1);if(r!==null){var s=Ie();gt(r,e,1,s)}}),Dc(e,1)}};ec=function(e){if(e.tag===13){var t=Ft(e,134217728);if(t!==null){var n=Ie();gt(t,e,134217728,n)}Dc(e,134217728)}};Km=function(e){if(e.tag===13){var t=sn(e),n=Ft(e,t);if(n!==null){var r=Ie();gt(n,e,t,r)}Dc(e,t)}};qm=function(){return J};Ym=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};za=function(e,t,n){switch(t){case"input":if(Va(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=go(r);if(!s)throw Error(I(90));Cm(r),Va(r,s)}}}break;case"textarea":Em(e,n);break;case"select":t=n.value,t!=null&&ur(e,!!n.multiple,t,!1)}};Im=Cc;Fm=zn;var Bx={usingClientEntryPoint:!1,Events:[Fs,Jn,go,Rm,Vm,Cc]},Br={findFiberByHostInstance:Mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_x={bundleType:Br.bundleType,version:Br.version,rendererPackageName:Br.rendererPackageName,rendererConfig:Br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bm(e),e===null?null:e.stateNode},findFiberByHostInstance:Br.findFiberByHostInstance||Ux,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oi.isDisabled&&oi.supportsFiber)try{fo=oi.inject(_x),Nt=oi}catch{}}Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bx;Je.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rc(t))throw Error(I(200));return Fx(e,t,null,n)};Je.createRoot=function(e,t){if(!Rc(e))throw Error(I(299));var n=!1,r="",s=xp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Mc(e,1,!1,null,null,n,!1,r,s),e[It]=t.current,ws(e.nodeType===8?e.parentNode:e),new Lc(t)};Je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Bm(t),e=e===null?null:e.stateNode,e};Je.flushSync=function(e){return zn(e)};Je.hydrate=function(e,t,n){if(!ko(t))throw Error(I(200));return Po(null,e,t,!0,n)};Je.hydrateRoot=function(e,t,n){if(!Rc(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=xp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=yp(t,null,e,1,n??null,s,!1,i,a),e[It]=t.current,ws(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new No(t)};Je.render=function(e,t,n){if(!ko(t))throw Error(I(200));return Po(null,e,t,!1,n)};Je.unmountComponentAtNode=function(e){if(!ko(e))throw Error(I(40));return e._reactRootContainer?(zn(function(){Po(null,null,e,!1,function(){e._reactRootContainer=null,e[It]=null})}),!0):!1};Je.unstable_batchedUpdates=Cc;Je.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ko(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Po(e,t,n,!1,r)};Je.version="18.3.1-next-f1338f8080-20240426";function vp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vp)}catch(e){console.error(e)}}vp(),vm.exports=Je;var zx=vm.exports,bd=zx;Ta.createRoot=bd.createRoot,Ta.hydrateRoot=bd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Es(){return Es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Es.apply(this,arguments)}var Xt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Xt||(Xt={}));const jd="popstate";function $x(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:l}=r.location;return bl("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:bp(s)}return Wx(t,n,null,e)}function be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Hx(){return Math.random().toString(36).substr(2,8)}function Sd(e,t){return{usr:e.state,key:e.key,idx:t}}function bl(e,t,n,r){return n===void 0&&(n=null),Es({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Er(t):t,{state:n,key:t&&t.key||r||Hx()})}function bp(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Er(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Wx(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Xt.Pop,c=null,u=f();u==null&&(u=0,a.replaceState(Es({},a.state,{idx:u}),""));function f(){return(a.state||{idx:null}).idx}function d(){l=Xt.Pop;let j=f(),g=j==null?null:j-u;u=j,c&&c({action:l,location:w.location,delta:g})}function m(j,g){l=Xt.Push;let p=bl(w.location,j,g);n&&n(p,j),u=f()+1;let h=Sd(p,u),x=w.createHref(p);try{a.pushState(h,"",x)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(x)}i&&c&&c({action:l,location:w.location,delta:1})}function y(j,g){l=Xt.Replace;let p=bl(w.location,j,g);n&&n(p,j),u=f();let h=Sd(p,u),x=w.createHref(p);a.replaceState(h,"",x),i&&c&&c({action:l,location:w.location,delta:0})}function v(j){let g=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof j=="string"?j:bp(j);return p=p.replace(/ $/,"%20"),be(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let w={get action(){return l},get location(){return e(s,a)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(jd,d),c=j,()=>{s.removeEventListener(jd,d),c=null}},createHref(j){return t(s,j)},createURL:v,encodeLocation(j){let g=v(j);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:y,go(j){return a.go(j)}};return w}var Nd;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Nd||(Nd={}));function Gx(e,t,n){return n===void 0&&(n="/"),Qx(e,t,n,!1)}function Qx(e,t,n,r){let s=typeof t=="string"?Er(t):t,i=Np(s.pathname||"/",n);if(i==null)return null;let a=jp(e);Kx(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=iv(i);l=rv(a[c],u,r)}return l}function jp(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(be(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Fn([r,c.relativePath]),f=n.concat(c);i.children&&i.children.length>0&&(be(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),jp(i.children,t,f,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:tv(u,i.index),routesMeta:f})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of Sp(i.path))s(i,a,c)}),t}function Sp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=Sp(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Kx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:nv(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const qx=/^:[\w-]+$/,Yx=3,Xx=2,Zx=1,Jx=10,ev=-2,kd=e=>e==="*";function tv(e,t){let n=e.split("/"),r=n.length;return n.some(kd)&&(r+=ev),t&&(r+=Xx),n.filter(s=>!kd(s)).reduce((s,i)=>s+(qx.test(i)?Yx:i===""?Zx:Jx),r)}function nv(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function rv(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,f=i==="/"?t:t.slice(i.length)||"/",d=Pd({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),m=c.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Pd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:Fn([i,d.pathname]),pathnameBase:dv(Fn([i,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(i=Fn([i,d.pathnameBase]))}return a}function Pd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=sv(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,f,d)=>{let{paramName:m,isOptional:y}=f;if(m==="*"){let w=l[d]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[d];return y&&!v?u[m]=void 0:u[m]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function sv(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),wp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function iv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Np(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function ov(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Er(e):e;return{pathname:n?n.startsWith("/")?n:av(n,t):t,search:fv(r),hash:mv(s)}}function av(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ua(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lv(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function cv(e,t){let n=lv(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function uv(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Er(e):(s=Es({},e),be(!s.pathname||!s.pathname.includes("?"),ua("?","pathname","search",s)),be(!s.pathname||!s.pathname.includes("#"),ua("#","pathname","hash",s)),be(!s.search||!s.search.includes("#"),ua("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let d=t.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),d-=1;s.pathname=m.join("/")}l=d>=0?t[d]:"/"}let c=ov(s,l),u=a&&a!=="/"&&a.endsWith("/"),f=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Fn=e=>e.join("/").replace(/\/\/+/g,"/"),dv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const kp=["post","put","patch","delete"];new Set(kp);const pv=["get",...kp];new Set(pv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},As.apply(this,arguments)}const Vc=b.createContext(null),gv=b.createContext(null),Co=b.createContext(null),To=b.createContext(null),Ar=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Pp=b.createContext(null);function Eo(){return b.useContext(To)!=null}function Ic(){return Eo()||be(!1),b.useContext(To).location}function Cp(e){b.useContext(Co).static||b.useLayoutEffect(e)}function Tp(){let{isDataRoute:e}=b.useContext(Ar);return e?Ev():yv()}function yv(){Eo()||be(!1);let e=b.useContext(Vc),{basename:t,future:n,navigator:r}=b.useContext(Co),{matches:s}=b.useContext(Ar),{pathname:i}=Ic(),a=JSON.stringify(cv(s,n.v7_relativeSplatPath)),l=b.useRef(!1);return Cp(()=>{l.current=!0}),b.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let d=uv(u,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Fn([t,d.pathname])),(f.replace?r.replace:r.push)(d,f.state,f)},[t,r,a,i,e])}function xv(e,t){return vv(e,t)}function vv(e,t,n,r){Eo()||be(!1);let{navigator:s}=b.useContext(Co),{matches:i}=b.useContext(Ar),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Ic(),f;if(t){var d;let j=typeof t=="string"?Er(t):t;c==="/"||(d=j.pathname)!=null&&d.startsWith(c)||be(!1),f=j}else f=u;let m=f.pathname||"/",y=m;if(c!=="/"){let j=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(j.length).join("/")}let v=Gx(e,{pathname:y}),w=Nv(v&&v.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:Fn([c,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Fn([c,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,n,r);return t&&w?b.createElement(To.Provider,{value:{location:As({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Xt.Pop}},w):w}function wv(){let e=Tv(),t=hv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:s},n):null,i)}const bv=b.createElement(wv,null);class jv extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(Ar.Provider,{value:this.props.routeContext},b.createElement(Pp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sv(e){let{routeContext:t,match:n,children:r}=e,s=b.useContext(Vc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Ar.Provider,{value:t},r)}function Nv(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let f=a.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||be(!1),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let d=a[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:m,errors:y}=n,v=d.route.loader&&m[d.route.id]===void 0&&(!y||y[d.route.id]===void 0);if(d.route.lazy||v){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,d,m)=>{let y,v=!1,w=null,j=null;n&&(y=l&&d.route.id?l[d.route.id]:void 0,w=d.route.errorElement||bv,c&&(u<0&&m===0?(Av("route-fallback",!1),v=!0,j=null):u===m&&(v=!0,j=d.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,m+1)),p=()=>{let h;return y?h=w:v?h=j:d.route.Component?h=b.createElement(d.route.Component,null):d.route.element?h=d.route.element:h=f,b.createElement(Sv,{match:d,routeContext:{outlet:f,matches:g,isDataRoute:n!=null},children:h})};return n&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?b.createElement(jv,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var Ep=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ep||{}),eo=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(eo||{});function kv(e){let t=b.useContext(Vc);return t||be(!1),t}function Pv(e){let t=b.useContext(gv);return t||be(!1),t}function Cv(e){let t=b.useContext(Ar);return t||be(!1),t}function Ap(e){let t=Cv(),n=t.matches[t.matches.length-1];return n.route.id||be(!1),n.route.id}function Tv(){var e;let t=b.useContext(Pp),n=Pv(eo.UseRouteError),r=Ap(eo.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Ev(){let{router:e}=kv(Ep.UseNavigateStable),t=Ap(eo.UseNavigateStable),n=b.useRef(!1);return Cp(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,As({fromRouteId:t},i)))},[e,t])}const Cd={};function Av(e,t,n){!t&&!Cd[e]&&(Cd[e]=!0)}function Mv(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function We(e){be(!1)}function Dv(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Xt.Pop,navigator:i,static:a=!1,future:l}=e;Eo()&&be(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:a,future:As({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Er(r));let{pathname:f="/",search:d="",hash:m="",state:y=null,key:v="default"}=r,w=b.useMemo(()=>{let j=Np(f,c);return j==null?null:{location:{pathname:j,search:d,hash:m,state:y,key:v},navigationType:s}},[c,f,d,m,y,v,s]);return w==null?null:b.createElement(Co.Provider,{value:u},b.createElement(To.Provider,{children:n,value:w}))}function Td(e){let{children:t,location:n}=e;return xv(jl(t),n)}new Promise(()=>{});function jl(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,s)=>{if(!b.isValidElement(r))return;let i=[...t,s];if(r.type===b.Fragment){n.push.apply(n,jl(r.props.children,i));return}r.type!==We&&be(!1),!r.props.index||!r.props.children||be(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=jl(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Lv="6";try{window.__reactRouterVersion=Lv}catch{}const Rv="startTransition",Ed=M0[Rv];function Vv(e){let{basename:t,children:n,future:r,window:s}=e,i=b.useRef();i.current==null&&(i.current=$x({window:s,v5Compat:!0}));let a=i.current,[l,c]=b.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},f=b.useCallback(d=>{u&&Ed?Ed(()=>c(d)):c(d)},[c,u]);return b.useLayoutEffect(()=>a.listen(f),[a,f]),b.useEffect(()=>Mv(r),[r]),b.createElement(Dv,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}var Ad;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ad||(Ad={}));var Md;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Md||(Md={}));const da=[{id:"1",name:"Work/Study",color:"#3B82F6",icon:""},{id:"2",name:"Self-Care",color:"#10B981",icon:""},{id:"3",name:"Exercise",color:"#F59E0B",icon:""},{id:"4",name:"Home",color:"#8B5CF6",icon:""},{id:"5",name:"Social",color:"#EF4444",icon:""},{id:"6",name:"Creative",color:"#EC4899",icon:""}],Pi=[{id:"first-task",title:"First Quest Complete!",description:"Complete your very first task",icon:"",xpReward:50,type:"tasks"},{id:"streak-3",title:"Momentum Builder",description:"Complete tasks for 3 days in a row",icon:"",xpReward:100,type:"streak"},{id:"streak-7",title:"Week Warrior",description:"Maintain a 7-day streak",icon:"",xpReward:250,type:"streak"},{id:"focus-master",title:"Focus Master",description:"Complete 10 focus sessions",icon:"",xpReward:200,type:"focus"},{id:"zen-seeker",title:"Zen Seeker",description:"Complete 5 zen activities",icon:"",xpReward:150,type:"zen"},{id:"task-crusher",title:"Task Crusher",description:"Complete 50 tasks",icon:"",xpReward:500,type:"tasks"}],fa=(e=!0)=>({id:e?"guest-user":"user-1",name:e?"Demo User":"Neurodivergent Hero",email:void 0,avatar:"",level:1,xp:0,streak:0,totalPoints:0,preferences:{theme:"colorful",soundEnabled:!0,animationsEnabled:!0,notificationsEnabled:!0,difficultyLevel:"medium",focusSessionLength:25,breakLength:5},achievements:[],subscription:{isPremium:!1,plan:"demo"},isGuest:e}),Fc=e=>Math.floor(e/1e3)+1,Mp=e=>{const t=Fc(e),n=(t-1)*1e3,r=t*1e3;return(e-n)/(r-n)*100},Iv=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),Dp=e=>{const t=new Date().toISOString().split("T")[0];return e.find(n=>n.date===t)||{date:t,tasksCompleted:0,focusMinutes:0,zenMinutes:0,xpEarned:0,streakDay:!1}},Dd="neuroflow-theme-config",Ld="neuroflow-theme",Pn=class Pn{constructor(){Q(this,"currentTheme");Q(this,"observers",new Set);Q(this,"isInitialized",!1);this.currentTheme=this.getDefaultTheme("light"),this.initializeTheme()}static getInstance(){return Pn.instance||(Pn.instance=new Pn),Pn.instance}async initializeTheme(){try{const t=localStorage.getItem(Ld),n=localStorage.getItem(Dd);if(n)try{this.currentTheme=JSON.parse(n)}catch{console.warn("Failed to parse saved theme config, using default"),this.currentTheme=this.getDefaultTheme(t||"light")}else t&&(this.currentTheme=this.getDefaultTheme(t));this.applyThemeToDocument(),this.isInitialized=!0}catch(t){console.error("Theme initialization failed:",t),this.currentTheme=this.getDefaultTheme("light"),this.applyThemeToDocument(),this.isInitialized=!0}}getDefaultTheme(t){const n={enabled:!0,duration:"200ms",easing:"ease-in-out"};switch(t){case"light":return{mode:"light",colors:{primary:"#2563eb",secondary:"#64748b",accent:"#06b6d4",background:"#f8fafc",surface:"#ffffff",text:"#1e293b",textSecondary:"#64748b"},gradients:{primary:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",secondary:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",background:"linear-gradient(135deg, #fdf2f8 0%, #fae8ff 50%, #eff6ff 100%)"},animations:n};case"dark":return{mode:"dark",colors:{primary:"#3b82f6",secondary:"#94a3b8",accent:"#06b6d4",background:"#0f0f17",surface:"#1e1e2e",text:"#f1f5f9",textSecondary:"#cbd5e1"},gradients:{primary:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",secondary:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",background:"linear-gradient(135deg, #0f0f17 0%, #1e1b4b 50%, #581c87 100%)"},animations:n};case"colorful":return{mode:"colorful",colors:{primary:"#ec4899",secondary:"#8b5cf6",accent:"#06b6d4",background:"#fef7ed",surface:"#ffffff",text:"#374151",textSecondary:"#6b7280"},gradients:{primary:"linear-gradient(135deg, #ff6b6b 0%, #feca57 50%, #48dbfb 100%)",secondary:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",background:"linear-gradient(135deg, #fed7aa 0%, #fca5a5 50%, #c4b5fd 100%)"},animations:{...n,duration:"300ms"}};default:return this.getDefaultTheme("light")}}setThemeMode(t){const n=this.getDefaultTheme(t);this.setTheme(n)}setTheme(t){this.currentTheme=t,this.applyThemeToDocument(),this.saveTheme(),this.notifyObservers()}getCurrentTheme(){return{...this.currentTheme}}getCurrentMode(){return this.currentTheme.mode}applyThemeToDocument(){const t=document.documentElement,n=this.currentTheme;t.setAttribute("data-theme",n.mode),t.style.setProperty("--color-primary",n.colors.primary),t.style.setProperty("--color-secondary",n.colors.secondary),t.style.setProperty("--color-accent",n.colors.accent),t.style.setProperty("--color-background",n.colors.background),t.style.setProperty("--color-surface",n.colors.surface),t.style.setProperty("--color-text",n.colors.text),t.style.setProperty("--color-text-secondary",n.colors.textSecondary),t.style.setProperty("--gradient-primary",n.gradients.primary),t.style.setProperty("--gradient-secondary",n.gradients.secondary),t.style.setProperty("--gradient-background",n.gradients.background),t.style.setProperty("--animation-duration",n.animations.duration),t.style.setProperty("--animation-easing",n.animations.easing),n.animations.enabled||t.style.setProperty("--animation-duration","0ms"),n.mode==="dark"&&this.applyDarkModeEnhancements(),console.log(`Theme applied: ${n.mode}`)}applyDarkModeEnhancements(){const t=document.documentElement;t.style.setProperty("--shadow-low","0 1px 3px rgba(0, 0, 0, 0.4)"),t.style.setProperty("--shadow-medium","0 4px 6px rgba(0, 0, 0, 0.3)"),t.style.setProperty("--shadow-high","0 10px 25px rgba(0, 0, 0, 0.5)"),t.style.setProperty("--border-color","rgba(148, 163, 184, 0.2)"),t.style.setProperty("--hover-overlay","rgba(255, 255, 255, 0.05)")}saveTheme(){try{localStorage.setItem(Dd,JSON.stringify(this.currentTheme)),localStorage.setItem(Ld,this.currentTheme.mode)}catch(t){console.error("Failed to save theme:",t)}}observe(t){return this.observers.add(t),this.isInitialized&&t(this.currentTheme),()=>{this.observers.delete(t)}}notifyObservers(){this.observers.forEach(t=>{try{t(this.currentTheme)}catch(n){console.error("Theme observer error:",n)}})}toggleDarkMode(){const t=this.currentTheme.mode==="dark"?"light":"dark";this.setThemeMode(t)}areAnimationsEnabled(){return this.currentTheme.animations.enabled}toggleAnimations(){const t={...this.currentTheme,animations:{...this.currentTheme.animations,enabled:!this.currentTheme.animations.enabled}};this.setTheme(t)}resetToDefault(){const t=this.getDefaultTheme(this.currentTheme.mode);this.setTheme(t)}getAvailableModes(){return["light","dark","colorful"]}isThemeInitialized(){return this.isInitialized}async waitForInitialization(){if(!this.isInitialized)return new Promise(t=>{const n=setInterval(()=>{this.isInitialized&&(clearInterval(n),t())},10)})}};Q(Pn,"instance");let Sl=Pn;const jt=Sl.getInstance();function Fv(){const[e,t]=Ye.useState(jt.getCurrentTheme());return Ye.useEffect(()=>jt.observe(t),[]),{theme:e,setThemeMode:n=>jt.setThemeMode(n),toggleDarkMode:()=>jt.toggleDarkMode(),toggleAnimations:()=>jt.toggleAnimations(),resetToDefault:()=>jt.resetToDefault(),availableModes:jt.getAvailableModes()}}jt.waitForInitialization();const Lp=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Ao=b.createContext({}),Mo=b.createContext(null),Do=typeof document<"u",Uc=Do?b.useLayoutEffect:b.useEffect,Rp=b.createContext({strict:!1}),Oc=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Uv="framerAppearId",Vp="data-"+Oc(Uv);function Ov(e,t,n,r){const{visualElement:s}=b.useContext(Ao),i=b.useContext(Rp),a=b.useContext(Mo),l=b.useContext(Lp).reducedMotion,c=b.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;b.useInsertionEffect(()=>{u&&u.update(n,a)});const f=b.useRef(!!(n[Vp]&&!window.HandoffComplete));return Uc(()=>{u&&(u.render(),f.current&&u.animationState&&u.animationState.animateChanges())}),b.useEffect(()=>{u&&(u.updateFeatures(),!f.current&&u.animationState&&u.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),u}function or(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Bv(e,t,n){return b.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):or(n)&&(n.current=r))},[t])}function Ms(e){return typeof e=="string"||Array.isArray(e)}function Lo(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Bc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_c=["initial",...Bc];function Ro(e){return Lo(e.animate)||_c.some(t=>Ms(e[t]))}function Ip(e){return!!(Ro(e)||e.variants)}function _v(e,t){if(Ro(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ms(n)?n:void 0,animate:Ms(r)?r:void 0}}return e.inherit!==!1?t:{}}function zv(e){const{initial:t,animate:n}=_v(e,b.useContext(Ao));return b.useMemo(()=>({initial:t,animate:n}),[Rd(t),Rd(n)])}function Rd(e){return Array.isArray(e)?e.join(" "):e}const Vd={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ds={};for(const e in Vd)Ds[e]={isEnabled:t=>Vd[e].some(n=>!!t[n])};function $v(e){for(const t in e)Ds[t]={...Ds[t],...e[t]}}const zc=b.createContext({}),Fp=b.createContext({}),Hv=Symbol.for("motionComponentSymbol");function Wv({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&$v(e);function i(l,c){let u;const f={...b.useContext(Lp),...l,layoutId:Gv(l)},{isStatic:d}=f,m=zv(l),y=r(l,d);if(!d&&Do){m.visualElement=Ov(s,y,f,t);const v=b.useContext(Fp),w=b.useContext(Rp).strict;m.visualElement&&(u=m.visualElement.loadFeatures(f,w,e,v))}return b.createElement(Ao.Provider,{value:m},u&&m.visualElement?b.createElement(u,{visualElement:m.visualElement,...f}):null,n(s,l,Bv(y,m.visualElement,c),y,d,m.visualElement))}const a=b.forwardRef(i);return a[Hv]=s,a}function Gv({layoutId:e}){const t=b.useContext(zc).id;return t&&e!==void 0?t+"-"+e:e}function Qv(e){function t(r,s={}){return Wv(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const Kv=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $c(e){return typeof e!="string"||e.includes("-")?!1:!!(Kv.indexOf(e)>-1||/[A-Z]/.test(e))}const to={};function qv(e){Object.assign(to,e)}const Os=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wn=new Set(Os);function Up(e,{layout:t,layoutId:n}){return Wn.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!to[e]||e==="opacity")}const He=e=>!!(e&&e.getVelocity),Yv={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Xv=Os.length;function Zv(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let i="";for(let a=0;a<Xv;a++){const l=Os[a];if(e[l]!==void 0){const c=Yv[l]||l;i+=`${c}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,r?"":i):n&&r&&(i="none"),i}const Op=e=>t=>typeof t=="string"&&t.startsWith(e),Bp=Op("--"),Nl=Op("var(--"),Jv=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,ew=(e,t)=>t&&typeof e=="number"?t.transform(e):e,dn=(e,t,n)=>Math.min(Math.max(n,e),t),Gn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},as={...Gn,transform:e=>dn(0,1,e)},ai={...Gn,default:1},ls=e=>Math.round(e*1e5)/1e5,Vo=/(-)?([\d]*\.?[\d])+/g,_p=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,tw=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Bs(e){return typeof e=="string"}const _s=e=>({test:t=>Bs(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),zt=_s("deg"),Pt=_s("%"),H=_s("px"),nw=_s("vh"),rw=_s("vw"),Id={...Pt,parse:e=>Pt.parse(e)/100,transform:e=>Pt.transform(e*100)},Fd={...Gn,transform:Math.round},zp={borderWidth:H,borderTopWidth:H,borderRightWidth:H,borderBottomWidth:H,borderLeftWidth:H,borderRadius:H,radius:H,borderTopLeftRadius:H,borderTopRightRadius:H,borderBottomRightRadius:H,borderBottomLeftRadius:H,width:H,maxWidth:H,height:H,maxHeight:H,size:H,top:H,right:H,bottom:H,left:H,padding:H,paddingTop:H,paddingRight:H,paddingBottom:H,paddingLeft:H,margin:H,marginTop:H,marginRight:H,marginBottom:H,marginLeft:H,rotate:zt,rotateX:zt,rotateY:zt,rotateZ:zt,scale:ai,scaleX:ai,scaleY:ai,scaleZ:ai,skew:zt,skewX:zt,skewY:zt,distance:H,translateX:H,translateY:H,translateZ:H,x:H,y:H,z:H,perspective:H,transformPerspective:H,opacity:as,originX:Id,originY:Id,originZ:H,zIndex:Fd,fillOpacity:as,strokeOpacity:as,numOctaves:Fd};function Hc(e,t,n,r){const{style:s,vars:i,transform:a,transformOrigin:l}=e;let c=!1,u=!1,f=!0;for(const d in t){const m=t[d];if(Bp(d)){i[d]=m;continue}const y=zp[d],v=ew(m,y);if(Wn.has(d)){if(c=!0,a[d]=v,!f)continue;m!==(y.default||0)&&(f=!1)}else d.startsWith("origin")?(u=!0,l[d]=v):s[d]=v}if(t.transform||(c||r?s.transform=Zv(e.transform,n,f,r):s.transform&&(s.transform="none")),u){const{originX:d="50%",originY:m="50%",originZ:y=0}=l;s.transformOrigin=`${d} ${m} ${y}`}}const Wc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $p(e,t,n){for(const r in t)!He(t[r])&&!Up(r,n)&&(e[r]=t[r])}function sw({transformTemplate:e},t,n){return b.useMemo(()=>{const r=Wc();return Hc(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function iw(e,t,n){const r=e.style||{},s={};return $p(s,r,e),Object.assign(s,sw(e,t,n)),e.transformValues?e.transformValues(s):s}function ow(e,t,n){const r={},s=iw(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const aw=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function no(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||aw.has(e)}let Hp=e=>!no(e);function lw(e){e&&(Hp=t=>t.startsWith("on")?!no(t):e(t))}try{lw(require("@emotion/is-prop-valid").default)}catch{}function cw(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Hp(s)||n===!0&&no(s)||!t&&!no(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function Ud(e,t,n){return typeof e=="string"?e:H.transform(t+n*e)}function uw(e,t,n){const r=Ud(t,e.x,e.width),s=Ud(n,e.y,e.height);return`${r} ${s}`}const dw={offset:"stroke-dashoffset",array:"stroke-dasharray"},fw={offset:"strokeDashoffset",array:"strokeDasharray"};function mw(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?dw:fw;e[i.offset]=H.transform(-r);const a=H.transform(t),l=H.transform(n);e[i.array]=`${a} ${l}`}function Gc(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},f,d,m){if(Hc(e,u,f,m),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:v,dimensions:w}=e;y.transform&&(w&&(v.transform=y.transform),delete y.transform),w&&(s!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=uw(w,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(y.x=t),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),a!==void 0&&mw(y,a,l,c,!1)}const Wp=()=>({...Wc(),attrs:{}}),Qc=e=>typeof e=="string"&&e.toLowerCase()==="svg";function hw(e,t,n,r){const s=b.useMemo(()=>{const i=Wp();return Gc(i,t,{enableHardwareAcceleration:!1},Qc(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};$p(i,e.style,e),s.style={...i,...s.style}}return s}function pw(e=!1){return(n,r,s,{latestValues:i},a)=>{const c=($c(n)?hw:ow)(r,i,a,n),f={...cw(r,typeof n=="string",e),...c,ref:s},{children:d}=r,m=b.useMemo(()=>He(d)?d.get():d,[d]);return b.createElement(n,{...f,children:m})}}function Gp(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const Qp=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Kp(e,t,n,r){Gp(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Qp.has(s)?s:Oc(s),t.attrs[s])}function Kc(e,t){const{style:n}=e,r={};for(const s in n)(He(n[s])||t.style&&He(t.style[s])||Up(s,e))&&(r[s]=n[s]);return r}function qp(e,t){const n=Kc(e,t);for(const r in e)if(He(e[r])||He(t[r])){const s=Os.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function qc(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function Yp(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const ro=e=>Array.isArray(e),gw=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),yw=e=>ro(e)?e[e.length-1]||0:e;function Ci(e){const t=He(e)?e.get():e;return gw(t)?t.toValue():t}function xw({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,i){const a={latestValues:vw(r,s,i,e),renderState:t()};return n&&(a.mount=l=>n(r,l,a)),a}const Xp=e=>(t,n)=>{const r=b.useContext(Ao),s=b.useContext(Mo),i=()=>xw(e,t,r,s);return n?i():Yp(i)};function vw(e,t,n,r){const s={},i=r(e,{});for(const m in i)s[m]=Ci(i[m]);let{initial:a,animate:l}=e;const c=Ro(e),u=Ip(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let f=n?n.initial===!1:!1;f=f||a===!1;const d=f?l:a;return d&&typeof d!="boolean"&&!Lo(d)&&(Array.isArray(d)?d:[d]).forEach(y=>{const v=qc(e,y);if(!v)return;const{transitionEnd:w,transition:j,...g}=v;for(const p in g){let h=g[p];if(Array.isArray(h)){const x=f?h.length-1:0;h=h[x]}h!==null&&(s[p]=h)}for(const p in w)s[p]=w[p]}),s}const he=e=>e;class Od{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function ww(e){let t=new Od,n=new Od,r=0,s=!1,i=!1;const a=new WeakSet,l={schedule:(c,u=!1,f=!1)=>{const d=f&&s,m=d?t:n;return u&&a.add(c),m.add(c)&&d&&s&&(r=t.order.length),c},cancel:c=>{n.remove(c),a.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const f=t.order[u];f(c),a.has(f)&&(l.schedule(f),e())}s=!1,i&&(i=!1,l.process(c))}};return l}const li=["prepare","read","update","preRender","render","postRender"],bw=40;function jw(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=li.reduce((d,m)=>(d[m]=ww(()=>n=!0),d),{}),a=d=>i[d].process(s),l=()=>{const d=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(d-s.timestamp,bw),1),s.timestamp=d,s.isProcessing=!0,li.forEach(a),s.isProcessing=!1,n&&t&&(r=!1,e(l))},c=()=>{n=!0,r=!0,s.isProcessing||e(l)};return{schedule:li.reduce((d,m)=>{const y=i[m];return d[m]=(v,w=!1,j=!1)=>(n||c(),y.schedule(v,w,j)),d},{}),cancel:d=>li.forEach(m=>i[m].cancel(d)),state:s,steps:i}}const{schedule:re,cancel:Ot,state:Me,steps:ma}=jw(typeof requestAnimationFrame<"u"?requestAnimationFrame:he,!0),Sw={useVisualState:Xp({scrapeMotionValuesFromProps:qp,createRenderState:Wp,onMount:(e,t,{renderState:n,latestValues:r})=>{re.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),re.render(()=>{Gc(n,r,{enableHardwareAcceleration:!1},Qc(t.tagName),e.transformTemplate),Kp(t,n)})}})},Nw={useVisualState:Xp({scrapeMotionValuesFromProps:Kc,createRenderState:Wc})};function kw(e,{forwardMotionProps:t=!1},n,r){return{...$c(e)?Sw:Nw,preloadedFeatures:n,useRender:pw(t),createVisualElement:r,Component:e}}function Mt(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Zp=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Io(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Pw=e=>t=>Zp(t)&&e(t,Io(t));function Lt(e,t,n,r){return Mt(e,t,Pw(n),r)}const Cw=(e,t)=>n=>t(e(n)),an=(...e)=>e.reduce(Cw);function Jp(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Bd=Jp("dragHorizontal"),_d=Jp("dragVertical");function eg(e){let t=!1;if(e==="y")t=_d();else if(e==="x")t=Bd();else{const n=Bd(),r=_d();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function tg(){const e=eg(!0);return e?(e(),!1):!0}class gn{constructor(t){this.isMounted=!1,this.node=t}update(){}}function zd(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(i,a)=>{if(i.pointerType==="touch"||tg())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&re.update(()=>l[r](i,a))};return Lt(e.current,n,s,{passive:!e.getProps()[r]})}class Tw extends gn{mount(){this.unmount=an(zd(this.node,!0),zd(this.node,!1))}unmount(){}}class Ew extends gn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=an(Mt(this.node.current,"focus",()=>this.onFocus()),Mt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const ng=(e,t)=>t?e===t?!0:ng(e,t.parentElement):!1;function ha(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Io(n))}class Aw extends gn{constructor(){super(...arguments),this.removeStartListeners=he,this.removeEndListeners=he,this.removeAccessibleListeners=he,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Lt(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:f,globalTapTarget:d}=this.node.getProps();re.update(()=>{!d&&!ng(this.node.current,l.target)?f&&f(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),a=Lt(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=an(i,a),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||ha("up",(c,u)=>{const{onTap:f}=this.node.getProps();f&&re.update(()=>f(c,u))})};this.removeEndListeners(),this.removeEndListeners=Mt(this.node.current,"keyup",a),ha("down",(l,c)=>{this.startPress(l,c)})},n=Mt(this.node.current,"keydown",t),r=()=>{this.isPressing&&ha("cancel",(i,a)=>this.cancelPress(i,a))},s=Mt(this.node.current,"blur",r);this.removeAccessibleListeners=an(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&re.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!tg()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&re.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Lt(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Mt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=an(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const kl=new WeakMap,pa=new WeakMap,Mw=e=>{const t=kl.get(e.target);t&&t(e)},Dw=e=>{e.forEach(Mw)};function Lw({root:e,...t}){const n=e||document;pa.has(n)||pa.set(n,{});const r=pa.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(Dw,{root:e,...t})),r[s]}function Rw(e,t,n){const r=Lw(t);return kl.set(e,n),r.observe(e),()=>{kl.delete(e),r.unobserve(e)}}const Vw={some:0,all:1};class Iw extends gn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Vw[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:d}=this.node.getProps(),m=u?f:d;m&&m(c)};return Rw(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Fw(t,n))&&this.startObserver()}unmount(){}}function Fw({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Uw={inView:{Feature:Iw},tap:{Feature:Aw},focus:{Feature:Ew},hover:{Feature:Tw}};function rg(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ow(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Bw(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Fo(e,t,n){const r=e.getProps();return qc(r,t,n!==void 0?n:r.custom,Ow(e),Bw(e))}let _w=he,Yc=he;const ln=e=>e*1e3,Rt=e=>e/1e3,zw={current:!1},sg=e=>Array.isArray(e)&&typeof e[0]=="number";function ig(e){return!!(!e||typeof e=="string"&&og[e]||sg(e)||Array.isArray(e)&&e.every(ig))}const Xr=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,og={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xr([0,.65,.55,1]),circOut:Xr([.55,0,1,.45]),backIn:Xr([.31,.01,.66,-.59]),backOut:Xr([.33,1.53,.69,.99])};function ag(e){if(e)return sg(e)?Xr(e):Array.isArray(e)?e.map(ag):og[e]}function $w(e,t,n,{delay:r=0,duration:s,repeat:i=0,repeatType:a="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const f=ag(l);return Array.isArray(f)&&(u.easing=f),e.animate(u,{delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function Hw(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const lg=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Ww=1e-7,Gw=12;function Qw(e,t,n,r,s){let i,a,l=0;do a=t+(n-t)/2,i=lg(a,r,s)-e,i>0?n=a:t=a;while(Math.abs(i)>Ww&&++l<Gw);return a}function zs(e,t,n,r){if(e===t&&n===r)return he;const s=i=>Qw(i,0,1,e,n);return i=>i===0||i===1?i:lg(s(i),t,r)}const Kw=zs(.42,0,1,1),qw=zs(0,0,.58,1),cg=zs(.42,0,.58,1),Yw=e=>Array.isArray(e)&&typeof e[0]!="number",ug=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,dg=e=>t=>1-e(1-t),Xc=e=>1-Math.sin(Math.acos(e)),fg=dg(Xc),Xw=ug(Xc),mg=zs(.33,1.53,.69,.99),Zc=dg(mg),Zw=ug(Zc),Jw=e=>(e*=2)<1?.5*Zc(e):.5*(2-Math.pow(2,-10*(e-1))),e1={linear:he,easeIn:Kw,easeInOut:cg,easeOut:qw,circIn:Xc,circInOut:Xw,circOut:fg,backIn:Zc,backInOut:Zw,backOut:mg,anticipate:Jw},$d=e=>{if(Array.isArray(e)){Yc(e.length===4);const[t,n,r,s]=e;return zs(t,n,r,s)}else if(typeof e=="string")return e1[e];return e},Jc=(e,t)=>n=>!!(Bs(n)&&tw.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),hg=(e,t,n)=>r=>{if(!Bs(r))return r;const[s,i,a,l]=r.match(Vo);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},t1=e=>dn(0,255,e),ga={...Gn,transform:e=>Math.round(t1(e))},Rn={test:Jc("rgb","red"),parse:hg("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+ga.transform(e)+", "+ga.transform(t)+", "+ga.transform(n)+", "+ls(as.transform(r))+")"};function n1(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Pl={test:Jc("#"),parse:n1,transform:Rn.transform},ar={test:Jc("hsl","hue"),parse:hg("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Pt.transform(ls(t))+", "+Pt.transform(ls(n))+", "+ls(as.transform(r))+")"},Re={test:e=>Rn.test(e)||Pl.test(e)||ar.test(e),parse:e=>Rn.test(e)?Rn.parse(e):ar.test(e)?ar.parse(e):Pl.parse(e),transform:e=>Bs(e)?e:e.hasOwnProperty("red")?Rn.transform(e):ar.transform(e)},ce=(e,t,n)=>-n*e+n*t+e;function ya(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function r1({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,a=0;if(!t)s=i=a=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=ya(c,l,e+1/3),i=ya(c,l,e),a=ya(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}const xa=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},s1=[Pl,Rn,ar],i1=e=>s1.find(t=>t.test(e));function Hd(e){const t=i1(e);let n=t.parse(e);return t===ar&&(n=r1(n)),n}const pg=(e,t)=>{const n=Hd(e),r=Hd(t),s={...n};return i=>(s.red=xa(n.red,r.red,i),s.green=xa(n.green,r.green,i),s.blue=xa(n.blue,r.blue,i),s.alpha=ce(n.alpha,r.alpha,i),Rn.transform(s))};function o1(e){var t,n;return isNaN(e)&&Bs(e)&&(((t=e.match(Vo))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(_p))===null||n===void 0?void 0:n.length)||0)>0}const gg={regex:Jv,countKey:"Vars",token:"${v}",parse:he},yg={regex:_p,countKey:"Colors",token:"${c}",parse:Re.parse},xg={regex:Vo,countKey:"Numbers",token:"${n}",parse:Gn.parse};function va(e,{regex:t,countKey:n,token:r,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(s)))}function so(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&va(n,gg),va(n,yg),va(n,xg),n}function vg(e){return so(e).values}function wg(e){const{values:t,numColors:n,numVars:r,tokenised:s}=so(e),i=t.length;return a=>{let l=s;for(let c=0;c<i;c++)c<r?l=l.replace(gg.token,a[c]):c<r+n?l=l.replace(yg.token,Re.transform(a[c])):l=l.replace(xg.token,ls(a[c]));return l}}const a1=e=>typeof e=="number"?0:e;function l1(e){const t=vg(e);return wg(e)(t.map(a1))}const fn={test:o1,parse:vg,createTransformer:wg,getAnimatableNone:l1},bg=(e,t)=>n=>`${n>0?t:e}`;function jg(e,t){return typeof e=="number"?n=>ce(e,t,n):Re.test(e)?pg(e,t):e.startsWith("var(")?bg(e,t):Ng(e,t)}const Sg=(e,t)=>{const n=[...e],r=n.length,s=e.map((i,a)=>jg(i,t[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}},c1=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=jg(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},Ng=(e,t)=>{const n=fn.createTransformer(t),r=so(e),s=so(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?an(Sg(r.values,s.values),n):bg(e,t)},Ls=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Wd=(e,t)=>n=>ce(e,t,n);function u1(e){return typeof e=="number"?Wd:typeof e=="string"?Re.test(e)?pg:Ng:Array.isArray(e)?Sg:typeof e=="object"?c1:Wd}function d1(e,t,n){const r=[],s=n||u1(e[0]),i=e.length-1;for(let a=0;a<i;a++){let l=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||he:t;l=an(c,l)}r.push(l)}return r}function kg(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Yc(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=d1(t,r,s),l=a.length,c=u=>{let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const d=Ls(e[f],e[f+1],u);return a[f](d)};return n?u=>c(dn(e[0],e[i-1],u)):c}function f1(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Ls(0,t,r);e.push(ce(n,1,s))}}function m1(e){const t=[0];return f1(t,e.length-1),t}function h1(e,t){return e.map(n=>n*t)}function p1(e,t){return e.map(()=>t||cg).splice(0,e.length-1)}function io({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=Yw(r)?r.map($d):$d(r),i={done:!1,value:t[0]},a=h1(n&&n.length===t.length?n:m1(t),e),l=kg(a,t,{ease:Array.isArray(s)?s:p1(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function Pg(e,t){return t?e*(1e3/t):0}const g1=5;function Cg(e,t,n){const r=Math.max(t-g1,0);return Pg(n-e(r),t-r)}const wa=.001,y1=.01,Gd=10,x1=.05,v1=1;function w1({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,i;_w(e<=ln(Gd));let a=1-t;a=dn(x1,v1,a),e=dn(y1,Gd,Rt(e)),a<1?(s=u=>{const f=u*a,d=f*e,m=f-n,y=Cl(u,a),v=Math.exp(-d);return wa-m/y*v},i=u=>{const d=u*a*e,m=d*n+n,y=Math.pow(a,2)*Math.pow(u,2)*e,v=Math.exp(-d),w=Cl(Math.pow(u,2),a);return(-s(u)+wa>0?-1:1)*((m-y)*v)/w}):(s=u=>{const f=Math.exp(-u*e),d=(u-n)*e+1;return-wa+f*d},i=u=>{const f=Math.exp(-u*e),d=(n-u)*(e*e);return f*d});const l=5/e,c=j1(s,i,l);if(e=ln(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:e}}}const b1=12;function j1(e,t,n){let r=n;for(let s=1;s<b1;s++)r=r-e(r)/t(r);return r}function Cl(e,t){return e*Math.sqrt(1-t*t)}const S1=["duration","bounce"],N1=["stiffness","damping","mass"];function Qd(e,t){return t.some(n=>e[n]!==void 0)}function k1(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Qd(e,N1)&&Qd(e,S1)){const n=w1(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function Tg({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],i=e[e.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:f,velocity:d,isResolvedFromDuration:m}=k1({...r,velocity:-Rt(r.velocity||0)}),y=d||0,v=c/(2*Math.sqrt(l*u)),w=i-s,j=Rt(Math.sqrt(l/u)),g=Math.abs(w)<5;n||(n=g?.01:2),t||(t=g?.005:.5);let p;if(v<1){const h=Cl(j,v);p=x=>{const k=Math.exp(-v*j*x);return i-k*((y+v*j*w)/h*Math.sin(h*x)+w*Math.cos(h*x))}}else if(v===1)p=h=>i-Math.exp(-j*h)*(w+(y+j*w)*h);else{const h=j*Math.sqrt(v*v-1);p=x=>{const k=Math.exp(-v*j*x),P=Math.min(h*x,300);return i-k*((y+v*j*w)*Math.sinh(P)+h*w*Math.cosh(P))/h}}return{calculatedDuration:m&&f||null,next:h=>{const x=p(h);if(m)a.done=h>=f;else{let k=y;h!==0&&(v<1?k=Cg(p,h,x):k=0);const P=Math.abs(k)<=n,A=Math.abs(i-x)<=t;a.done=P&&A}return a.value=a.done?i:x,a}}}function Kd({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:f}){const d=e[0],m={done:!1,value:d},y=N=>l!==void 0&&N<l||c!==void 0&&N>c,v=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let w=n*t;const j=d+w,g=a===void 0?j:a(j);g!==j&&(w=g-d);const p=N=>-w*Math.exp(-N/r),h=N=>g+p(N),x=N=>{const C=p(N),V=h(N);m.done=Math.abs(C)<=u,m.value=m.done?g:V};let k,P;const A=N=>{y(m.value)&&(k=N,P=Tg({keyframes:[m.value,v(m.value)],velocity:Cg(h,N,m.value),damping:s,stiffness:i,restDelta:u,restSpeed:f}))};return A(0),{calculatedDuration:null,next:N=>{let C=!1;return!P&&k===void 0&&(C=!0,x(N),A(N)),k!==void 0&&N>k?P.next(N-k):(!C&&x(N),m)}}}const P1=e=>{const t=({timestamp:n})=>e(n);return{start:()=>re.update(t,!0),stop:()=>Ot(t),now:()=>Me.isProcessing?Me.timestamp:performance.now()}},qd=2e4;function Yd(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<qd;)t+=n,r=e.next(t);return t>=qd?1/0:t}const C1={decay:Kd,inertia:Kd,tween:io,keyframes:io,spring:Tg};function oo({autoplay:e=!0,delay:t=0,driver:n=P1,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:f,onUpdate:d,...m}){let y=1,v=!1,w,j;const g=()=>{j=new Promise(M=>{w=M})};g();let p;const h=C1[s]||io;let x;h!==io&&typeof r[0]!="number"&&(x=kg([0,100],r,{clamp:!1}),r=[0,100]);const k=h({...m,keyframes:r});let P;l==="mirror"&&(P=h({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let A="idle",N=null,C=null,V=null;k.calculatedDuration===null&&i&&(k.calculatedDuration=Yd(k));const{calculatedDuration:_}=k;let Y=1/0,K=1/0;_!==null&&(Y=_+a,K=Y*(i+1)-a);let ee=0;const xe=M=>{if(C===null)return;y>0&&(C=Math.min(C,M)),y<0&&(C=Math.min(M-K/y,C)),N!==null?ee=N:ee=Math.round(M-C)*y;const z=ee-t*(y>=0?1:-1),X=y>=0?z<0:z>K;ee=Math.max(z,0),A==="finished"&&N===null&&(ee=K);let B=ee,fe=k;if(i){const te=Math.min(ee,K)/Y;let se=Math.floor(te),Z=te%1;!Z&&te>=1&&(Z=1),Z===1&&se--,se=Math.min(se,i+1),!!(se%2)&&(l==="reverse"?(Z=1-Z,a&&(Z-=a/Y)):l==="mirror"&&(fe=P)),B=dn(0,1,Z)*Y}const E=X?{done:!1,value:r[0]}:fe.next(B);x&&(E.value=x(E.value));let{done:U}=E;!X&&_!==null&&(U=y>=0?ee>=K:ee<=0);const $=N===null&&(A==="finished"||A==="running"&&U);return d&&d(E.value),$&&T(),E},L=()=>{p&&p.stop(),p=void 0},F=()=>{A="idle",L(),w(),g(),C=V=null},T=()=>{A="finished",f&&f(),L(),w()},S=()=>{if(v)return;p||(p=n(xe));const M=p.now();c&&c(),N!==null?C=M-N:(!C||A==="finished")&&(C=M),A==="finished"&&g(),V=C,N=null,A="running",p.start()};e&&S();const D={then(M,z){return j.then(M,z)},get time(){return Rt(ee)},set time(M){M=ln(M),ee=M,N!==null||!p||y===0?N=M:C=p.now()-M/y},get duration(){const M=k.calculatedDuration===null?Yd(k):k.calculatedDuration;return Rt(M)},get speed(){return y},set speed(M){M===y||!p||(y=M,D.time=Rt(ee))},get state(){return A},play:S,pause:()=>{A="paused",N=ee},stop:()=>{v=!0,A!=="idle"&&(A="idle",u&&u(),F())},cancel:()=>{V!==null&&xe(V),F()},complete:()=>{A="finished"},sample:M=>(C=0,xe(M))};return D}function T1(e){let t;return()=>(t===void 0&&(t=e()),t)}const E1=T1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),A1=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ci=10,M1=2e4,D1=(e,t)=>t.type==="spring"||e==="backgroundColor"||!ig(t.ease);function L1(e,t,{onUpdate:n,onComplete:r,...s}){if(!(E1()&&A1.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let a=!1,l,c,u=!1;const f=()=>{c=new Promise(h=>{l=h})};f();let{keyframes:d,duration:m=300,ease:y,times:v}=s;if(D1(t,s)){const h=oo({...s,repeat:0,delay:0});let x={done:!1,value:d[0]};const k=[];let P=0;for(;!x.done&&P<M1;)x=h.sample(P),k.push(x.value),P+=ci;v=void 0,d=k,m=P-ci,y="linear"}const w=$w(e.owner.current,t,d,{...s,duration:m,ease:y,times:v}),j=()=>{u=!1,w.cancel()},g=()=>{u=!0,re.update(j),l(),f()};return w.onfinish=()=>{u||(e.set(Hw(d,s)),r&&r(),g())},{then(h,x){return c.then(h,x)},attachTimeline(h){return w.timeline=h,w.onfinish=null,he},get time(){return Rt(w.currentTime||0)},set time(h){w.currentTime=ln(h)},get speed(){return w.playbackRate},set speed(h){w.playbackRate=h},get duration(){return Rt(m)},play:()=>{a||(w.play(),Ot(j))},pause:()=>w.pause(),stop:()=>{if(a=!0,w.playState==="idle")return;const{currentTime:h}=w;if(h){const x=oo({...s,autoplay:!1});e.setWithVelocity(x.sample(h-ci).value,x.sample(h).value,ci)}g()},complete:()=>{u||w.finish()},cancel:g}}function R1({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:he,pause:he,stop:he,then:i=>(i(),Promise.resolve()),cancel:he,complete:he});return t?oo({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const V1={type:"spring",stiffness:500,damping:25,restSpeed:10},I1=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),F1={type:"keyframes",duration:.8},U1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},O1=(e,{keyframes:t})=>t.length>2?F1:Wn.has(e)?e.startsWith("scale")?I1(t[1]):V1:U1,Tl=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fn.test(t)||t==="0")&&!t.startsWith("url(")),B1=new Set(["brightness","contrast","saturate","opacity"]);function _1(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Vo)||[];if(!r)return e;const s=n.replace(r,"");let i=B1.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const z1=/([a-z-]*)\(.*?\)/g,El={...fn,getAnimatableNone:e=>{const t=e.match(z1);return t?t.map(_1).join(" "):e}},$1={...zp,color:Re,backgroundColor:Re,outlineColor:Re,fill:Re,stroke:Re,borderColor:Re,borderTopColor:Re,borderRightColor:Re,borderBottomColor:Re,borderLeftColor:Re,filter:El,WebkitFilter:El},eu=e=>$1[e];function Eg(e,t){let n=eu(e);return n!==El&&(n=fn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Ag=e=>/^0[^.\s]+$/.test(e);function H1(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Ag(e)}function W1(e,t,n,r){const s=Tl(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const a=r.from!==void 0?r.from:e.get();let l;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?a:i[u-1]),H1(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(l=i[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const f=c[u];i[f]=Eg(t,l)}return i}function G1({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...f}){return!!Object.keys(f).length}function tu(e,t){return e[t]||e.default||e}const Q1={skipAnimations:!1},nu=(e,t,n,r={})=>s=>{const i=tu(r,e)||{},a=i.delay||r.delay||0;let{elapsed:l=0}=r;l=l-ln(a);const c=W1(t,e,n,i),u=c[0],f=c[c.length-1],d=Tl(e,u),m=Tl(e,f);let y={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:v=>{t.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(G1(i)||(y={...y,...O1(e,y)}),y.duration&&(y.duration=ln(y.duration)),y.repeatDelay&&(y.repeatDelay=ln(y.repeatDelay)),!d||!m||zw.current||i.type===!1||Q1.skipAnimations)return R1(y);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=L1(t,e,y);if(v)return v}return oo(y)};function ao(e){return!!(He(e)&&e.add)}const Mg=e=>/^\-?\d*\.?\d+$/.test(e);function ru(e,t){e.indexOf(t)===-1&&e.push(t)}function su(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class iu{constructor(){this.subscriptions=[]}add(t){return ru(this.subscriptions,t),()=>su(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const K1=e=>!isNaN(parseFloat(e));class q1{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:a}=Me;this.lastUpdated!==a&&(this.timeDelta=i,this.lastUpdated=a,re.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>re.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=K1(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new iu);const r=this.events[t].add(n);return t==="change"?()=>{r(),re.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Pg(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Sr(e,t){return new q1(e,t)}const Dg=e=>t=>t.test(e),Y1={test:e=>e==="auto",parse:e=>e},Lg=[Gn,H,Pt,zt,rw,nw,Y1],_r=e=>Lg.find(Dg(e)),X1=[...Lg,Re,fn],Z1=e=>X1.find(Dg(e));function J1(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Sr(n))}function eb(e,t){const n=Fo(e,t);let{transitionEnd:r={},transition:s={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const a in i){const l=yw(i[a]);J1(e,a,l)}}function tb(e,t,n){var r,s;const i=Object.keys(t).filter(l=>!e.hasValue(l)),a=i.length;if(a)for(let l=0;l<a;l++){const c=i[l],u=t[c];let f=null;Array.isArray(u)&&(f=u[0]),f===null&&(f=(s=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&s!==void 0?s:t[c]),f!=null&&(typeof f=="string"&&(Mg(f)||Ag(f))?f=parseFloat(f):!Z1(f)&&fn.test(u)&&(f=Eg(c,u)),e.addValue(c,Sr(f,{owner:e})),n[c]===void 0&&(n[c]=f),f!==null&&e.setBaseTarget(c,f))}}function nb(e,t){return t?(t[e]||t.default||t).from:void 0}function rb(e,t,n){const r={};for(const s in e){const i=nb(s,t);if(i!==void 0)r[s]=i;else{const a=n.getValue(s);a&&(r[s]=a.get())}}return r}function sb({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function ib(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function Rg(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(i=r);const u=[],f=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const m=e.getValue(d),y=l[d];if(!m||y===void 0||f&&sb(f,d))continue;const v={delay:n,elapsed:0,...tu(i||{},d)};if(window.HandoffAppearAnimations){const g=e.getProps()[Vp];if(g){const p=window.HandoffAppearAnimations(g,d,m,re);p!==null&&(v.elapsed=p,v.isHandoff=!0)}}let w=!v.isHandoff&&!ib(m,y);if(v.type==="spring"&&(m.getVelocity()||v.velocity)&&(w=!1),m.animation&&(w=!1),w)continue;m.start(nu(d,m,y,e.shouldReduceMotion&&Wn.has(d)?{type:!1}:v));const j=m.animation;ao(c)&&(c.add(d),j.then(()=>c.remove(d))),u.push(j)}return a&&Promise.all(u).then(()=>{a&&eb(e,a)}),u}function Al(e,t,n={}){const r=Fo(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Rg(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:d}=s;return ob(e,t,u+c,f,d,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>u())}else return Promise.all([i(),a(n.delay)])}function ob(e,t,n=0,r=0,s=1,i){const a=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(ab).forEach((u,f)=>{u.notify("AnimationStart",t),a.push(Al(u,t,{...i,delay:n+c(f)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function ab(e,t){return e.sortNodePosition(t)}function lb(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Al(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Al(e,t,n);else{const s=typeof t=="function"?Fo(e,t,n.custom):t;r=Promise.all(Rg(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const cb=[...Bc].reverse(),ub=Bc.length;function db(e){return t=>Promise.all(t.map(({animation:n,options:r})=>lb(e,n,r)))}function fb(e){let t=db(e);const n=hb();let r=!0;const s=(c,u)=>{const f=Fo(e,u);if(f){const{transition:d,transitionEnd:m,...y}=f;c={...c,...y,...m}}return c};function i(c){t=c(e)}function a(c,u){const f=e.getProps(),d=e.getVariantContext(!0)||{},m=[],y=new Set;let v={},w=1/0;for(let g=0;g<ub;g++){const p=cb[g],h=n[p],x=f[p]!==void 0?f[p]:d[p],k=Ms(x),P=p===u?h.isActive:null;P===!1&&(w=g);let A=x===d[p]&&x!==f[p]&&k;if(A&&r&&e.manuallyAnimateOnMount&&(A=!1),h.protectedKeys={...v},!h.isActive&&P===null||!x&&!h.prevProp||Lo(x)||typeof x=="boolean")continue;let C=mb(h.prevProp,x)||p===u&&h.isActive&&!A&&k||g>w&&k,V=!1;const _=Array.isArray(x)?x:[x];let Y=_.reduce(s,{});P===!1&&(Y={});const{prevResolvedValues:K={}}=h,ee={...K,...Y},xe=L=>{C=!0,y.has(L)&&(V=!0,y.delete(L)),h.needsAnimating[L]=!0};for(const L in ee){const F=Y[L],T=K[L];if(v.hasOwnProperty(L))continue;let S=!1;ro(F)&&ro(T)?S=!rg(F,T):S=F!==T,S?F!==void 0?xe(L):y.add(L):F!==void 0&&y.has(L)?xe(L):h.protectedKeys[L]=!0}h.prevProp=x,h.prevResolvedValues=Y,h.isActive&&(v={...v,...Y}),r&&e.blockInitialAnimation&&(C=!1),C&&(!A||V)&&m.push(..._.map(L=>({animation:L,options:{type:p,...c}})))}if(y.size){const g={};y.forEach(p=>{const h=e.getBaseTarget(p);h!==void 0&&(g[p]=h)}),m.push({animation:g})}let j=!!m.length;return r&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(j=!1),r=!1,j?t(m):Promise.resolve()}function l(c,u,f){var d;if(n[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(y=>{var v;return(v=y.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),n[c].isActive=u;const m=a(f,c);for(const y in n)n[y].protectedKeys={};return m}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n}}function mb(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!rg(t,e):!1}function xn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hb(){return{animate:xn(!0),whileInView:xn(),whileHover:xn(),whileTap:xn(),whileDrag:xn(),whileFocus:xn(),exit:xn()}}class pb extends gn{constructor(t){super(t),t.animationState||(t.animationState=fb(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Lo(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let gb=0;class yb extends gn{constructor(){super(...arguments),this.id=gb++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const xb={animation:{Feature:pb},exit:{Feature:yb}},Xd=(e,t)=>Math.abs(e-t);function vb(e,t){const n=Xd(e.x,t.x),r=Xd(e.y,t.y);return Math.sqrt(n**2+r**2)}class Vg{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=ja(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=vb(d.offset,{x:0,y:0})>=3;if(!m&&!y)return;const{point:v}=d,{timestamp:w}=Me;this.history.push({...v,timestamp:w});const{onStart:j,onMove:g}=this.handlers;m||(j&&j(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,m)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=ba(m,this.transformPagePoint),re.update(this.updatePoint,!0)},this.handlePointerUp=(d,m)=>{this.end();const{onEnd:y,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=ja(d.type==="pointercancel"?this.lastMoveEventInfo:ba(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(d,j),v&&v(d,j)},!Zp(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=Io(t),l=ba(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=Me;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=n;f&&f(t,ja(l,this.history)),this.removeListeners=an(Lt(this.contextWindow,"pointermove",this.handlePointerMove),Lt(this.contextWindow,"pointerup",this.handlePointerUp),Lt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ot(this.updatePoint)}}function ba(e,t){return t?{point:t(e.point)}:e}function Zd(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ja({point:e},t){return{point:e,delta:Zd(e,Ig(t)),offset:Zd(e,wb(t)),velocity:bb(t,.1)}}function wb(e){return e[0]}function Ig(e){return e[e.length-1]}function bb(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Ig(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>ln(t)));)n--;if(!r)return{x:0,y:0};const i=Rt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Ze(e){return e.max-e.min}function Ml(e,t=0,n=.01){return Math.abs(e-t)<=n}function Jd(e,t,n,r=.5){e.origin=r,e.originPoint=ce(t.min,t.max,e.origin),e.scale=Ze(n)/Ze(t),(Ml(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ce(n.min,n.max,e.origin)-e.originPoint,(Ml(e.translate)||isNaN(e.translate))&&(e.translate=0)}function cs(e,t,n,r){Jd(e.x,t.x,n.x,r?r.originX:void 0),Jd(e.y,t.y,n.y,r?r.originY:void 0)}function ef(e,t,n){e.min=n.min+t.min,e.max=e.min+Ze(t)}function jb(e,t,n){ef(e.x,t.x,n.x),ef(e.y,t.y,n.y)}function tf(e,t,n){e.min=t.min-n.min,e.max=e.min+Ze(t)}function us(e,t,n){tf(e.x,t.x,n.x),tf(e.y,t.y,n.y)}function Sb(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ce(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ce(n,e,r.max):Math.min(e,n)),e}function nf(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Nb(e,{top:t,left:n,bottom:r,right:s}){return{x:nf(e.x,n,s),y:nf(e.y,t,r)}}function rf(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function kb(e,t){return{x:rf(e.x,t.x),y:rf(e.y,t.y)}}function Pb(e,t){let n=.5;const r=Ze(e),s=Ze(t);return s>r?n=Ls(t.min,t.max-r,e.min):r>s&&(n=Ls(e.min,e.max-s,t.min)),dn(0,1,n)}function Cb(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Dl=.35;function Tb(e=Dl){return e===!1?e=0:e===!0&&(e=Dl),{x:sf(e,"left","right"),y:sf(e,"top","bottom")}}function sf(e,t,n){return{min:of(e,t),max:of(e,n)}}function of(e,t){return typeof e=="number"?e:e[t]||0}const af=()=>({translate:0,scale:1,origin:0,originPoint:0}),lr=()=>({x:af(),y:af()}),lf=()=>({min:0,max:0}),ge=()=>({x:lf(),y:lf()});function rt(e){return[e("x"),e("y")]}function Fg({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Eb({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Ab(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Sa(e){return e===void 0||e===1}function Ll({scale:e,scaleX:t,scaleY:n}){return!Sa(e)||!Sa(t)||!Sa(n)}function jn(e){return Ll(e)||Ug(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Ug(e){return cf(e.x)||cf(e.y)}function cf(e){return e&&e!=="0%"}function lo(e,t,n){const r=e-n,s=t*r;return n+s}function uf(e,t,n,r,s){return s!==void 0&&(e=lo(e,s,r)),lo(e,n,r)+t}function Rl(e,t=0,n=1,r,s){e.min=uf(e.min,t,n,r,s),e.max=uf(e.max,t,n,r,s)}function Og(e,{x:t,y:n}){Rl(e.x,t.translate,t.scale,t.originPoint),Rl(e.y,n.translate,n.scale,n.originPoint)}function Mb(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&cr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Og(e,a)),r&&jn(i.latestValues)&&cr(e,i.latestValues))}t.x=df(t.x),t.y=df(t.y)}function df(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Wt(e,t){e.min=e.min+t,e.max=e.max+t}function ff(e,t,[n,r,s]){const i=t[s]!==void 0?t[s]:.5,a=ce(e.min,e.max,i);Rl(e,t[n],t[r],a,t.scale)}const Db=["x","scaleX","originX"],Lb=["y","scaleY","originY"];function cr(e,t){ff(e.x,t,Db),ff(e.y,t,Lb)}function Bg(e,t){return Fg(Ab(e.getBoundingClientRect(),t))}function Rb(e,t,n){const r=Bg(e,n),{scroll:s}=t;return s&&(Wt(r.x,s.offset.x),Wt(r.y,s.offset.y)),r}const _g=({current:e})=>e?e.ownerDocument.defaultView:null,Vb=new WeakMap;class Ib{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ge(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Io(f,"page").point)},i=(f,d)=>{const{drag:m,dragPropagation:y,onDragStart:v}=this.getProps();if(m&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=eg(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rt(j=>{let g=this.getAxisMotionValue(j).get()||0;if(Pt.test(g)){const{projection:p}=this.visualElement;if(p&&p.layout){const h=p.layout.layoutBox[j];h&&(g=Ze(h)*(parseFloat(g)/100))}}this.originPoint[j]=g}),v&&re.update(()=>v(f,d),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(f,d)=>{const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:v,onDrag:w}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:j}=d;if(y&&this.currentDirection===null){this.currentDirection=Fb(j),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,j),this.updateAxis("y",d.point,j),this.visualElement.render(),w&&w(f,d)},l=(f,d)=>this.stop(f,d),c=()=>rt(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Vg(t,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:_g(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&re.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!ui(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=Sb(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&or(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=Nb(s.layoutBox,n):this.constraints=!1,this.elastic=Tb(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&rt(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=Cb(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!or(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Rb(r,s.root,this.visualElement.getTransformPagePoint());let a=kb(s.layout.layoutBox,i);if(n){const l=n(Eb(a));this.hasMutatedConstraints=!!l,l&&(a=Fg(l))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=rt(f=>{if(!ui(f,n,this.currentDirection))return;let d=c&&c[f]||{};a&&(d={min:0,max:0});const m=s?200:1e6,y=s?40:1e7,v={type:"inertia",velocity:r?t[f]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(f,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(nu(t,r,0,n))}stopAnimation(){rt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){rt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){rt(n=>{const{drag:r}=this.getProps();if(!ui(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(t[n]-ce(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!or(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};rt(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();s[a]=Pb({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),rt(a=>{if(!ui(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(ce(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;Vb.set(this.visualElement,this);const t=this.visualElement.current,n=Lt(t,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();or(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const a=Mt(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(rt(f=>{const d=this.getAxisMotionValue(f);d&&(this.originPoint[f]+=c[f].translate,d.set(d.get()+c[f].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Dl,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function ui(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Fb(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Ub extends gn{constructor(t){super(t),this.removeGroupControls=he,this.removeListeners=he,this.controls=new Ib(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||he}unmount(){this.removeGroupControls(),this.removeListeners()}}const mf=e=>(t,n)=>{e&&re.update(()=>e(t,n))};class Ob extends gn{constructor(){super(...arguments),this.removePointerDownListener=he}onPointerDown(t){this.session=new Vg(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_g(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:mf(t),onStart:mf(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&re.update(()=>s(i,a))}}}mount(){this.removePointerDownListener=Lt(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Bb(){const e=b.useContext(Mo);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=b.useId();return b.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const Ti={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function hf(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const zr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(H.test(e))e=parseFloat(e);else return e;const n=hf(e,t.target.x),r=hf(e,t.target.y);return`${n}% ${r}%`}},_b={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=fn.parse(e);if(s.length>5)return r;const i=fn.createTransformer(e),a=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+a]/=l,s[1+a]/=c;const u=ce(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};class zb extends Ye.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;qv($b),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ti.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||re.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function zg(e){const[t,n]=Bb(),r=b.useContext(zc);return Ye.createElement(zb,{...e,layoutGroup:r,switchLayoutGroup:b.useContext(Fp),isPresent:t,safeToRemove:n})}const $b={borderRadius:{...zr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zr,borderTopRightRadius:zr,borderBottomLeftRadius:zr,borderBottomRightRadius:zr,boxShadow:_b},$g=["TopLeft","TopRight","BottomLeft","BottomRight"],Hb=$g.length,pf=e=>typeof e=="string"?parseFloat(e):e,gf=e=>typeof e=="number"||H.test(e);function Wb(e,t,n,r,s,i){s?(e.opacity=ce(0,n.opacity!==void 0?n.opacity:1,Gb(r)),e.opacityExit=ce(t.opacity!==void 0?t.opacity:1,0,Qb(r))):i&&(e.opacity=ce(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<Hb;a++){const l=`border${$g[a]}Radius`;let c=yf(t,l),u=yf(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||gf(c)===gf(u)?(e[l]=Math.max(ce(pf(c),pf(u),r),0),(Pt.test(u)||Pt.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=ce(t.rotate||0,n.rotate||0,r))}function yf(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Gb=Hg(0,.5,fg),Qb=Hg(.5,.95,he);function Hg(e,t,n){return r=>r<e?0:r>t?1:n(Ls(e,t,r))}function xf(e,t){e.min=t.min,e.max=t.max}function tt(e,t){xf(e.x,t.x),xf(e.y,t.y)}function vf(e,t,n,r,s){return e-=t,e=lo(e,1/n,r),s!==void 0&&(e=lo(e,1/s,r)),e}function Kb(e,t=0,n=1,r=.5,s,i=e,a=e){if(Pt.test(t)&&(t=parseFloat(t),t=ce(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=ce(i.min,i.max,r);e===i&&(l-=t),e.min=vf(e.min,t,n,l,s),e.max=vf(e.max,t,n,l,s)}function wf(e,t,[n,r,s],i,a){Kb(e,t[n],t[r],t[s],t.scale,i,a)}const qb=["x","scaleX","originX"],Yb=["y","scaleY","originY"];function bf(e,t,n,r){wf(e.x,t,qb,n?n.x:void 0,r?r.x:void 0),wf(e.y,t,Yb,n?n.y:void 0,r?r.y:void 0)}function jf(e){return e.translate===0&&e.scale===1}function Wg(e){return jf(e.x)&&jf(e.y)}function Xb(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Gg(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Sf(e){return Ze(e.x)/Ze(e.y)}class Zb{constructor(){this.members=[]}add(t){ru(this.members,t),t.scheduleRender()}remove(t){if(su(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Nf(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:f}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),f&&(r+=`rotateY(${f}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Jb=(e,t)=>e.depth-t.depth;class ej{constructor(){this.children=[],this.isDirty=!1}add(t){ru(this.children,t),this.isDirty=!0}remove(t){su(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Jb),this.isDirty=!1,this.children.forEach(t)}}function tj(e,t){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Ot(r),e(i-t))};return re.read(r,!0),()=>Ot(r)}function nj(e){window.MotionDebug&&window.MotionDebug.record(e)}function rj(e){return e instanceof SVGElement&&e.tagName!=="svg"}function sj(e,t,n){const r=He(e)?e:Sr(e);return r.start(nu("",r,t,n)),r.animation}const kf=["","X","Y","Z"],ij={visibility:"hidden"},Pf=1e3;let oj=0;const Sn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Qg({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=t==null?void 0:t()){this.id=oj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Sn.totalNodes=Sn.resolvedTargetDeltas=Sn.recalculatedProjection=0,this.nodes.forEach(cj),this.nodes.forEach(hj),this.nodes.forEach(pj),this.nodes.forEach(uj),nj(Sn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new ej)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new iu),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=rj(a),this.instance=a;const{layoutId:c,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let d;const m=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=tj(m,250),Ti.hasAnimatedSinceResize&&(Ti.hasAnimatedSinceResize=!1,this.nodes.forEach(Tf))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m,hasRelativeTargetChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||f.getDefaultTransition()||wj,{onLayoutAnimationStart:j,onLayoutAnimationComplete:g}=f.getProps(),p=!this.targetLayout||!Gg(this.targetLayout,v)||y,h=!m&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||h||m&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,h);const x={...tu(w,"layout"),onPlay:j,onComplete:g};(f.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else m||Tf(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ot(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gj),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const d=this.path[f];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Cf);return}this.isUpdating||this.nodes.forEach(fj),this.isUpdating=!1,this.nodes.forEach(mj),this.nodes.forEach(aj),this.nodes.forEach(lj),this.clearAllSnapshots();const l=performance.now();Me.delta=dn(0,1e3/60,l-Me.timestamp),Me.timestamp=l,Me.isProcessing=!0,ma.update.process(Me),ma.preRender.process(Me),ma.render.process(Me),Me.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(dj),this.sharedNodes.forEach(yj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Wg(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;a&&(l||jn(this.latestValues)||f)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),bj(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return ge();const l=a.measureViewportBox(),{scroll:c}=this.root;return c&&(Wt(l.x,c.offset.x),Wt(l.y,c.offset.y)),l}removeElementScroll(a){const l=ge();tt(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:d}=u;if(u!==this.root&&f&&d.layoutScroll){if(f.isRoot){tt(l,a);const{scroll:m}=this.root;m&&(Wt(l.x,-m.offset.x),Wt(l.y,-m.offset.y))}Wt(l.x,f.offset.x),Wt(l.y,f.offset.y)}}return l}applyTransform(a,l=!1){const c=ge();tt(c,a);for(let u=0;u<this.path.length;u++){const f=this.path[u];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&cr(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),jn(f.latestValues)&&cr(c,f.latestValues)}return jn(this.latestValues)&&cr(c,this.latestValues),c}removeTransform(a){const l=ge();tt(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!jn(u.latestValues))continue;Ll(u.latestValues)&&u.updateSnapshot();const f=ge(),d=u.measurePageBox();tt(f,d),bf(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return jn(this.latestValues)&&bf(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Me.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:m}=this.options;if(!(!this.layout||!(d||m))){if(this.resolvedRelativeTargetAt=Me.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),us(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),tt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ge(),this.targetWithTransforms=ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jb(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tt(this.target,this.layout.layoutBox),Og(this.target,this.targetDelta)):tt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),us(this.relativeTargetOrigin,this.target,y.target),tt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Sn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ll(this.parent.latestValues)||Ug(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Me.timestamp&&(u=!1),u)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;tt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;Mb(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:v}=l;if(!v){this.projectionTransform&&(this.projectionDelta=lr(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=lr(),this.projectionDeltaWithTransform=lr());const w=this.projectionTransform;cs(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=Nf(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==m||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Sn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},f={...this.latestValues},d=lr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=ge(),y=c?c.source:void 0,v=this.layout?this.layout.source:void 0,w=y!==v,j=this.getStack(),g=!j||j.members.length<=1,p=!!(w&&!g&&this.options.crossfade===!0&&!this.path.some(vj));this.animationProgress=0;let h;this.mixTargetDelta=x=>{const k=x/1e3;Ef(d.x,a.x,k),Ef(d.y,a.y,k),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(us(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xj(this.relativeTarget,this.relativeTargetOrigin,m,k),h&&Xb(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h=ge()),tt(h,this.relativeTarget)),w&&(this.animationValues=f,Wb(f,u,this.latestValues,k,p,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ot(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=re.update(()=>{Ti.hasAnimatedSinceResize=!0,this.currentAnimation=sj(0,Pf,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Pf),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:f}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&Kg(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ge();const d=Ze(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+d;const m=Ze(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+m}tt(l,c),cr(l,f),cs(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Zb),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let f=0;f<kf.length;f++){const d="rotate"+kf[f];c[d]&&(u[d]=c[d],a.setStaticValue(d,0))}a.render();for(const f in u)a.setStaticValue(f,u[f]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ij;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ci(a==null?void 0:a.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Ci(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!jn(this.latestValues)&&(w.transform=f?f({},""):"none",this.hasProjected=!1),w}const m=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=Nf(this.projectionDeltaWithTransform,this.treeScale,m),f&&(u.transform=f(m,u.transform));const{x:y,y:v}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,d.animationValues?u.opacity=d===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=d===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const w in to){if(m[w]===void 0)continue;const{correct:j,applyTo:g}=to[w],p=u.transform==="none"?m[w]:j(m[w],d);if(g){const h=g.length;for(let x=0;x<h;x++)u[g[x]]=p}else u[w]=p}return this.options.layoutId&&(u.pointerEvents=d===this?Ci(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Cf),this.root.sharedNodes.clear()}}}function aj(e){e.updateLayout()}function lj(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,a=n.source!==e.layout.source;i==="size"?rt(d=>{const m=a?n.measuredBox[d]:n.layoutBox[d],y=Ze(m);m.min=r[d].min,m.max=m.min+y}):Kg(i,n.layoutBox,r)&&rt(d=>{const m=a?n.measuredBox[d]:n.layoutBox[d],y=Ze(r[d]);m.max=m.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+y)});const l=lr();cs(l,r,n.layoutBox);const c=lr();a?cs(c,e.applyTransform(s,!0),n.measuredBox):cs(c,r,n.layoutBox);const u=!Wg(l);let f=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:m,layout:y}=d;if(m&&y){const v=ge();us(v,n.layoutBox,m.layoutBox);const w=ge();us(w,r,y.layoutBox),Gg(v,w)||(f=!0),d.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=v,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function cj(e){Sn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function uj(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function dj(e){e.clearSnapshot()}function Cf(e){e.clearMeasurements()}function fj(e){e.isLayoutDirty=!1}function mj(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Tf(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function hj(e){e.resolveTargetDelta()}function pj(e){e.calcProjection()}function gj(e){e.resetRotation()}function yj(e){e.removeLeadSnapshot()}function Ef(e,t,n){e.translate=ce(t.translate,0,n),e.scale=ce(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Af(e,t,n,r){e.min=ce(t.min,n.min,r),e.max=ce(t.max,n.max,r)}function xj(e,t,n,r){Af(e.x,t.x,n.x,r),Af(e.y,t.y,n.y,r)}function vj(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const wj={duration:.45,ease:[.4,0,.1,1]},Mf=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Df=Mf("applewebkit/")&&!Mf("chrome/")?Math.round:he;function Lf(e){e.min=Df(e.min),e.max=Df(e.max)}function bj(e){Lf(e.x),Lf(e.y)}function Kg(e,t,n){return e==="position"||e==="preserve-aspect"&&!Ml(Sf(t),Sf(n),.2)}const jj=Qg({attachResizeListener:(e,t)=>Mt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Na={current:void 0},qg=Qg({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Na.current){const e=new jj({});e.mount(window),e.setOptions({layoutScroll:!0}),Na.current=e}return Na.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Sj={pan:{Feature:Ob},drag:{Feature:Ub,ProjectionNode:qg,MeasureLayout:zg}},Nj=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function kj(e){const t=Nj.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Vl(e,t,n=1){const[r,s]=kj(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const a=i.trim();return Mg(a)?parseFloat(a):a}else return Nl(s)?Vl(s,t,n+1):s}function Pj(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const i=s.get();if(!Nl(i))return;const a=Vl(i,r);a&&s.set(a)});for(const s in t){const i=t[s];if(!Nl(i))continue;const a=Vl(i,r);a&&(t[s]=a,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:t,transitionEnd:n}}const Cj=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Yg=e=>Cj.has(e),Tj=e=>Object.keys(e).some(Yg),Rf=e=>e===Gn||e===H,Vf=(e,t)=>parseFloat(e.split(", ")[t]),If=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return Vf(s[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?Vf(i[1],e):0}},Ej=new Set(["x","y","z"]),Aj=Os.filter(e=>!Ej.has(e));function Mj(e){const t=[];return Aj.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Nr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:If(4,13),y:If(5,14)};Nr.translateX=Nr.x;Nr.translateY=Nr.y;const Dj=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:a}=i,l={};a==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=Nr[u](r,i)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const f=t.getValue(u);f&&f.jump(l[u]),e[u]=Nr[u](c,i)}),e},Lj=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(Yg);let i=[],a=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let f=n[c],d=_r(f);const m=t[c];let y;if(ro(m)){const v=m.length,w=m[0]===null?1:0;f=m[w],d=_r(f);for(let j=w;j<v&&m[j]!==null;j++)y?Yc(_r(m[j])===y):y=_r(m[j])}else y=_r(m);if(d!==y)if(Rf(d)&&Rf(y)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof m=="string"?t[c]=parseFloat(m):Array.isArray(m)&&y===H&&(t[c]=m.map(parseFloat))}else d!=null&&d.transform&&(y!=null&&y.transform)&&(f===0||m===0)?f===0?u.set(y.transform(f)):t[c]=d.transform(m):(a||(i=Mj(e),a=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(m))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=Dj(t,e,l);return i.length&&i.forEach(([f,d])=>{e.getValue(f).set(d)}),e.render(),Do&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Rj(e,t,n,r){return Tj(t)?Lj(e,t,n,r):{target:t,transitionEnd:r}}const Vj=(e,t,n,r)=>{const s=Pj(e,t,r);return t=s.target,r=s.transitionEnd,Rj(e,t,n,r)},Il={current:null},Xg={current:!1};function Ij(){if(Xg.current=!0,!!Do)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Il.current=e.matches;e.addListener(t),t()}else Il.current=!1}function Fj(e,t,n){const{willChange:r}=t;for(const s in t){const i=t[s],a=n[s];if(He(i))e.addValue(s,i),ao(r)&&r.add(s);else if(He(a))e.addValue(s,Sr(i,{owner:e})),ao(r)&&r.remove(s);else if(a!==i)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(s);e.addValue(s,Sr(l!==void 0?l:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Ff=new WeakMap,Zg=Object.keys(Ds),Uj=Zg.length,Uf=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Oj=_c.length;class Bj{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>re.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.isControllingVariants=Ro(n),this.isVariantNode=Ip(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(n,{});for(const d in f){const m=f[d];l[d]!==void 0&&He(m)&&(m.set(l[d],!1),ao(u)&&u.add(d))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Ff.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Xg.current||Ij(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Il.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ff.delete(this.current),this.projection&&this.projection.unmount(),Ot(this.notifyUpdate),Ot(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Wn.has(t),s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&re.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,i){let a,l;for(let c=0;c<Uj;c++){const u=Zg[c],{isEnabled:f,Feature:d,ProjectionNode:m,MeasureLayout:y}=Ds[u];m&&(a=m),f(n)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),y&&(l=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:f,dragConstraints:d,layoutScroll:m,layoutRoot:y}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!f||d&&or(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:m,layoutRoot:y})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Uf.length;r++){const s=Uf[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=Fj(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Oj;r++){const s=_c[r],i=this.props[s];(Ms(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Sr(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=qc(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!He(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new iu),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Jg extends Bj{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},i){let a=rb(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),a&&(a=s(a))),i){tb(this,r,a);const l=Vj(this,r,a,n);n=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:n,...r}}}function _j(e){return window.getComputedStyle(e)}class zj extends Jg{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Wn.has(n)){const r=eu(n);return r&&r.default||0}else{const r=_j(t),s=(Bp(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Bg(t,n)}build(t,n,r,s){Hc(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Kc(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;He(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){Gp(t,n,r,s)}}class $j extends Jg{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Wn.has(n)){const r=eu(n);return r&&r.default||0}return n=Qp.has(n)?n:Oc(n),t.getAttribute(n)}measureInstanceViewportBox(){return ge()}scrapeMotionValuesFromProps(t,n){return qp(t,n)}build(t,n,r,s){Gc(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){Kp(t,n,r,s)}mount(t){this.isSVGTag=Qc(t.tagName),super.mount(t)}}const Hj=(e,t)=>$c(e)?new $j(t,{enableHardwareAcceleration:!1}):new zj(t,{enableHardwareAcceleration:!0}),Wj={layout:{ProjectionNode:qg,MeasureLayout:zg}},Gj={...xb,...Uw,...Sj,...Wj},R=Qv((e,t)=>kw(e,t,Gj,Hj));function e0(){const e=b.useRef(!1);return Uc(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Qj(){const e=e0(),[t,n]=b.useState(0),r=b.useCallback(()=>{e.current&&n(t+1)},[t]);return[b.useCallback(()=>re.postRender(r),[r]),t]}class Kj extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function qj({children:e,isPresent:t}){const n=b.useId(),r=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0});return b.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:c}=s.current;if(t||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),b.createElement(Kj,{isPresent:t,childRef:r,sizeRef:s},b.cloneElement(e,{ref:r}))}const ka=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a})=>{const l=Yp(Yj),c=b.useId(),u=b.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:f=>{l.set(f,!0);for(const d of l.values())if(!d)return;r&&r()},register:f=>(l.set(f,!1),()=>l.delete(f))}),i?void 0:[n]);return b.useMemo(()=>{l.forEach((f,d)=>l.set(d,!1))},[n]),b.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(e=b.createElement(qj,{isPresent:n},e)),b.createElement(Mo.Provider,{value:u},e)};function Yj(){return new Map}function Xj(e){return b.useEffect(()=>()=>e(),[])}const Nn=e=>e.key||"";function Zj(e,t){e.forEach(n=>{const r=Nn(n);t.set(r,n)})}function Jj(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const kr=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:a="sync"})=>{const l=b.useContext(zc).forceRender||Qj()[0],c=e0(),u=Jj(e);let f=u;const d=b.useRef(new Map).current,m=b.useRef(f),y=b.useRef(new Map).current,v=b.useRef(!0);if(Uc(()=>{v.current=!1,Zj(u,y),m.current=f}),Xj(()=>{v.current=!0,y.clear(),d.clear()}),v.current)return b.createElement(b.Fragment,null,f.map(p=>b.createElement(ka,{key:Nn(p),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:a},p)));f=[...f];const w=m.current.map(Nn),j=u.map(Nn),g=w.length;for(let p=0;p<g;p++){const h=w[p];j.indexOf(h)===-1&&!d.has(h)&&d.set(h,void 0)}return a==="wait"&&d.size&&(f=[]),d.forEach((p,h)=>{if(j.indexOf(h)!==-1)return;const x=y.get(h);if(!x)return;const k=w.indexOf(h);let P=p;if(!P){const A=()=>{d.delete(h);const N=Array.from(y.keys()).filter(C=>!j.includes(C));if(N.forEach(C=>y.delete(C)),m.current=u.filter(C=>{const V=Nn(C);return V===h||N.includes(V)}),!d.size){if(c.current===!1)return;l(),r&&r()}};P=b.createElement(ka,{key:Nn(x),isPresent:!1,onExitComplete:A,custom:t,presenceAffectsLayout:i,mode:a},x),d.set(h,P)}f.splice(k,0,P)}),f=f.map(p=>{const h=p.key;return d.has(h)?p:b.createElement(ka,{key:Nn(p),isPresent:!0,presenceAffectsLayout:i,mode:a},p)}),b.createElement(b.Fragment,null,d.size?f:f.map(p=>b.cloneElement(p)))},eS=()=>o.jsx("span",{children:""}),tS=()=>o.jsx("span",{children:""}),nS=()=>o.jsx("span",{children:""}),rS=({appState:e,onCompleteTask:t,onUpdateState:n})=>{const[r,s]=b.useState(null),i=Dp(e.dailyStats),a=e.tasks.filter(d=>!d.completed).slice(0,5),l=Fc(e.user.xp),c=Mp(e.user.xp),u=d=>{t(d),s(null);const m=document.getElementById(`task-${d}`);m&&m.classList.add("celebration-animation")},f=[{title:"Drink a glass of water",category:"Self-Care",xp:10,icon:""},{title:"Take 5 deep breaths",category:"Zen",xp:15,icon:""},{title:"Tidy desk for 2 minutes",category:"Home",xp:20,icon:""},{title:"Send that text you've been putting off",category:"Social",xp:25,icon:""}];return o.jsxs("div",{className:"p-4 space-y-6 max-w-4xl mx-auto",children:[o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center space-y-2",children:[o.jsx("div",{className:"text-4xl",children:e.user.avatar}),o.jsxs("h1",{className:"text-2xl font-bold text-gray-800",children:["Welcome back, ",e.user.name,"!"]}),o.jsx("p",{className:"text-gray-600",children:"Ready to conquer some quests today? "})]}),o.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"card bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold",children:l}),o.jsx("div",{className:"text-sm opacity-90",children:"Level"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold",children:e.user.totalPoints.toLocaleString()}),o.jsx("div",{className:"text-sm opacity-90",children:"Total XP"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold",children:e.user.streak}),o.jsx("div",{className:"text-sm opacity-90",children:"Day Streak"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold",children:i.tasksCompleted}),o.jsx("div",{className:"text-sm opacity-90",children:"Today's Quests"})]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsxs("span",{children:["Progress to Level ",l+1]}),o.jsxs("span",{children:[Math.round(c),"%"]})]}),o.jsx("div",{className:"w-full bg-white/20 rounded-full h-3",children:o.jsx(R.div,{className:"bg-white rounded-full h-3",initial:{width:0},animate:{width:`${c}%`},transition:{duration:1,ease:"easeOut"}})})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"card",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(eS,{}),o.jsx("h2",{className:"text-xl font-semibold",children:"Your Active Quests"})]}),a.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx("div",{className:"text-4xl mb-2",children:""}),o.jsx("p",{children:"All caught up! Time to add some new quests."})]}):o.jsx("div",{className:"space-y-3",children:a.map(d=>{var m;return o.jsxs(R.div,{id:`task-${d.id}`,className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",whileHover:{scale:1.02},onClick:()=>u(d.id),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 rounded-full flex items-center justify-center hover:border-green-500 transition-colors",children:o.jsx("span",{className:"text-transparent hover:text-green-500",children:""})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:d.title}),o.jsxs("p",{className:"text-sm text-gray-500",children:[d.category,"  +",d.xpReward," XP"]})]})]}),o.jsx("div",{className:"text-2xl",children:((m=e.categories.find(y=>y.name===d.category))==null?void 0:m.icon)||""})]},d.id)})})]}),o.jsxs(R.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"card",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(tS,{}),o.jsx("h2",{className:"text-xl font-semibold",children:"Quick Wins"})]}),o.jsx("div",{className:"space-y-3",children:f.map((d,m)=>o.jsxs(R.div,{className:"flex items-center justify-between p-3 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg hover:from-yellow-100 hover:to-orange-100 transition-colors cursor-pointer",whileHover:{scale:1.02},onClick:()=>{const y={title:d.title,category:d.category,priority:"low",estimatedTime:5,xpReward:d.xp,completed:!1};n({tasks:[...e.tasks,{...y,id:Date.now().toString(),createdAt:new Date}]})},children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"text-2xl",children:d.icon}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:d.title}),o.jsxs("p",{className:"text-sm text-gray-500",children:["+",d.xp," XP"]})]})]}),o.jsx("div",{className:"text-green-600 font-semibold",children:"+"})]},m))})]})]}),e.user.achievements.length>0&&o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(nS,{}),o.jsx("h2",{className:"text-xl font-semibold",children:"Recent Achievements"})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.user.achievements.slice(-4).map(d=>o.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[o.jsx("div",{className:"text-3xl mb-2",children:d.icon}),o.jsx("p",{className:"font-semibold text-sm text-gray-800",children:d.title}),o.jsxs("p",{className:"text-xs text-gray-600",children:["+",d.xpReward," XP"]})]},d.id))})]}),o.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"card bg-gradient-to-r from-pink-100 to-purple-100 text-center",children:[o.jsx("div",{className:"text-3xl mb-2",children:""}),o.jsx("p",{className:"text-lg font-medium text-gray-800 mb-2",children:'"Progress, not perfection. Every small step counts! "'}),o.jsx("p",{className:"text-sm text-gray-600",children:"Remember: Your neurodivergent brain is unique and powerful. Take breaks when you need them! "})]})]})},sS=()=>o.jsx("span",{children:""}),iS=()=>o.jsx("span",{children:""}),oS=()=>o.jsx("span",{children:""}),aS=()=>o.jsx("span",{children:""}),lS=()=>o.jsx("span",{children:""}),cS=({appState:e,onAddTask:t,onCompleteTask:n,onUpdateState:r})=>{const[s,i]=b.useState(!1),[a,l]=b.useState("active"),[c,u]=b.useState("all"),[f,d]=b.useState({title:"",description:"",category:"Work/Study",priority:"medium",estimatedTime:25,xpReward:50}),m=e.tasks.filter(j=>{const g=a==="all"||a==="active"&&!j.completed||a==="completed"&&j.completed,p=c==="all"||j.category===c;return g&&p}),y=()=>{if(!f.title.trim())return;const j=e.tasks.filter(g=>!g.completed);if(e.user.isGuest&&j.length>=3){alert(" Demo Limit Reached! You can only have 3 active tasks in demo mode. Complete some tasks or upgrade to the full version for unlimited tasks!");return}t({...f,completed:!1}),d({title:"",description:"",category:"Work/Study",priority:"medium",estimatedTime:25,xpReward:50}),i(!1)},v={low:"bg-green-100 text-green-800 border-green-200",medium:"bg-yellow-100 text-yellow-800 border-yellow-200",high:"bg-red-100 text-red-800 border-red-200"},w={low:"",medium:"",high:""};return o.jsx("div",{className:"min-h-screen bg-app p-4",children:o.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Quest Manager "}),o.jsx("p",{className:"text-gray-600",children:"Transform your tasks into exciting adventures!"})]}),o.jsxs(R.button,{onClick:()=>i(!0),className:"btn-primary flex items-center gap-2",whileHover:{scale:1.05},whileTap:{scale:.95},children:[o.jsx(sS,{}),"New Quest"]})]}),o.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between bg-white p-4 rounded-xl shadow-md",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>l("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a==="all"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All (",e.tasks.length,")"]}),o.jsxs("button",{onClick:()=>l("active"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a==="active"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Active (",e.tasks.filter(j=>!j.completed).length,")"]}),o.jsxs("button",{onClick:()=>l("completed"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a==="completed"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Completed (",e.tasks.filter(j=>j.completed).length,")"]})]}),o.jsxs("select",{value:c,onChange:j=>u(j.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"all",children:"All Categories"}),e.categories.map(j=>o.jsxs("option",{value:j.name,children:[j.icon," ",j.name]},j.id))]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(kr,{children:m.map(j=>{var g;return o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`card hover:shadow-xl transition-all ${j.completed?"opacity-75 bg-green-50 border-l-4 border-green-500":""}`,children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(R.button,{onClick:()=>!j.completed&&n(j.id),className:`w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all ${j.completed?"bg-green-500 border-green-500 text-white":"border-gray-300 hover:border-green-500 hover:bg-green-50"}`,whileHover:{scale:1.1},whileTap:{scale:.9},disabled:j.completed,children:j.completed&&o.jsx(iS,{})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:`text-lg font-semibold ${j.completed?"line-through text-gray-500":"text-gray-800"}`,children:j.title}),j.description&&o.jsx("p",{className:"text-gray-600 text-sm mt-1",children:j.description})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-2xl mb-2",children:((g=e.categories.find(p=>p.name===j.category))==null?void 0:g.icon)||""}),o.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs border ${v[j.priority]}`,children:[o.jsx("span",{children:w[j.priority]}),j.priority]})]})]}),o.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-500",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(oS,{}),j.estimatedTime,"m"]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(aS,{}),"+",j.xpReward," XP"]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(lS,{}),j.category]}),j.completed&&j.completedAt&&o.jsxs("div",{className:"text-green-600",children:[" ",new Date(j.completedAt).toLocaleDateString()]})]})]})]})},j.id)})}),m.length===0&&o.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[o.jsx("div",{className:"text-6xl mb-4",children:a==="completed"?"":""}),o.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:a==="completed"?"No completed quests yet":"No active quests"}),o.jsx("p",{className:"text-gray-600",children:a==="completed"?"Complete some tasks to see your achievements here!":"Add your first quest to get started on your journey!"})]})]}),o.jsx(kr,{children:s&&o.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>i(!1),children:o.jsxs(R.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-6 w-full max-w-md",onClick:j=>j.stopPropagation(),children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Create New Quest "}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quest Title *"}),o.jsx("input",{type:"text",value:f.title,onChange:j=>d({...f,title:j.target.value}),placeholder:"What needs to be conquered?",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),o.jsx("textarea",{value:f.description,onChange:j=>d({...f,description:j.target.value}),placeholder:"Add more details...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsx("select",{value:f.category,onChange:j=>d({...f,category:j.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:e.categories.map(j=>o.jsxs("option",{value:j.name,children:[j.icon," ",j.name]},j.id))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),o.jsxs("select",{value:f.priority,onChange:j=>d({...f,priority:j.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"low",children:" Low"}),o.jsx("option",{value:"medium",children:" Medium"}),o.jsx("option",{value:"high",children:" High"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Time (minutes)"}),o.jsx("input",{type:"number",value:f.estimatedTime,onChange:j=>d({...f,estimatedTime:parseInt(j.target.value)}),min:"5",max:"240",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"XP Reward"}),o.jsx("input",{type:"number",value:f.xpReward,onChange:j=>d({...f,xpReward:parseInt(j.target.value)}),min:"10",max:"500",step:"10",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx("button",{onClick:()=>i(!1),className:"flex-1 btn-secondary",children:"Cancel"}),o.jsx("button",{onClick:y,disabled:!f.title.trim(),className:"flex-1 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:"Create Quest"})]})]})})})]})})},t0=[{id:"box-breathing",name:"Box Breathing",type:"breathing",duration:5,description:"A calming breathing technique to reduce stress and anxiety",instructions:["Breathe in for 4 counts","Hold for 4 counts","Breathe out for 4 counts","Hold for 4 counts","Repeat the cycle"]},{id:"478-breathing",name:"4-7-8 Breathing",type:"breathing",duration:4,description:"A powerful technique for instant relaxation",instructions:["Breathe in through nose for 4 counts","Hold breath for 7 counts","Exhale through mouth for 8 counts","Repeat 3-4 times"]},{id:"forest-sounds",name:"Forest Ambiance",type:"sounds",duration:10,description:"Peaceful forest wind with gentle nature sounds",audioUrl:"/audio/forest.mp3"},{id:"rain-sounds",name:"Gentle Thunderstorm",type:"sounds",duration:15,description:"Soft rain with distant thunder rumbles for deep relaxation",audioUrl:"/audio/rain.mp3"},{id:"ocean-waves",name:"Ocean Waves",type:"sounds",duration:12,description:"Calming ocean waves to wash away stress",audioUrl:"/audio/ocean.mp3"},{id:"body-scan",name:"Body Scan Meditation",type:"meditation",duration:10,description:"A guided meditation to release tension and find peace",instructions:["Lie down or sit comfortably","Close your eyes and take deep breaths","Start from your toes and slowly scan your body","Notice any tension and consciously relax each part","Work your way up to the top of your head"]},{id:"mindful-observation",name:"Mindful Observation",type:"mindfulness",duration:5,description:"Practice present-moment awareness",instructions:["Find a comfortable position","Choose an object to focus on","Observe its colors, textures, and details","When your mind wanders, gently return focus","Notice without judging"]},{id:"gratitude-meditation",name:"Gratitude Practice",type:"mindfulness",duration:7,description:"Cultivate appreciation and positive feelings",instructions:["Think of three things you're grateful for","Focus on why you appreciate each one","Feel the positive emotions that arise","Let gratitude fill your heart","Carry this feeling with you"]}],uS=e=>t0.filter(t=>t.type===e),dS=()=>o.jsx("span",{children:""}),fS=()=>o.jsx("span",{children:""}),mS=()=>o.jsx("span",{children:""}),Of=()=>o.jsx("span",{children:""}),Bf=()=>o.jsx("span",{children:""}),hS=()=>o.jsx("span",{children:""}),pS=({appState:e,onUpdateState:t})=>{var fe;const[n,r]=b.useState(null),[s,i]=b.useState(!1),[a,l]=b.useState(0),[c,u]=b.useState("all"),[f,d]=b.useState("inhale"),[m,y]=b.useState(4),[v,w]=b.useState(!1),[j,g]=b.useState(!0),[p,h]=b.useState(!0),[x,k]=b.useState("4-4-4-4"),P=b.useRef(null),A=b.useRef(null),N=b.useRef(null);b.useRef(null);const C=c==="all"?t0:uS(c);b.useEffect(()=>(s&&a>0?P.current=setInterval(()=>{l(E=>E<=1?(i(!1),M(),0):E-1)},1e3):P.current&&(clearInterval(P.current),P.current=null),()=>{P.current&&clearInterval(P.current)}),[s,a]),b.useEffect(()=>((n==null?void 0:n.type)==="breathing"&&s?A.current=setInterval(()=>{y(E=>E<=1?(d(U=>{let $;switch(U){case"inhale":$="hold1";break;case"hold1":$="exhale",_("exhale");break;case"exhale":$="hold2";break;case"hold2":$="inhale",_("inhale");break;default:$="inhale"}return $}),V()):E-1)},1e3):A.current&&(clearInterval(A.current),A.current=null),()=>{A.current&&clearInterval(A.current)}),[n,s,f,p,x]),b.useEffect(()=>()=>{F()},[]);const V=()=>{const E=x.split("-").map(Number);switch(f){case"inhale":return E[0];case"hold1":return E[1];case"exhale":return E[2];case"hold2":return E[3];default:return 4}},_=async E=>{if(p)try{const U=new(window.AudioContext||window.webkitAudioContext);U.state==="suspended"&&await U.resume();const $=U.createOscillator(),te=U.createGain(),se=U.createBiquadFilter();E==="inhale"?($.frequency.setValueAtTime(200,U.currentTime),$.frequency.exponentialRampToValueAtTime(400,U.currentTime+.5)):($.frequency.setValueAtTime(400,U.currentTime),$.frequency.exponentialRampToValueAtTime(200,U.currentTime+.5)),$.type="sine",se.type="lowpass",se.frequency.value=800,te.gain.setValueAtTime(0,U.currentTime),te.gain.linearRampToValueAtTime(.05,U.currentTime+.2),te.gain.linearRampToValueAtTime(.03,U.currentTime+.8),te.gain.linearRampToValueAtTime(0,U.currentTime+1),$.connect(se),se.connect(te),te.connect(U.destination),$.start(),$.stop(U.currentTime+1)}catch(U){console.error("Breathing sound generation error:",U)}},Y=E=>{if(e.user.isGuest&&E.duration>5){if(confirm(" Demo Limitation: Zen sessions are limited to 5 minutes in demo mode. Would you like to try a 5-minute version of this activity, or upgrade to the full version for unlimited access?")){const U={...E,duration:5};r(U),l(5*60),i(!0),U.type==="breathing"?(d("inhale"),y(4)):U.type==="sounds"&&U.audioUrl&&K(U.audioUrl)}return}r(E),l(E.duration*60),i(!0),E.type==="breathing"?(d("inhale"),y(4)):E.type==="sounds"&&E.audioUrl&&K(E.audioUrl)},K=async E=>{if(j)try{N.current&&(N.current.stop(),N.current=null);const U=new(window.AudioContext||window.webkitAudioContext);U.state==="suspended"&&await U.resume(),E.includes("forest")?(console.log("Starting forest ambience..."),ee(U)):E.includes("rain")?xe(U):E.includes("ocean")&&L(U)}catch(U){console.error("Audio playback error:",U),alert(" Audio not available: Your browser may have blocked audio playback. Please check your browser settings or try clicking the play button again.")}},ee=E=>{try{E.state==="suspended"&&E.resume();const U=E.sampleRate*10,$=E.createBuffer(2,U,E.sampleRate),te=$.getChannelData(0),se=$.getChannelData(1);for(let ke=0;ke<U;ke++){const $s=(Math.random()*2-1)*.15,Mr=Math.sin(ke*3e-4)*.08*(Math.random()*.4+.8),Dr=Math.sin(ke*1e-4)*.06,u0=Math.sin(ke*5e-5)*.03;let du=0;if(Math.random()<5e-6){const d0=.015+Math.random()*.01;du=Math.sin(ke*d0)*.015*Math.exp(-(ke%2e3)/400)}const fu=$s+Mr+Dr+u0+du;te[ke]=fu,se[ke]=fu*.95+Mr*1.1+Dr*.9}const Z=E.createBufferSource(),Ne=E.createBiquadFilter(),ut=E.createBiquadFilter(),yn=E.createGain();Ne.type="lowpass",Ne.frequency.value=800,Ne.Q.value=.5,ut.type="lowpass",ut.frequency.value=1200,yn.gain.value=.6,Z.buffer=$,Z.loop=!0,Z.connect(Ne),Ne.connect(ut),ut.connect(yn),yn.connect(E.destination),v||(Z.start(),N.current=Z)}catch(U){console.error("Error generating forest sounds:",U)}},xe=E=>{const U=E.sampleRate*4,$=E.createBuffer(2,U,E.sampleRate),te=$.getChannelData(0),se=$.getChannelData(1);for(let ke=0;ke<U;ke++){const $s=(Math.random()*2-1)*.08,Mr=Math.sin(ke*1e-4)*.03*Math.sin(ke*5e-5),Dr=Math.sin(ke*.01)*.02;te[ke]=$s+Mr+Dr,se[ke]=$s*.9+Mr*.8+Dr*1.1}const Z=E.createBufferSource(),Ne=E.createBiquadFilter(),ut=E.createBiquadFilter(),yn=E.createGain();Ne.type="bandpass",Ne.frequency.value=800,Ne.Q.value=.5,ut.type="lowpass",ut.frequency.value=2e3,yn.gain.value=.6,Z.buffer=$,Z.loop=!0,Z.connect(Ne),Ne.connect(ut),ut.connect(yn),yn.connect(E.destination),v||(Z.start(),N.current=Z)},L=E=>{const U=E.sampleRate*4,$=E.createBuffer(1,U,E.sampleRate),te=$.getChannelData(0);for(let Ne=0;Ne<U;Ne++){const ut=Math.sin(Ne*.001)*.3;te[Ne]=(Math.random()*2-1)*.1+ut}const se=E.createBufferSource(),Z=E.createBiquadFilter();Z.type="lowpass",Z.frequency.value=400,se.buffer=$,se.loop=!0,se.connect(Z),Z.connect(E.destination),v||(se.start(),N.current=se)},F=()=>{if(N.current){try{N.current.stop()}catch{console.log("Error stopping audio")}N.current=null}},T=()=>{w(!v),v?(n==null?void 0:n.type)==="sounds"&&n.audioUrl&&K(n.audioUrl):F()},S=()=>{i(!s),(n==null?void 0:n.type)==="sounds"&&(s?F():n.audioUrl&&K(n.audioUrl))},D=()=>{i(!1),l(n?n.duration*60:0),(n==null?void 0:n.type)==="breathing"?(d("inhale"),y(4)):(n==null?void 0:n.type)==="sounds"&&(F(),n.audioUrl&&setTimeout(()=>{K(n.audioUrl)},100))},M=()=>{if(!n)return;F();const E=Math.min(50,n.duration*5),U=e.user.xp+E,$=new Date().toISOString().split("T")[0],te=e.dailyStats.find(Z=>Z.date===$)||{date:$,tasksCompleted:0,focusMinutes:0,zenMinutes:0,xpEarned:0,streakDay:!1},se=e.dailyStats.filter(Z=>Z.date!==$);se.push({...te,zenMinutes:te.zenMinutes+n.duration,xpEarned:te.xpEarned+E}),t({user:{...e.user,xp:U,totalPoints:e.user.totalPoints+E},dailyStats:se}),setTimeout(()=>{alert(` Zen session complete! You earned ${E} XP for taking care of your mental wellbeing. `)},500)},z=E=>{const U=Math.floor(E/60),$=E%60;return`${U}:${$.toString().padStart(2,"0")}`},X=()=>{switch(f){case"inhale":return"Breathe In";case"hold1":return"Hold";case"exhale":return"Breathe Out";case"hold2":return"Hold";default:return"Breathe In"}},B={breathing:"from-blue-400 to-cyan-400",meditation:"from-purple-400 to-pink-400",sounds:"from-green-400 to-emerald-400",mindfulness:"from-orange-400 to-yellow-400"};return o.jsx("div",{className:"min-h-screen bg-app p-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center space-y-2",children:[o.jsx("div",{className:"text-4xl",children:""}),o.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Zen Mode"}),o.jsx("p",{className:"text-gray-600",children:"Take a moment to breathe and find your center"})]}),o.jsx(kr,{children:n&&o.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:`card bg-gradient-to-br ${B[n.type]} text-white text-center`,children:[o.jsx("h2",{className:"text-2xl font-bold mb-2",children:n.name}),o.jsx("p",{className:"text-lg opacity-90 mb-6",children:n.description}),o.jsx("div",{className:"text-6xl font-mono font-bold mb-6",children:z(a)}),n.type==="sounds"&&o.jsxs("div",{className:"mb-6",children:[o.jsx(R.div,{className:"w-32 h-32 mx-auto rounded-full bg-white/20 flex items-center justify-center mb-4",animate:{scale:s&&!v?[1,1.1,1]:1,opacity:v?.5:1},transition:{duration:2,repeat:s&&!v?1/0:0,ease:"easeInOut"},children:o.jsx("div",{className:"text-4xl",children:n.id.includes("forest")?"":n.id.includes("rain")?"":n.id.includes("ocean")?"":""})}),o.jsx("div",{className:"text-xl font-semibold mb-2",children:v?"Audio Muted":"Listening to Nature"}),o.jsx("div",{className:"text-sm opacity-75",children:v?"Click the volume button to unmute":"Let the sounds wash over you"})]}),n.type==="breathing"&&o.jsxs("div",{className:"mb-6",children:[o.jsx(R.div,{className:"w-32 h-32 mx-auto rounded-full bg-white/20 flex items-center justify-center mb-4",animate:{scale:f==="inhale"||f==="hold1"?1.2:.8},transition:{duration:f.includes("hold")?0:2,ease:"easeInOut"},children:o.jsx(hS,{})}),o.jsx("div",{className:"text-xl font-semibold mb-2",children:X()}),o.jsx("div",{className:"text-lg opacity-75",children:m})]}),n.instructions&&o.jsxs("div",{className:"mb-6 text-left bg-white/10 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Instructions:"}),o.jsx("ul",{className:"space-y-1 text-sm",children:n.instructions.map((E,U)=>o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-yellow-300",children:""}),E]},U))})]}),o.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[o.jsx(R.button,{onClick:S,className:"bg-white/20 hover:bg-white/30 p-3 rounded-full transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:s?o.jsx(fS,{}):o.jsx(dS,{})}),o.jsx(R.button,{onClick:D,className:"bg-white/20 hover:bg-white/30 p-3 rounded-full transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:o.jsx(mS,{})}),(n==null?void 0:n.type)==="sounds"&&o.jsx(R.button,{onClick:()=>g(!j),className:`p-3 rounded-full transition-colors ${j?"bg-green-500/30":"bg-white/20"}`,whileHover:{scale:1.1},whileTap:{scale:.9},title:"Toggle Zen Music",children:j?o.jsx(Of,{}):o.jsx(Bf,{})}),(n==null?void 0:n.type)==="breathing"&&o.jsx(R.button,{onClick:()=>h(!p),className:`p-3 rounded-full transition-colors ${p?"bg-green-500/30":"bg-white/20"}`,whileHover:{scale:1.1},whileTap:{scale:.9},title:"Toggle Breathing Sounds",children:p?"":""}),(n==null?void 0:n.type)==="sounds"&&o.jsx(R.button,{onClick:T,className:"bg-white/20 hover:bg-white/30 p-3 rounded-full transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:v?o.jsx(Bf,{}):o.jsx(Of,{})})]}),(n==null?void 0:n.type)==="breathing"&&o.jsxs("div",{className:"bg-white/10 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Breathing Pattern:"}),o.jsx("div",{className:"flex gap-2 flex-wrap justify-center",children:[{pattern:"4-4-4-4",name:"Box Breathing",desc:"4-4-4-4"},{pattern:"4-7-8-0",name:"4-7-8 Technique",desc:"4-7-8-0"},{pattern:"6-2-6-2",name:"Coherent Breathing",desc:"6-2-6-2"}].map(({pattern:E,name:U,desc:$})=>o.jsxs("button",{onClick:()=>k(E),className:`px-3 py-2 rounded-lg text-sm transition-colors ${x===E?"bg-white/30 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:[o.jsx("div",{className:"font-medium",children:U}),o.jsx("div",{className:"text-xs opacity-75",children:$})]},E))})]})]})}),o.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:["all","breathing","meditation","sounds","mindfulness"].map(E=>o.jsx("button",{onClick:()=>u(E),className:`px-4 py-2 rounded-full font-medium transition-colors ${c===E?"bg-purple-500 text-white":"bg-white text-gray-700 hover:bg-purple-50"}`,children:E==="all"?" All":E==="breathing"?" Breathing":E==="meditation"?" Meditation":E==="sounds"?" Sounds":" Mindfulness"},E))}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(E=>o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`card hover:shadow-xl transition-all cursor-pointer bg-gradient-to-br ${B[E.type]}`,onClick:()=>Y(E),whileHover:{scale:1.02},whileTap:{scale:.98},children:o.jsxs("div",{className:"text-white",children:[o.jsx("div",{className:"text-3xl mb-3",children:E.type==="breathing"?"":E.type==="meditation"?"":E.type==="sounds"?"":""}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:E.name}),o.jsx("p",{className:"text-sm opacity-90 mb-4",children:E.description}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm opacity-75",children:[E.duration," minutes"]}),o.jsx("div",{className:"flex items-center gap-1",children:o.jsxs("span",{className:"text-xs opacity-75",children:["+",Math.min(50,E.duration*5)," XP"]})})]})]})},E.id))}),o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card bg-gradient-to-r from-green-100 to-blue-100 text-center",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Today's Zen Progress "}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:((fe=e.dailyStats.find(E=>E.date===new Date().toISOString().split("T")[0]))==null?void 0:fe.zenMinutes)||0}),o.jsx("div",{className:"text-sm text-gray-600",children:"Minutes of Zen"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.user.achievements.filter(E=>E.type==="zen").length}),o.jsx("div",{className:"text-sm text-gray-600",children:"Zen Achievements"})]})]}),o.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"Remember: Taking breaks is productive! Your mental health matters. "})]})]})})},_f=()=>o.jsx("span",{children:""}),gS=()=>o.jsx("span",{children:""}),zf=()=>o.jsx("span",{children:""}),yS=()=>o.jsx("span",{children:""}),xS=()=>o.jsx("span",{children:""}),vS=()=>o.jsx("span",{children:""}),wS=()=>o.jsx("span",{children:""}),bS=()=>o.jsx("span",{children:""}),jS=({appState:e,onUpdateState:t,onSignOut:n,onUpgrade:r})=>{const[s,i]=b.useState("profile"),[a,l]=b.useState(e.user.preferences),c=Fc(e.user.xp),u=Mp(e.user.xp),f=c*1e3,d=(c-1)*1e3,m=x=>{const k={...a,...x};l(k),x.theme&&document.documentElement.setAttribute("data-theme",x.theme),t({user:{...e.user,preferences:k}})},y=x=>{t({user:{...e.user,...x}})},v=["","","","","","","","","","","",""],w=[{value:"light",label:"Light & Clean",icon:""},{value:"dark",label:"Dark & Cozy",icon:""},{value:"colorful",label:"Colorful & Fun",icon:""}],j=[{value:"easy",label:"Gentle Start",description:"Smaller goals, more rewards"},{value:"medium",label:"Balanced Flow",description:"Perfect mix of challenge & reward"},{value:"hard",label:"Challenge Mode",description:"Bigger goals, epic rewards"}];e.tasks.length;const g=e.tasks.filter(x=>x.completed).length,p=e.user.achievements,h=Pi.filter(x=>!p.find(k=>k.id===x.id));return o.jsxs("div",{className:"p-4 space-y-6 max-w-4xl mx-auto",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-6xl mb-4",children:e.user.avatar}),o.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:e.user.name}),o.jsxs("p",{className:"text-gray-600",children:["Level ",c," Neurodivergent Hero"]})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"bg-white rounded-xl p-1 shadow-md",children:[{id:"profile",label:"Profile",icon:_f},{id:"settings",label:"Settings",icon:gS},{id:"achievements",label:"Achievements",icon:zf}].map(x=>o.jsxs("button",{onClick:()=>i(x.id),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all ${s===x.id?"bg-blue-500 text-white shadow-lg":"text-gray-600 hover:bg-blue-50"}`,children:[o.jsx(x.icon,{}),x.label]},x.id))})}),o.jsxs("div",{className:"space-y-6",children:[s==="profile"&&o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[o.jsxs("div",{className:"card",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[o.jsx(yS,{}),"Your Journey So Far"]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[o.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c}),o.jsx("div",{className:"text-sm text-gray-600",children:"Current Level"})]}),o.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.user.totalPoints.toLocaleString()}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total XP"})]}),o.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:g}),o.jsx("div",{className:"text-sm text-gray-600",children:"Quests Complete"})]}),o.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:e.user.streak}),o.jsx("div",{className:"text-sm text-gray-600",children:"Day Streak"})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsxs("span",{children:["Progress to Level ",c+1]}),o.jsxs("span",{children:[e.user.xp-d," / ",f-d," XP"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:o.jsx(R.div,{className:"bg-gradient-to-r from-blue-500 to-purple-500 rounded-full h-4",initial:{width:0},animate:{width:`${u}%`},transition:{duration:1,ease:"easeOut"}})})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Customize Your Hero"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hero Name"}),o.jsx("input",{type:"text",value:e.user.name,onChange:x=>y({name:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Choose Your Avatar"}),o.jsx("div",{className:"grid grid-cols-6 gap-3",children:v.map(x=>o.jsx("button",{onClick:()=>y({avatar:x}),className:`text-3xl p-3 rounded-lg border-2 transition-all hover:scale-110 ${e.user.avatar===x?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:x},x))})]})]})]})]}),s==="settings"&&o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[o.jsxs("div",{className:"card",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[o.jsx(vS,{}),"Appearance"]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Theme"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:w.map(x=>o.jsxs("button",{onClick:()=>m({theme:x.value}),className:`p-4 border-2 rounded-lg text-left transition-all ${a.theme===x.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[o.jsx("div",{className:"text-2xl mb-2",children:x.icon}),o.jsx("div",{className:"font-medium",children:x.label}),o.jsxs("div",{className:"mt-2 flex gap-1",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${x.value==="light"?"bg-blue-500":x.value==="dark"?"bg-gray-700":"bg-pink-500"}`}),o.jsx("div",{className:`w-2 h-2 rounded-full ${x.value==="light"?"bg-gray-200":x.value==="dark"?"bg-gray-600":"bg-yellow-400"}`}),o.jsx("div",{className:`w-2 h-2 rounded-full ${x.value==="light"?"bg-purple-500":x.value==="dark"?"bg-blue-400":"bg-green-400"}`})]})]},x.value))})]})})]}),o.jsxs("div",{className:"card",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[o.jsx(wS,{}),"Audio & Notifications"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Sound Effects"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Celebration sounds and audio feedback"})]}),o.jsx("button",{onClick:()=>m({soundEnabled:!a.soundEnabled}),className:`w-12 h-6 rounded-full transition-colors ${a.soundEnabled?"bg-blue-500":"bg-gray-300"}`,children:o.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow transition-transform ${a.soundEnabled?"translate-x-6":"translate-x-1"}`})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Animations"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Fun visual effects and transitions"})]}),o.jsx("button",{onClick:()=>m({animationsEnabled:!a.animationsEnabled}),className:`w-12 h-6 rounded-full transition-colors ${a.animationsEnabled?"bg-blue-500":"bg-gray-300"}`,children:o.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow transition-transform ${a.animationsEnabled?"translate-x-6":"translate-x-1"}`})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Notifications"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Gentle reminders and encouragement"})]}),o.jsx("button",{onClick:()=>m({notificationsEnabled:!a.notificationsEnabled}),className:`w-12 h-6 rounded-full transition-colors ${a.notificationsEnabled?"bg-blue-500":"bg-gray-300"}`,children:o.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow transition-transform ${a.notificationsEnabled?"translate-x-6":"translate-x-1"}`})})]})]})]}),o.jsxs("div",{className:"card",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[o.jsx(bS,{}),"Difficulty & Focus"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Difficulty Level"}),o.jsx("div",{className:"space-y-2",children:j.map(x=>o.jsxs("button",{onClick:()=>m({difficultyLevel:x.value}),className:`w-full p-4 border-2 rounded-lg text-left transition-all ${a.difficultyLevel===x.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[o.jsx("div",{className:"font-medium",children:x.label}),o.jsx("div",{className:"text-sm text-gray-600",children:x.description})]},x.value))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Focus Session (minutes)"}),o.jsx("input",{type:"number",value:a.focusSessionLength,onChange:x=>m({focusSessionLength:parseInt(x.target.value)}),min:"15",max:"90",step:"5",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Break Length (minutes)"}),o.jsx("input",{type:"number",value:a.breakLength,onChange:x=>m({breakLength:parseInt(x.target.value)}),min:"5",max:"30",step:"5",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})]}),o.jsxs("div",{className:"card",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[o.jsx(_f,{}),"Account & Subscription"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:`p-4 rounded-lg border-2 ${e.user.subscription.isPremium?"bg-green-50 border-green-200":e.user.isGuest?"bg-yellow-50 border-yellow-200":"bg-blue-50 border-blue-200"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[e.user.subscription.isPremium?"":e.user.isGuest?"":"",e.user.subscription.isPremium?"NeuroFlow Full Version":e.user.isGuest?"Demo Mode":"Free Account"]}),o.jsx("div",{className:"text-sm text-gray-600",children:e.user.subscription.isPremium?"All features unlocked  Lifetime access":e.user.isGuest?"Limited features  Try before you buy":"Basic features  Upgrade for full access"}),e.user.subscription.purchaseDate&&o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Purchased: ",new Date(e.user.subscription.purchaseDate).toLocaleDateString()]})]}),!e.user.subscription.isPremium&&r&&o.jsx("button",{onClick:r,className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-2 rounded-lg font-medium hover:from-purple-600 hover:to-pink-600 transition-all",children:"Upgrade $5"})]})}),!e.user.isGuest&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),o.jsx("div",{className:"text-gray-600",children:e.user.email||"Not set"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Type"}),o.jsx("div",{className:"text-gray-600",children:e.user.subscription.isPremium?"Premium User":"Free User"})]})]}),e.user.isGuest&&o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Demo Limitations"}),o.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[o.jsx("li",{children:" Maximum 3 tasks per day"}),o.jsx("li",{children:" Zen mode limited to 5 minutes"}),o.jsx("li",{children:" Basic themes only"}),o.jsx("li",{children:" Limited achievement system"}),o.jsx("li",{children:" No cloud sync"})]}),r&&o.jsx("button",{onClick:r,className:"w-full mt-3 bg-yellow-500 text-white py-2 rounded-lg font-medium hover:bg-yellow-600 transition-colors",children:"Unlock All Features - $5"})]}),n&&!e.user.isGuest&&o.jsx("div",{className:"pt-4 border-t border-gray-200",children:o.jsx("button",{onClick:n,className:"text-red-600 hover:text-red-700 font-medium transition-colors",children:"Sign Out"})})]})]})]}),s==="achievements"&&o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[o.jsxs("div",{className:"card",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[o.jsx(zf,{}),"Unlocked Achievements (",p.length,")"]}),p.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx("div",{className:"text-4xl mb-2",children:""}),o.jsx("p",{children:"Complete your first quest to unlock achievements!"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map(x=>o.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"text-3xl",children:x.icon}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-800",children:x.title}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:x.description}),o.jsxs("div",{className:"text-xs text-yellow-600",children:["+",x.xpReward," XP"]}),x.unlockedAt&&o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Unlocked ",new Date(x.unlockedAt).toLocaleDateString()]})]})]})},x.id))})]}),o.jsxs("div",{className:"card",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[o.jsx(xS,{}),"Coming Soon (",h.length,")"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(x=>o.jsx("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg opacity-75",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"text-3xl grayscale",children:x.icon}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-600",children:x.title}),o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:x.description}),o.jsxs("div",{className:"text-xs text-gray-400",children:["+",x.xpReward," XP"]})]})]})},x.id))})]})]})]})]})},SS=()=>o.jsx("span",{children:""}),$f=()=>o.jsx("span",{children:""}),NS=()=>o.jsx("span",{children:""}),kS=()=>o.jsx("span",{children:""}),PS=()=>o.jsx("span",{children:""}),CS=()=>o.jsx("span",{children:""}),TS=()=>o.jsx("span",{children:""}),ES=()=>o.jsx("span",{children:""}),di=({onGetStarted:e})=>{const t=[{icon:o.jsx(NS,{}),title:"Gamified Tasks",description:"Turn boring tasks into exciting quests with points, badges, and rewards that spark dopamine"},{icon:o.jsx(SS,{}),title:"ADHD-Friendly Design",description:"Built specifically for neurodivergent minds with instant feedback and visual structure"},{icon:o.jsx($f,{}),title:"Zen Mode",description:"Calming breathing exercises, mindfulness activities, and soothing sounds for overstimulation"},{icon:o.jsx(kS,{}),title:"Instant Rewards",description:"Get immediate positive feedback with celebrations, animations, and progress tracking"},{icon:o.jsx(CS,{}),title:"Achievement System",description:"Unlock badges, level up your avatar, and build streaks that keep you motivated"},{icon:o.jsx(ES,{}),title:"Customizable",description:"Adjust themes, sounds, and difficulty to match your unique neurodivergent needs"}],n=[{name:"Sarah M.",role:"College Student with ADHD",quote:"Finally, an app that doesn't make me feel guilty for missing tasks. The gamification actually makes me want to do my homework!",avatar:""},{name:"Alex R.",role:"Developer with Autism",quote:"The visual structure and calm design help me stay organized without feeling overwhelmed. Love the zen mode!",avatar:""},{name:"Jordan L.",role:"Working Professional",quote:"The instant feedback and celebrations give me the dopamine hits I need to stay focused. Game-changer for my productivity!",avatar:""}];return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[o.jsx("section",{className:"relative overflow-hidden px-4 pt-16 pb-20",children:o.jsx("div",{className:"max-w-7xl mx-auto text-center",children:o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("h1",{className:"text-5xl md:text-7xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent mb-6",children:"NeuroFlow"}),o.jsx("p",{className:"text-xl md:text-2xl text-gray-700 mb-4",children:"Focus & Calm Companion"}),o.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-3xl mx-auto",children:"Turn daily tasks into rewarding quests while finding calm and focus. Designed specifically for ADHD, autism, and anxiety - because your brain works differently, and that's your superpower! "}),o.jsx(R.button,{onClick:e,className:"btn-primary text-xl px-8 py-4 mb-8",whileHover:{scale:1.05},whileTap:{scale:.95},children:" Start Your Journey"}),o.jsxs("div",{className:"flex justify-center gap-8 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(PS,{}),o.jsx("span",{children:"Science-backed strategies"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(TS,{}),o.jsx("span",{children:"Built by neurodivergent developers"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($f,{}),o.jsx("span",{children:"Free & accessible"})]})]})]})})}),o.jsx("section",{className:"py-20 px-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(R.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"Why NeuroFlow Works for Your Brain "}),o.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"We understand that neurodivergent brains need different approaches. Our app is built on research and real experiences from the ADHD, autistic, and anxiety communities."})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((r,s)=>o.jsxs(R.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:s*.1},className:"card text-center hover:scale-105 transition-transform",children:[o.jsx("div",{className:"text-blue-500 mb-4 flex justify-center",children:r.icon}),o.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:r.title}),o.jsx("p",{className:"text-gray-600",children:r.description})]},s))})]})}),o.jsx("section",{className:"py-20 px-4 bg-white/50",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(R.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"Your Journey to Focus & Calm "}),o.jsx("p",{className:"text-xl text-gray-600",children:"Simple steps designed for neurodivergent success"})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[o.jsxs(R.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6},className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white text-2xl font-bold mx-auto mb-4",children:"1"}),o.jsx("h3",{className:"text-xl font-semibold mb-3",children:" Create Your Quests"}),o.jsx("p",{className:"text-gray-600",children:"Turn everyday tasks into exciting missions. Break big projects into bite-sized, rewarding steps."})]}),o.jsxs(R.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-purple-500 rounded-full flex items-center justify-center text-white text-2xl font-bold mx-auto mb-4",children:"2"}),o.jsx("h3",{className:"text-xl font-semibold mb-3",children:" Get Instant Rewards"}),o.jsx("p",{className:"text-gray-600",children:"Earn points, unlock badges, and level up your avatar. Every completed task triggers a celebration!"})]}),o.jsxs(R.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:.4},className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-pink-500 rounded-full flex items-center justify-center text-white text-2xl font-bold mx-auto mb-4",children:"3"}),o.jsx("h3",{className:"text-xl font-semibold mb-3",children:" Find Your Calm"}),o.jsx("p",{className:"text-gray-600",children:"When overwhelmed, switch to Zen Mode for breathing exercises, mindfulness, and soothing sounds."})]})]})]})}),o.jsx("section",{className:"py-20 px-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(R.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"Real Stories from Our Community "}),o.jsx("p",{className:"text-xl text-gray-600",children:"See how NeuroFlow is helping neurodivergent individuals thrive"})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:n.map((r,s)=>o.jsxs(R.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:s*.1},className:"card",children:[o.jsx("div",{className:"text-4xl mb-4",children:r.avatar}),o.jsxs("p",{className:"text-gray-600 mb-4 italic",children:['"',r.quote,'"']}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-800",children:r.name}),o.jsx("p",{className:"text-sm text-gray-500",children:r.role})]})]},s))})]})}),o.jsx("section",{className:"py-20 px-4 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500",children:o.jsx("div",{className:"max-w-4xl mx-auto text-center text-white",children:o.jsxs(R.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},children:[o.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Ready to Transform Your Daily Life? "}),o.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Join thousands of neurodivergent individuals who've discovered a better way to focus, achieve, and find calm."}),o.jsx(R.button,{onClick:e,className:"bg-white text-purple-600 font-bold text-xl px-8 py-4 rounded-xl hover:bg-gray-100 transition-colors shadow-lg",whileHover:{scale:1.05},whileTap:{scale:.95},children:" Start Your Quest Now - It's Free!"}),o.jsx("p",{className:"text-sm mt-4 opacity-75",children:"No signup required  Works on all devices  Your data stays private"})]})})}),o.jsx("footer",{className:"py-12 px-4 bg-gray-900 text-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[o.jsx("div",{className:"text-4xl mb-4",children:""}),o.jsx("h3",{className:"text-2xl font-bold mb-4",children:"NeuroFlow"}),o.jsx("p",{className:"text-gray-400 mb-8",children:"Built with  for the neurodivergent community"}),o.jsxs("div",{className:"flex justify-center gap-8 text-sm text-gray-400",children:[o.jsx("span",{children:" Inclusive Design"}),o.jsx("span",{children:" Science-Based"}),o.jsx("span",{children:" Privacy-First"}),o.jsx("span",{children:" Gamified"})]})]})})]})},n0=(e,t)=>({signInWithGoogle:b.useCallback(()=>{const r=[{email:"john.doe@gmail.com",name:"John Doe",picture:""},{email:"jane.smith@gmail.com",name:"Jane Smith",picture:""},{email:"alex.johnson@gmail.com",name:"Alex Johnson",picture:""}],s=document.createElement("div");s.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    `;const i=document.createElement("div");i.style.cssText=`
      background: white;
      border-radius: 12px;
      padding: 24px;
      max-width: 400px;
      width: 90%;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    `,i.innerHTML=`
      <div style="text-align: center; margin-bottom: 20px;">
        <img src="https://developers.google.com/identity/images/g-logo.png" alt="Google" style="width: 20px; height: 20px; margin-right: 8px;">
        <strong>Choose an account</strong>
      </div>
      <div style="font-size: 14px; color: #666; margin-bottom: 20px; text-align: center;">
        to continue to NeuroFlow
      </div>
      <div id="account-list"></div>
      <div style="text-align: center; margin-top: 16px;">
        <button id="cancel-btn" style="background: none; border: 1px solid #dadce0; color: #3c4043; padding: 8px 16px; border-radius: 4px; cursor: pointer;">Cancel</button>
      </div>
    `;const a=i.querySelector("#account-list");r.forEach(c=>{const u=document.createElement("div");u.style.cssText=`
        display: flex;
        align-items: center;
        padding: 12px;
        border-radius: 8px;
        cursor: pointer;
        margin-bottom: 8px;
        transition: background-color 0.2s;
      `,u.addEventListener("mouseenter",()=>{u.style.backgroundColor="#f8f9fa"}),u.addEventListener("mouseleave",()=>{u.style.backgroundColor="transparent"}),u.innerHTML=`
        <div style="font-size: 24px; margin-right: 12px; width: 40px; height: 40px; border-radius: 50%; background: #f1f3f4; display: flex; align-items: center; justify-content: center;">
          ${c.picture}
        </div>
        <div>
          <div style="font-weight: 500; color: #3c4043;">${c.name}</div>
          <div style="font-size: 14px; color: #5f6368;">${c.email}</div>
        </div>
      `,u.addEventListener("click",()=>{document.body.removeChild(s),e(c)}),a.appendChild(u)}),i.querySelector("#cancel-btn").addEventListener("click",()=>{document.body.removeChild(s)}),s.addEventListener("click",c=>{c.target===s&&document.body.removeChild(s)}),s.appendChild(i),document.body.appendChild(s)},[e]),renderGoogleButton:()=>{}}),AS=()=>o.jsx("span",{children:""}),MS=()=>o.jsx("span",{children:""}),DS=()=>o.jsx("span",{children:""}),LS=()=>o.jsx("span",{children:""}),RS=()=>o.jsx("span",{children:""}),VS=()=>o.jsx("span",{children:""}),IS=({onSignIn:e,onGoogleSignIn:t,onSwitchToSignUp:n,onGuestMode:r,isLoading:s})=>{const[i,a]=b.useState(""),[l,c]=b.useState(""),[u,f]=b.useState(!1),[d,m]=b.useState({}),{signInWithGoogle:y}=n0(g=>{v(g)}),v=g=>{const p=g.email;g.name,a(p),e(p,"google-auth-token")},w=()=>{const g={};return i?/\S+@\S+\.\S+/.test(i)||(g.email="Please enter a valid email"):g.email="Email is required",l?l.length<6&&(g.password="Password must be at least 6 characters"):g.password="Password is required",m(g),Object.keys(g).length===0},j=g=>{g.preventDefault(),w()&&e(i,l)};return o.jsx("div",{className:"min-h-screen bg-app flex items-center justify-center p-4",children:o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("h1",{className:"text-3xl font-bold text-primary mb-2",children:"Welcome Back!"}),o.jsx("p",{className:"text-secondary",children:"Sign in to continue your neurodivergent journey"})]}),o.jsxs("div",{className:"card",children:[o.jsxs("form",{onSubmit:j,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(AS,{})}),o.jsx("input",{type:"email",value:i,onChange:g=>a(g.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${d.email?"border-red-500":"border-themed"}`,placeholder:"you@example.com"})]}),d.email&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(MS,{})}),o.jsx("input",{type:u?"text":"password",value:l,onChange:g=>c(g.target.value),className:`w-full pl-10 pr-12 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${d.password?"border-red-500":"border-themed"}`,placeholder:"Enter your password"}),o.jsx("button",{type:"button",onClick:()=>f(!u),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u?o.jsx(RS,{}):o.jsx(LS,{})})]}),d.password&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.password})]}),o.jsx("div",{className:"text-right",children:o.jsx("button",{type:"button",className:"text-sm text-blue-500 hover:text-blue-600 transition-colors",children:"Forgot your password?"})}),o.jsx("button",{type:"submit",disabled:s,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing In...":"Sign In"})]}),t&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"my-6 flex items-center",children:[o.jsx("div",{className:"flex-1 border-t border-themed"}),o.jsx("span",{className:"px-4 text-sm text-muted",children:"or"}),o.jsx("div",{className:"flex-1 border-t border-themed"})]}),o.jsxs("button",{onClick:y,disabled:s,className:"w-full bg-white border border-gray-300 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-50 transition-colors flex items-center justify-center gap-2 mb-4 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(VS,{}),"Continue with Google"]})]}),o.jsxs("div",{className:"my-6 flex items-center",children:[o.jsx("div",{className:"flex-1 border-t border-themed"}),o.jsx("span",{className:"px-4 text-sm text-muted",children:"or"}),o.jsx("div",{className:"flex-1 border-t border-themed"})]}),o.jsxs("button",{onClick:r,className:"w-full btn-secondary flex items-center justify-center gap-2 mb-4",children:[o.jsx(DS,{}),"Try Demo Mode (Limited Features)"]}),o.jsxs("p",{className:"text-center text-sm text-secondary",children:["Don't have an account?"," ",o.jsx("button",{onClick:n,className:"text-blue-500 hover:text-blue-600 font-medium transition-colors",children:"Sign up for free"})]})]}),o.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsx("h3",{className:"font-semibold text-yellow-800",children:"Demo Version"})]}),o.jsx("p",{className:"text-sm text-yellow-700",children:"This is a demo version with limited features. Upgrade to the full version for just $5 to unlock all features!"})]})]})})},FS=()=>o.jsx("span",{children:""}),Hf=()=>o.jsx("span",{children:""}),Wf=()=>o.jsx("span",{children:""}),Gf=()=>o.jsx("span",{children:""}),Qf=()=>o.jsx("span",{children:""}),US=()=>o.jsx("span",{children:""}),OS=()=>o.jsx("span",{children:""}),BS=({onSignUp:e,onGoogleSignUp:t,onSwitchToSignIn:n,onGuestMode:r,isLoading:s})=>{const[i,a]=b.useState(""),[l,c]=b.useState(""),[u,f]=b.useState(""),[d,m]=b.useState(""),[y,v]=b.useState(!1),[w,j]=b.useState(!1),[g,p]=b.useState(!1),[h,x]=b.useState({}),{signInWithGoogle:k}=n0(C=>{P(C)}),P=C=>{const V=C.email,_=C.name;c(V),a(_),e(_,V,"google-auth-token")},A=()=>{const C={};return i.trim()?i.trim().length<2&&(C.name="Name must be at least 2 characters"):C.name="Name is required",l?/\S+@\S+\.\S+/.test(l)||(C.email="Please enter a valid email"):C.email="Email is required",u?u.length<6&&(C.password="Password must be at least 6 characters"):C.password="Password is required",d?u!==d&&(C.confirmPassword="Passwords do not match"):C.confirmPassword="Please confirm your password",g||(C.terms="Please agree to the terms and conditions"),x(C),Object.keys(C).length===0},N=C=>{C.preventDefault(),A()&&e(i.trim(),l,u)};return o.jsx("div",{className:"min-h-screen bg-app flex items-center justify-center p-4",children:o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("h1",{className:"text-3xl font-bold text-primary mb-2",children:"Join NeuroFlow!"}),o.jsx("p",{className:"text-secondary",children:"Create your account and start your journey"})]}),o.jsxs("div",{className:"card",children:[o.jsxs("form",{onSubmit:N,className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Wf,{})}),o.jsx("input",{type:"text",value:i,onChange:C=>a(C.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${h.name?"border-red-500":"border-themed"}`,placeholder:"Your name"})]}),h.name&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(FS,{})}),o.jsx("input",{type:"email",value:l,onChange:C=>c(C.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${h.email?"border-red-500":"border-themed"}`,placeholder:"you@example.com"})]}),h.email&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Hf,{})}),o.jsx("input",{type:y?"text":"password",value:u,onChange:C=>f(C.target.value),className:`w-full pl-10 pr-12 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${h.password?"border-red-500":"border-themed"}`,placeholder:"Create a password"}),o.jsx("button",{type:"button",onClick:()=>v(!y),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:y?o.jsx(Qf,{}):o.jsx(Gf,{})})]}),h.password&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.password})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Hf,{})}),o.jsx("input",{type:w?"text":"password",value:d,onChange:C=>m(C.target.value),className:`w-full pl-10 pr-12 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${h.confirmPassword?"border-red-500":"border-themed"}`,placeholder:"Confirm your password"}),o.jsx("button",{type:"button",onClick:()=>j(!w),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:w?o.jsx(Qf,{}):o.jsx(Gf,{})})]}),h.confirmPassword&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.confirmPassword})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[o.jsxs("div",{className:"relative mt-1",children:[o.jsx("input",{type:"checkbox",checked:g,onChange:C=>p(C.target.checked),className:"sr-only"}),o.jsx("div",{className:`w-5 h-5 border-2 rounded flex items-center justify-center transition-colors ${g?"bg-blue-500 border-blue-500":"border-gray-300"}`,children:g&&o.jsx(US,{})})]}),o.jsxs("span",{className:"text-sm text-secondary",children:["I agree to the"," ",o.jsx("button",{type:"button",className:"text-blue-500 hover:text-blue-600 underline",children:"Terms of Service"})," ","and"," ",o.jsx("button",{type:"button",className:"text-blue-500 hover:text-blue-600 underline",children:"Privacy Policy"})]})]}),h.terms&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.terms})]}),o.jsx("button",{type:"submit",disabled:s,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating Account...":"Create Account"})]}),t&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"my-6 flex items-center",children:[o.jsx("div",{className:"flex-1 border-t border-themed"}),o.jsx("span",{className:"px-4 text-sm text-muted",children:"or"}),o.jsx("div",{className:"flex-1 border-t border-themed"})]}),o.jsxs("button",{onClick:k,disabled:s,className:"w-full bg-white border border-gray-300 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-50 transition-colors flex items-center justify-center gap-2 mb-4 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(OS,{}),"Continue with Google"]})]}),o.jsxs("div",{className:"my-6 flex items-center",children:[o.jsx("div",{className:"flex-1 border-t border-themed"}),o.jsx("span",{className:"px-4 text-sm text-muted",children:"or"}),o.jsx("div",{className:"flex-1 border-t border-themed"})]}),o.jsxs("button",{onClick:r,className:"w-full btn-secondary flex items-center justify-center gap-2 mb-4",children:[o.jsx(Wf,{}),"Try Demo Mode (Limited Features)"]}),o.jsxs("p",{className:"text-center text-sm text-secondary",children:["Already have an account?"," ",o.jsx("button",{onClick:n,className:"text-blue-500 hover:text-blue-600 font-medium transition-colors",children:"Sign in"})]})]}),o.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsx("h3",{className:"font-semibold text-yellow-800",children:"Free Demo Available"})]}),o.jsx("p",{className:"text-sm text-yellow-700",children:"Try our demo with limited features, or create an account to unlock the full experience for just $5!"})]})]})})};var r0="basil",_S=function(t){return t===3?"v3":t},s0="https://js.stripe.com",zS="".concat(s0,"/").concat(r0,"/stripe.js"),$S=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,HS=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,Kf="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",WS=function(t){return $S.test(t)||HS.test(t)},GS=function(){for(var t=document.querySelectorAll('script[src^="'.concat(s0,'"]')),n=0;n<t.length;n++){var r=t[n];if(WS(r.src))return r}return null},qf=function(t){var n=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(zS).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},QS=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:n})},$r=null,fi=null,mi=null,KS=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},qS=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},YS=function(t){return $r!==null?$r:($r=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&t&&console.warn(Kf),window.Stripe){n(window.Stripe);return}try{var s=GS();if(s&&t)console.warn(Kf);else if(!s)s=qf(t);else if(s&&mi!==null&&fi!==null){var i;s.removeEventListener("load",mi),s.removeEventListener("error",fi),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=qf(t)}mi=qS(n,r),fi=KS(r),s.addEventListener("load",mi),s.addEventListener("error",fi)}catch(a){r(a);return}}),$r.catch(function(n){return $r=null,Promise.reject(n)}))},XS=function(t,n,r){if(t===null)return null;var s=n[0],i=s.match(/^pk_test/),a=_S(t.version),l=r0;i&&a!==l&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=t.apply(void 0,n);return QS(c,r),c},Hr,i0=!1,o0=function(){return Hr||(Hr=YS(null).catch(function(t){return Hr=null,Promise.reject(t)}),Hr)};Promise.resolve().then(function(){return o0()}).catch(function(e){i0||console.warn(e)});var ZS=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];i0=!0;var s=Date.now();return o0().then(function(i){return XS(i,n,s)})};const JS={}.REACT_APP_STRIPE_PUBLISHABLE_KEY||"pk_test_demo",Wr={base:{id:"base",name:"NeuroFlow Base",price:5,currency:"USD",description:"Complete neurodivergent toolkit with unlimited tasks, sounds, and features",features:["Unlimited tasks and projects","Full sound library (50+ sounds)","Advanced Zen mode features","Customizable themes","Achievement system","Analytics and insights","Cloud sync and backup","Ad-free experience"]},guidebooks:{id:"guidebooks",name:"NeuroFlow + Guidebooks",price:10,currency:"USD",description:"Everything in Base plus comprehensive guidebooks",features:["Everything in Base plan","Interactive guidebooks","Evidence-based content","Professional techniques","Advanced strategies","Premium content library","Expert recommendations","Priority support"]},upgrade:{id:"upgrade",name:"Guidebooks Upgrade",price:5,currency:"USD",description:"Add guidebooks to your existing Base plan",features:["Interactive guidebooks","Evidence-based content","Professional techniques","Advanced strategies","Premium content library"]}};class eN{constructor(){Q(this,"stripe",null);Q(this,"stripeLoaded",!1)}async initializeStripe(){if(!this.stripeLoaded)try{this.stripe=await ZS(JS),this.stripeLoaded=!0}catch(t){throw console.error("Failed to load Stripe:",t),new Error("Payment system initialization failed")}}async processStripePayment(t,n){try{if(await this.initializeStripe(),!this.stripe)throw new Error("Stripe not initialized");return new Promise(r=>{setTimeout(()=>{r({success:!0,transactionId:`stripe_${Date.now()}`,plan:t})},2e3)})}catch(r){return console.error("Stripe payment error:",r),{success:!1,error:r instanceof Error?r.message:"Payment failed"}}}async processPayPalPayment(t,n){try{return new Promise(r=>{setTimeout(()=>{r({success:!0,transactionId:`paypal_${Date.now()}`,plan:t})},1500)})}catch(r){return console.error("PayPal payment error:",r),{success:!1,error:r instanceof Error?r.message:"Payment failed"}}}getPaymentProviders(){return[{name:"Credit Card (Stripe)",id:"stripe",icon:"",processPayment:this.processStripePayment.bind(this)},{name:"PayPal",id:"paypal",icon:"",processPayment:this.processPayPalPayment.bind(this)}]}formatPrice(t,n="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:n}).format(t)}calculateTax(t,n=0){return t*n}calculateTotal(t,n=0){return t+this.calculateTax(t,n)}}const vn=new eN,tN=()=>o.jsx("span",{children:""}),nN=()=>o.jsx("span",{children:""}),rN=()=>o.jsx("span",{children:""}),sN=()=>o.jsx("span",{children:""}),Yf=()=>o.jsx("span",{children:""}),iN=({onPurchase:e,onCancel:t,isLoading:n,currentPlan:r="demo"})=>{const[s,i]=b.useState(r==="base"?"upgrade":"base"),[a,l]=b.useState("stripe"),[c,u]=b.useState(!1),[f,d]=b.useState(!1),[m,y]=b.useState(null),v=vn.getPaymentProviders(),w=s==="guidebooks"?Wr.guidebooks:s==="upgrade"?Wr.upgrade:Wr.base,j=()=>{u(!0),y(null)},g=async()=>{d(!0),y(null);try{const p=v.find(x=>x.id===a);if(!p)throw new Error("Payment provider not found");const h=await p.processPayment(s,w.price);h.success?e(a,s):y(h.error||"Payment failed. Please try again.")}catch(p){y(p instanceof Error?p.message:"Payment processing error")}finally{d(!1)}};return c?o.jsx("div",{className:"min-h-screen bg-app flex items-center justify-center p-4",children:o.jsx(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-md",children:o.jsxs("div",{className:"card text-center",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Confirm Your Purchase"}),o.jsxs("p",{className:"text-secondary mb-6",children:["You're about to unlock ",w.name," for ",vn.formatPrice(w.price),"!"]}),o.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-4 rounded-lg mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-semibold",children:w.name}),o.jsx("span",{className:"text-2xl font-bold text-green-600",children:vn.formatPrice(w.price)})]}),o.jsx("p",{className:"text-sm text-gray-600",children:w.description})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:g,disabled:f||n,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[o.jsx(sN,{}),f||n?"Processing...":"Complete Purchase"]}),m&&o.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:m}),o.jsx("button",{onClick:()=>{u(!1),y(null)},className:"w-full btn-secondary",children:"Back to Options"})]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-4",children:[o.jsx(Yf,{})," Secure payment processing  30-day money-back guarantee"]})]})})}):o.jsx("div",{className:"min-h-screen bg-app p-4",children:o.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center space-y-2",children:[o.jsx("div",{className:"text-4xl mb-4",children:""}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:r==="base"?"Upgrade to Full Experience":"Unlock Your Complete Toolkit"}),o.jsx("p",{className:"text-secondary",children:r==="base"?"Add comprehensive guidebooks to your existing plan":"Choose the perfect plan for your neurodivergent journey"})]}),r!=="base"&&o.jsx("div",{className:"flex justify-center mb-6",children:o.jsxs("div",{className:"bg-gray-100 rounded-lg p-1 flex",children:[o.jsxs("button",{onClick:()=>i("base"),className:`px-4 py-2 rounded-md transition-colors ${s==="base"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Base Plan - ",vn.formatPrice(Wr.base.price)]}),o.jsxs("button",{onClick:()=>i("guidebooks"),className:`px-4 py-2 rounded-md transition-colors ${s==="guidebooks"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Full Package - ",vn.formatPrice(Wr.guidebooks.price)]})]})}),o.jsx("div",{className:"max-w-md mx-auto",children:o.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"card relative border-2 border-purple-500 bg-gradient-to-br from-purple-50 to-pink-50",children:[o.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:o.jsxs("div",{className:"bg-purple-500 text-white px-4 py-1 rounded-full text-sm font-medium flex items-center gap-1",children:[o.jsx(rN,{})," ",r==="base"?"Upgrade":"Most Popular"]})}),o.jsxs("div",{className:"text-center mb-6 mt-4",children:[o.jsx("div",{className:"text-3xl mb-2",children:""}),o.jsx("h3",{className:"text-xl font-bold text-primary",children:w.name}),o.jsx("p",{className:"text-secondary",children:w.description}),o.jsx("div",{className:"text-4xl font-bold text-purple-600 mt-4",children:vn.formatPrice(w.price)}),o.jsx("p",{className:"text-sm text-gray-600",children:"One-time payment"})]}),o.jsx("div",{className:"space-y-3 mb-6",children:w.features.map((p,h)=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex-shrink-0 text-green-500",children:o.jsx(tN,{})}),o.jsx("span",{className:"text-sm text-gray-700",children:p})]},h))}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"font-semibold mb-3",children:"Payment Method:"}),o.jsx("div",{className:"space-y-2",children:v.map(p=>o.jsx("button",{onClick:()=>l(p.id),className:`w-full p-3 rounded-lg border-2 transition-all text-left ${a===p.id?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-xl",children:p.icon}),o.jsx("span",{className:"font-medium",children:p.name}),a===p.id&&o.jsx("span",{className:"ml-auto text-purple-600",children:""})]})},p.id))})]}),o.jsxs("button",{onClick:j,disabled:f,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white py-3 px-4 rounded-lg font-semibold hover:from-purple-600 hover:to-pink-600 transition-all transform hover:scale-105 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(nN,{})," ",f?"Processing...":`Upgrade Now - ${vn.formatPrice(w.price)}`]}),o.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:o.jsx("p",{className:"text-sm text-green-700 text-center",children:" Perfect for ADHD, Autism & Anxiety Support"})})]})}),o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card bg-gradient-to-r from-blue-50 to-purple-50",children:[o.jsx("h3",{className:"text-xl font-bold text-center text-primary mb-6",children:"Why Upgrade to NeuroFlow?"}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl mb-3",children:""}),o.jsx("h4",{className:"font-semibold text-primary mb-2",children:"Neurodivergent-Focused"}),o.jsx("p",{className:"text-sm text-secondary",children:"Specifically designed for ADHD, autism, and anxiety with evidence-based features"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl mb-3",children:""}),o.jsx("h4",{className:"font-semibold text-primary mb-2",children:"Gamified Experience"}),o.jsx("p",{className:"text-sm text-secondary",children:"Turn daily tasks into engaging challenges with rewards and achievements"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl mb-3",children:""}),o.jsx("h4",{className:"font-semibold text-primary mb-2",children:"Mental Wellness"}),o.jsx("p",{className:"text-sm text-secondary",children:"Complete zen mode with breathing exercises, meditation, and calming sounds"})]})]})]}),o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-center",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 bg-green-50 border border-green-200 rounded-full px-6 py-3",children:[o.jsx(Yf,{}),o.jsx("span",{className:"text-green-700 font-medium",children:"30-Day Money-Back Guarantee"})]}),o.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Not satisfied? Get a full refund within 30 days, no questions asked."})]}),o.jsx("div",{className:"text-center",children:o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 transition-colors",children:"Maybe later - Continue with demo"})})]})})},oN="modulepreload",aN=function(e){return"/"+e},Xf={},lN=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=aN(i),i in Xf)return;Xf[i]=!0;const a=i.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let f=s.length-1;f>=0;f--){const d=s[f];if(d.href===i&&(!a||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":oN,a||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),a)return new Promise((f,d)=>{u.addEventListener("load",f),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})},Cn=class Cn{constructor(){Q(this,"config");Q(this,"cache",new Map);Q(this,"rateLimiters",new Map);Q(this,"isDemoMode",!0);this.config=this.loadConfig()}static getInstance(){return Cn.instance||(Cn.instance=new Cn),Cn.instance}loadConfig(){return{freesound:{apiKey:{}.VITE_FREESOUND_API_KEY||"demo",baseUrl:"https://freesound.org/apiv2"},pixabay:{apiKey:{}.VITE_PIXABAY_API_KEY||"demo",baseUrl:"https://pixabay.com/api"},unsplash:{apiKey:{}.VITE_UNSPLASH_API_KEY||"demo",baseUrl:"https://api.unsplash.com"}}}setConfig(t){this.config={...this.config,...t},this.isDemoMode=!1}setDemoMode(t){this.isDemoMode=t}isInDemoMode(){return this.isDemoMode}getCachedData(t){const n=this.cache.get(t);return n?Date.now()>n.timestamp+n.expiresIn?(this.cache.delete(t),null):n.data:null}setCachedData(t,n,r=36e5){this.cache.set(t,{data:n,timestamp:Date.now(),expiresIn:r})}checkRateLimit(t,n=100,r=36e5){const s=Date.now(),i=this.rateLimiters.get(t);return!i||s>i.resetTime?(this.rateLimiters.set(t,{requests:1,resetTime:s+r}),!0):i.requests>=n?!1:(i.requests++,!0)}async fetchFreesounds(t,n,r=20){if(this.isDemoMode)return this.generateDemoSounds("freesound",t,n,r);const s=`freesound_${t}_${n}_${r}`,i=this.getCachedData(s);if(i)return i;if(!this.checkRateLimit("freesound"))throw new Error("Freesound API rate limit exceeded");try{const a=new URLSearchParams({token:this.config.freesound.apiKey,query:t,page_size:r.toString(),fields:"id,name,description,tags,duration,previews,license"}),l=await fetch(`${this.config.freesound.baseUrl}/search/text/?${a}`);if(!l.ok)throw new Error(`Freesound API error: ${l.status}`);const c=await l.json(),u=this.convertFreesoundToSounds(c.results,n);return this.setCachedData(s,u),u}catch(a){return console.error("Freesound API error:",a),this.generateDemoSounds("freesound",t,n,r)}}async fetchPixabayMusic(t,n,r=20){if(this.isDemoMode)return this.generateDemoSounds("pixabay",t,n,r);const s=`pixabay_${t}_${n}_${r}`,i=this.getCachedData(s);if(i)return i;if(!this.checkRateLimit("pixabay"))throw new Error("Pixabay API rate limit exceeded");try{const a=new URLSearchParams({key:this.config.pixabay.apiKey,q:t,audio_type:"music",per_page:r.toString()}),l=await fetch(`${this.config.pixabay.baseUrl}/music/?${a}`);if(!l.ok)throw new Error(`Pixabay API error: ${l.status}`);const c=await l.json(),u=this.convertPixabayToSounds(c.hits,n);return this.setCachedData(s,u),u}catch(a){return console.error("Pixabay API error:",a),this.generateDemoSounds("pixabay",t,n,r)}}async fetchUnsplashImages(t,n=10){if(this.isDemoMode)return this.generateDemoImages(t,n);const r=`unsplash_${t}_${n}`,s=this.getCachedData(r);if(s)return s;if(!this.checkRateLimit("unsplash",50))throw new Error("Unsplash API rate limit exceeded");try{const i=new URLSearchParams({query:t,per_page:n.toString(),client_id:this.config.unsplash.apiKey}),a=await fetch(`${this.config.unsplash.baseUrl}/search/photos?${i}`);if(!a.ok)throw new Error(`Unsplash API error: ${a.status}`);const c=(await a.json()).results.map(u=>({id:u.id,url:u.urls.regular,description:u.description||t,author:u.user.name}));return this.setCachedData(r,c),c}catch(i){return console.error("Unsplash API error:",i),this.generateDemoImages(t,n)}}async getExpandedSoundLibrary(t=!1){const n=await lN(()=>Promise.resolve().then(()=>mN),void 0),r=t?n.soundLibrary:n.getFreeSounds();if(!t)return r;try{const[s,i,a]=await Promise.all([this.fetchFreesounds("nature forest ocean rain","nature",15),this.fetchFreesounds("ambient drone meditation","ambient",10),this.fetchPixabayMusic("focus concentration study","focus",10)]);return[...r,...s,...i,...a]}catch(s){return console.error("Failed to fetch expanded sound library:",s),r}}async searchAllSources(t,n,r=30){try{const[s,i]=await Promise.all([this.fetchFreesounds(t,n,Math.floor(r/2)),this.fetchPixabayMusic(t,n,Math.floor(r/2))]);return[...s,...i]}catch(s){return console.error("Search across all sources failed:",s),this.generateDemoSounds("mixed",t,n,r)}}convertFreesoundToSounds(t,n){const r=require("../utils/soundLibrary").soundCategories,s=r.find(i=>i.id===(n||"nature"))||r[0];return t.map(i=>({id:`freesound_${i.id}`,name:i.name,category:s,description:i.description||"From Freesound community",duration:Math.round(i.duration/60),audioUrl:i.previews["preview-hq-mp3"]||i.previews["preview-lq-mp3"],isPremium:!0,tags:i.tags.slice(0,5),volume:.6,isFavorite:!1}))}convertPixabayToSounds(t,n){const r=require("../utils/soundLibrary").soundCategories,s=r.find(i=>i.id===(n||"ambient"))||r[1];return t.map(i=>({id:`pixabay_${i.id}`,name:`Pixabay Track ${i.id}`,category:s,description:"Premium music from Pixabay",duration:Math.round(i.duration/60),audioUrl:i.previewURL,isPremium:!0,tags:i.tags.split(", ").slice(0,5),volume:.7,isFavorite:!1}))}generateDemoSounds(t,n,r,s=20){const i=require("../utils/soundLibrary").soundCategories,a=[],l=["Deep Forest Meditation","Ocean Wave Therapy","Rain on Window","Crackling Fireplace","Mountain Stream","Night Cricket Symphony","Gentle Thunder","Wind Through Trees","Cosmic Ambience","Underwater Bubbles","Arctic Wind","Jungle Sounds","White Noise Comfort","Brown Noise Focus","Pink Noise Study","Binaural Beat Alpha","Singing Bowl Healing","Temple Bell Peace","Tibetan Chant","Zen Garden Water"],c=i.find(u=>u.id===r)||i[0];for(let u=0;u<Math.min(s,l.length);u++)a.push({id:`${t}_demo_${u+1}`,name:l[u],category:c,description:`Demo sound from ${t} - Premium quality audio`,duration:Math.floor(Math.random()*30)+10,audioUrl:"/audio/demo-sound.mp3",isPremium:!0,tags:[n,c.name.toLowerCase(),"premium","demo"],volume:.5+Math.random()*.3,isFavorite:!1});return a}generateDemoImages(t,n=10){const r=[];for(let s=0;s<n;s++)r.push({id:`demo_img_${s+1}`,url:`https://picsum.photos/800/600?random=${s+1}`,description:`Beautiful ${t} image for your content`,author:"Demo Author"});return r}clearCache(){this.cache.clear()}getCacheStats(){return{size:this.cache.size,entries:Array.from(this.cache.keys())}}async checkAPIHealth(){var r,s,i,a,l,c;const t={freesound:!1,pixabay:!1,unsplash:!1};if(this.isDemoMode)return{freesound:!0,pixabay:!0,unsplash:!0};const n=await Promise.allSettled([fetch(`${(r=this.config.freesound)==null?void 0:r.baseUrl}/search/text/?token=${(s=this.config.freesound)==null?void 0:s.apiKey}&query=test&page_size=1`),fetch(`${(i=this.config.pixabay)==null?void 0:i.baseUrl}/music/?key=${(a=this.config.pixabay)==null?void 0:a.apiKey}&q=test&per_page=1`),fetch(`${(l=this.config.unsplash)==null?void 0:l.baseUrl}/search/photos?query=test&per_page=1&client_id=${(c=this.config.unsplash)==null?void 0:c.apiKey}`)]);return t.freesound=n[0].status==="fulfilled"&&n[0].value.ok,t.pixabay=n[1].status==="fulfilled"&&n[1].value.ok,t.unsplash=n[2].status==="fulfilled"&&n[2].value.ok,t}};Q(Cn,"instance");let Fl=Cn;const ou=Fl.getInstance(),W=[{id:"nature",name:"Nature",icon:"",color:"from-green-400 to-emerald-500",description:"Natural sounds from forests, oceans, and weather"},{id:"ambient",name:"Ambient",icon:"",color:"from-purple-400 to-indigo-500",description:"Atmospheric and space-like soundscapes"},{id:"focus",name:"Focus",icon:"",color:"from-blue-400 to-cyan-500",description:"Sounds designed to enhance concentration"},{id:"meditation",name:"Meditation",icon:"",color:"from-pink-400 to-rose-500",description:"Calming sounds for mindfulness and relaxation"},{id:"urban",name:"Urban",icon:"",color:"from-gray-400 to-slate-500",description:"City sounds and everyday environments"},{id:"instruments",name:"Instruments",icon:"",color:"from-yellow-400 to-orange-500",description:"Musical instruments and harmonious tones"}],xt=[{id:"forest-ambiance",name:"Forest Ambiance",category:W[0],description:"Gentle wind through trees with subtle nature sounds",audioUrl:"/audio/forest.mp3",isPremium:!1,tags:["wind","trees","peaceful"],volume:.6},{id:"tropical-rainforest",name:"Tropical Rainforest",category:W[0],description:"Dense jungle sounds with exotic birds and insects",audioUrl:"/audio/tropical-forest.mp3",isPremium:!0,tags:["jungle","birds","insects","tropical"],volume:.7},{id:"ocean-waves",name:"Ocean Waves",category:W[0],description:"Rhythmic waves washing against the shore",audioUrl:"/audio/ocean.mp3",isPremium:!1,tags:["waves","beach","rhythmic"],volume:.6},{id:"mountain-stream",name:"Mountain Stream",category:W[0],description:"Gentle flowing water over rocks",audioUrl:"/audio/stream.mp3",isPremium:!0,tags:["water","flowing","peaceful"],volume:.5},{id:"gentle-rain",name:"Gentle Rain",category:W[0],description:"Soft rain with distant thunder",audioUrl:"/audio/rain.mp3",isPremium:!1,tags:["rain","thunder","cozy"],volume:.6},{id:"thunderstorm",name:"Thunderstorm",category:W[0],description:"Intense rain with powerful thunder",audioUrl:"/audio/thunderstorm.mp3",isPremium:!0,tags:["storm","intense","dramatic"],volume:.8},{id:"crackling-fire",name:"Crackling Fire",category:W[0],description:"Warm campfire with gentle crackling",audioUrl:"/audio/fire.mp3",isPremium:!0,tags:["fire","warm","cozy"],volume:.5},{id:"wind-chimes",name:"Wind Chimes",category:W[0],description:"Melodic bamboo wind chimes in gentle breeze",audioUrl:"/audio/wind-chimes.mp3",isPremium:!0,tags:["chimes","wind","melodic"],volume:.4},{id:"night-crickets",name:"Night Crickets",category:W[0],description:"Peaceful cricket symphony on summer night",audioUrl:"/audio/crickets.mp3",isPremium:!1,tags:["crickets","night","summer"],volume:.5},{id:"waterfall",name:"Waterfall",category:W[0],description:"Majestic waterfall cascading over rocks",audioUrl:"/audio/waterfall.mp3",isPremium:!0,tags:["waterfall","cascade","power"],volume:.7},{id:"desert-wind",name:"Desert Wind",category:W[0],description:"Vast desert winds across sandy dunes",audioUrl:"/audio/desert-wind.mp3",isPremium:!0,tags:["desert","wind","vast"],volume:.5},{id:"morning-birds",name:"Morning Birds",category:W[0],description:"Dawn chorus of songbirds greeting the day",audioUrl:"/audio/morning-birds.mp3",isPremium:!1,tags:["birds","dawn","morning"],volume:.6},{id:"autumn-leaves",name:"Autumn Leaves",category:W[0],description:"Rustling leaves falling in autumn breeze",audioUrl:"/audio/autumn-leaves.mp3",isPremium:!0,tags:["leaves","autumn","rustling"],volume:.4},{id:"lake-water",name:"Lake Water",category:W[0],description:"Gentle lapping of water against lake shore",audioUrl:"/audio/lake-water.mp3",isPremium:!0,tags:["lake","lapping","shore"],volume:.5},{id:"snow-falling",name:"Snow Falling",category:W[0],description:"Serene silence of falling snow",audioUrl:"/audio/snow-falling.mp3",isPremium:!0,tags:["snow","winter","serene"],volume:.3},{id:"space-ambience",name:"Space Ambience",category:W[1],description:"Deep space atmosphere with ethereal tones",audioUrl:"/audio/space.mp3",isPremium:!0,tags:["space","ethereal","cosmic"],volume:.4},{id:"underwater",name:"Underwater",category:W[1],description:"Submerged sounds with bubbles and echoes",audioUrl:"/audio/underwater.mp3",isPremium:!0,tags:["underwater","bubbles","mysterious"],volume:.5},{id:"crystal-cave",name:"Crystal Cave",category:W[1],description:"Mystical cave with water drops and echoes",audioUrl:"/audio/cave.mp3",isPremium:!0,tags:["cave","echoes","mystical"],volume:.6},{id:"ethereal-drone",name:"Ethereal Drone",category:W[1],description:"Atmospheric drone for deep meditation",audioUrl:"/audio/ethereal-drone.mp3",isPremium:!0,tags:["drone","atmospheric","deep"],volume:.3},{id:"cosmic-wind",name:"Cosmic Wind",category:W[1],description:"Otherworldly winds from distant planets",audioUrl:"/audio/cosmic-wind.mp3",isPremium:!0,tags:["cosmic","otherworldly","planets"],volume:.4},{id:"void-ambience",name:"Void Ambience",category:W[1],description:"Infinite space with subtle resonance",audioUrl:"/audio/void-ambience.mp3",isPremium:!0,tags:["void","infinite","resonance"],volume:.2},{id:"aurora-sounds",name:"Aurora Sounds",category:W[1],description:"Mystical northern lights audio phenomenon",audioUrl:"/audio/aurora-sounds.mp3",isPremium:!0,tags:["aurora","mystical","phenomenon"],volume:.5},{id:"nebula-whispers",name:"Nebula Whispers",category:W[1],description:"Soft whispers from stellar nurseries",audioUrl:"/audio/nebula-whispers.mp3",isPremium:!0,tags:["nebula","whispers","stellar"],volume:.3},{id:"time-dilation",name:"Time Dilation",category:W[1],description:"Warped time soundscape for deep focus",audioUrl:"/audio/time-dilation.mp3",isPremium:!0,tags:["time","warped","focus"],volume:.4},{id:"quantum-field",name:"Quantum Field",category:W[1],description:"Subatomic particle interactions as sound",audioUrl:"/audio/quantum-field.mp3",isPremium:!0,tags:["quantum","subatomic","particles"],volume:.3},{id:"stellar-winds",name:"Stellar Winds",category:W[1],description:"Solar winds across the cosmos",audioUrl:"/audio/stellar-winds.mp3",isPremium:!0,tags:["stellar","solar","cosmos"],volume:.4},{id:"dark-matter",name:"Dark Matter",category:W[1],description:"Mysterious sounds from invisible universe",audioUrl:"/audio/dark-matter.mp3",isPremium:!0,tags:["dark-matter","mysterious","invisible"],volume:.2},{id:"brown-noise",name:"Brown Noise",category:W[2],description:"Deep, low-frequency noise for concentration",audioUrl:"/audio/brown-noise.mp3",isPremium:!1,tags:["noise","concentration","deep"],volume:.5},{id:"white-noise",name:"White Noise",category:W[2],description:"Classic white noise for blocking distractions",audioUrl:"/audio/white-noise.mp3",isPremium:!1,tags:["noise","blocking","classic"],volume:.5},{id:"pink-noise",name:"Pink Noise",category:W[2],description:"Balanced frequency noise for better focus",audioUrl:"/audio/pink-noise.mp3",isPremium:!0,tags:["noise","balanced","focus"],volume:.5},{id:"binaural-beats",name:"Binaural Beats",category:W[2],description:"Alpha waves for enhanced concentration",audioUrl:"/audio/binaural.mp3",isPremium:!0,tags:["binaural","alpha","brainwaves"],volume:.4},{id:"theta-waves",name:"Theta Waves",category:W[2],description:"Deep meditation and creativity enhancement",audioUrl:"/audio/theta-waves.mp3",isPremium:!0,tags:["theta","meditation","creativity"],volume:.4},{id:"gamma-frequency",name:"Gamma Frequency",category:W[2],description:"High-frequency waves for peak focus",audioUrl:"/audio/gamma-frequency.mp3",isPremium:!0,tags:["gamma","peak-focus","high-frequency"],volume:.3},{id:"beta-waves",name:"Beta Waves",category:W[2],description:"Alert consciousness and problem solving",audioUrl:"/audio/beta-waves.mp3",isPremium:!0,tags:["beta","alert","problem-solving"],volume:.4},{id:"delta-sleep",name:"Delta Sleep",category:W[2],description:"Deep sleep induction frequencies",audioUrl:"/audio/delta-sleep.mp3",isPremium:!0,tags:["delta","sleep","deep"],volume:.3},{id:"singing-bowls",name:"Singing Bowls",category:W[3],description:"Tibetan singing bowls for deep meditation",audioUrl:"/audio/singing-bowls.mp3",isPremium:!0,tags:["tibetan","bowls","meditation"],volume:.6},{id:"temple-bells",name:"Temple Bells",category:W[3],description:"Gentle temple bells with peaceful ambience",audioUrl:"/audio/temple-bells.mp3",isPremium:!0,tags:["bells","temple","peaceful"],volume:.5},{id:"zen-garden",name:"Zen Garden",category:W[3],description:"Peaceful Japanese garden with water features",audioUrl:"/audio/zen-garden.mp3",isPremium:!0,tags:["zen","japanese","garden"],volume:.4},{id:"coffee-shop",name:"Coffee Shop",category:W[4],description:"Bustling caf with gentle chatter and coffee machines",audioUrl:"/audio/coffee-shop.mp3",isPremium:!0,tags:["caf","chatter","bustling"],volume:.6},{id:"library",name:"Library",category:W[4],description:"Quiet library with subtle page turning and whispers",audioUrl:"/audio/library.mp3",isPremium:!0,tags:["quiet","library","studying"],volume:.3},{id:"train-journey",name:"Train Journey",category:W[4],description:"Rhythmic train sounds for relaxation",audioUrl:"/audio/train.mp3",isPremium:!0,tags:["train","rhythmic","journey"],volume:.7},{id:"piano-meditation",name:"Piano Meditation",category:W[5],description:"Soft piano melodies for relaxation",audioUrl:"/audio/piano.mp3",isPremium:!0,tags:["piano","melody","soft"],volume:.5},{id:"flute-serenity",name:"Flute Serenity",category:W[5],description:"Peaceful flute music with nature sounds",audioUrl:"/audio/flute.mp3",isPremium:!0,tags:["flute","peaceful","nature"],volume:.6},{id:"guitar-ambience",name:"Guitar Ambience",category:W[5],description:"Ambient guitar with reverb and delay",audioUrl:"/audio/guitar.mp3",isPremium:!0,tags:["guitar","ambient","reverb"],volume:.5}],au=()=>xt.filter(e=>!e.isPremium),a0=()=>xt.filter(e=>e.isPremium),cN=e=>xt.filter(t=>t.category.id===e),uN=()=>xt.filter(e=>e.isFavorite),dN=async(e=!1)=>{try{return await ou.getExpandedSoundLibrary(e)}catch(t){return console.error("Failed to get expanded sound library:",t),e?xt:au()}},l0=async(e,t,n=!1)=>{try{const r=xt.filter(s=>{const i=s.name.toLowerCase().includes(e.toLowerCase())||s.description.toLowerCase().includes(e.toLowerCase())||s.tags.some(c=>c.toLowerCase().includes(e.toLowerCase())),a=!t||s.category.id===t,l=n||!s.isPremium;return i&&a&&l});if(n&&e.length>2){const s=await ou.searchAllSources(e,t,20);return[...r,...s]}return r}catch(r){return console.error("Sound search failed:",r),xt.filter(s=>s.name.toLowerCase().includes(e.toLowerCase())&&(!t||s.category.id===t)&&(n||!s.isPremium))}},fN=async(e,t=!1)=>{try{const n=(e==null?void 0:e.favoriteCategories)||["nature","ambient"],r=[];for(const s of n){const i=await l0("",s,t);r.push(...i.slice(0,5))}if(r.length<10){const s=xt.filter(i=>t||!i.isPremium).slice(0,10-r.length);r.push(...s)}return r}catch(n){return console.error("Failed to get recommended sounds:",n),xt.slice(0,10)}},mN=Object.freeze(Object.defineProperty({__proto__:null,getExpandedSoundLibrary:dN,getFavoriteSounds:uN,getFreeSounds:au,getPremiumSounds:a0,getRecommendedSounds:fN,getSoundsByCategory:cN,searchSounds:l0,soundCategories:W,soundLibrary:xt},Symbol.toStringTag,{value:"Module"})),Tn=class Tn{constructor(){Q(this,"audioContext",null);Q(this,"audioInstances",new Map);Q(this,"generatedAudioInstances",new Map);Q(this,"masterVolume",1);Q(this,"isInitialized",!1);Q(this,"isEnabled",!0);this.cleanup=this.cleanup.bind(this),this.suspend=this.suspend.bind(this),this.resume=this.resume.bind(this),window.addEventListener("beforeunload",this.cleanup),window.addEventListener("pagehide",this.cleanup),document.addEventListener("visibilitychange",()=>{document.hidden?this.suspend():this.resume()})}static getInstance(){return Tn.instance||(Tn.instance=new Tn),Tn.instance}async initialize(){if(this.isInitialized)return!0;try{return this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.audioContext.state==="suspended"&&console.log("AudioContext suspended - waiting for user interaction"),this.isInitialized=!0,!0}catch(t){return console.error("Failed to initialize AudioContext:",t),!1}}async resume(){if(this.audioContext&&this.audioContext.state==="suspended")try{await this.audioContext.resume(),console.log("AudioContext resumed")}catch(t){console.error("Failed to resume AudioContext:",t)}}async suspend(){if(this.audioContext&&this.audioContext.state==="running")try{await this.audioContext.suspend(),console.log("AudioContext suspended")}catch(t){console.error("Failed to suspend AudioContext:",t)}}async playAudioFile(t,n=1,r=!0){if(!this.isEnabled)return null;try{await this.initialize(),await this.resume();const s=`audio_${t.id}_${Date.now()}`,i=new Audio;i.volume=n*this.masterVolume*t.volume,i.loop=r;const a=new Promise((l,c)=>{const u=()=>{i.removeEventListener("canplaythrough",u),i.removeEventListener("error",f),l()},f=d=>{i.removeEventListener("canplaythrough",u),i.removeEventListener("error",f),c(d)};i.addEventListener("canplaythrough",u),i.addEventListener("error",f)});i.src=t.audioUrl||this.generateDataUrl(t);try{await a,await i.play();const l={id:s,audio:i,sound:t,volume:n,isLooping:r,isPlaying:!0};return this.audioInstances.set(s,l),i.addEventListener("ended",()=>{this.stopAudio(s)}),s}catch(l){return console.warn("Audio file playback failed, falling back to generated audio:",l),this.playGeneratedAudio(t,n,r)}}catch(s){return console.error("Failed to play audio file:",s),this.playGeneratedAudio(t,n,r)}}async playGeneratedAudio(t,n=1,r=!0){if(!this.isEnabled)return null;try{if(await this.initialize(),await this.resume(),!this.audioContext)return null;const s=`generated_${t.id}_${Date.now()}`,i=this.audioContext.createOscillator(),a=this.audioContext.createGain();this.configureOscillatorForSound(i,a,t),a.gain.setValueAtTime(n*this.masterVolume*t.volume,this.audioContext.currentTime),i.connect(a),a.connect(this.audioContext.destination),i.start();const l={id:s,oscillator:i,gainNode:a,sound:t,volume:n,isPlaying:!0};return this.generatedAudioInstances.set(s,l),r?i.addEventListener("ended",()=>{this.generatedAudioInstances.has(s)&&this.restartGeneratedAudio(s)}):i.addEventListener("ended",()=>{this.stopGeneratedAudio(s)}),s}catch(s){return console.error("Failed to play generated audio:",s),null}}configureOscillatorForSound(t,n,r){const s=this.audioContext.currentTime;r.tags.includes("rain")||r.tags.includes("storm")?(t.type="sawtooth",t.frequency.setValueAtTime(80,s),t.frequency.exponentialRampToValueAtTime(120,s+2),t.frequency.exponentialRampToValueAtTime(80,s+4),n.gain.setValueAtTime(.05,s)):r.tags.includes("ocean")||r.tags.includes("water")?(t.type="sine",t.frequency.setValueAtTime(60,s),n.gain.setValueAtTime(.1,s),n.gain.exponentialRampToValueAtTime(.2,s+3),n.gain.exponentialRampToValueAtTime(.1,s+6)):r.tags.includes("forest")||r.tags.includes("nature")?(t.type="triangle",t.frequency.setValueAtTime(200,s),n.gain.setValueAtTime(.03,s)):r.tags.includes("fire")?(t.type="sawtooth",t.frequency.setValueAtTime(150,s),t.frequency.exponentialRampToValueAtTime(200,s+.5),t.frequency.exponentialRampToValueAtTime(100,s+1),n.gain.setValueAtTime(.08,s)):r.tags.includes("noise")?(t.type="sawtooth",r.name.toLowerCase().includes("white")?t.frequency.setValueAtTime(440,s):r.name.toLowerCase().includes("brown")?t.frequency.setValueAtTime(220,s):r.name.toLowerCase().includes("pink")&&t.frequency.setValueAtTime(330,s),n.gain.setValueAtTime(.1,s)):(t.type="sine",t.frequency.setValueAtTime(220,s),n.gain.setValueAtTime(.05,s))}async restartGeneratedAudio(t){const n=this.generatedAudioInstances.get(t);if(!(!n||!this.audioContext))try{const r=this.audioContext.createOscillator(),s=this.audioContext.createGain();this.configureOscillatorForSound(r,s,n.sound),s.gain.setValueAtTime(n.volume*this.masterVolume*n.sound.volume,this.audioContext.currentTime),r.connect(s),s.connect(this.audioContext.destination),r.start(),n.oscillator=r,n.gainNode=s,r.addEventListener("ended",()=>{this.generatedAudioInstances.has(t)&&this.restartGeneratedAudio(t)})}catch(r){console.error("Failed to restart generated audio:",r),this.stopGeneratedAudio(t)}}stopAudio(t){const n=this.audioInstances.get(t);n&&(n.audio.pause(),n.audio.src="",n.audio.remove(),this.audioInstances.delete(t)),this.stopGeneratedAudio(t)}stopGeneratedAudio(t){const n=this.generatedAudioInstances.get(t);if(n){if(n.oscillator)try{n.oscillator.stop(),n.oscillator.disconnect()}catch{}n.gainNode&&n.gainNode.disconnect(),this.generatedAudioInstances.delete(t)}}stopAllAudio(){for(const[t,n]of this.audioInstances)n.audio.pause(),n.audio.src="",n.audio.remove();this.audioInstances.clear();for(const[t,n]of this.generatedAudioInstances){if(n.oscillator)try{n.oscillator.stop(),n.oscillator.disconnect()}catch{}n.gainNode&&n.gainNode.disconnect()}this.generatedAudioInstances.clear()}setAudioVolume(t,n){const r=this.audioInstances.get(t);r&&(r.volume=n,r.audio.volume=n*this.masterVolume*r.sound.volume);const s=this.generatedAudioInstances.get(t);s&&s.gainNode&&this.audioContext&&(s.volume=n,s.gainNode.gain.setValueAtTime(n*this.masterVolume*s.sound.volume,this.audioContext.currentTime))}setMasterVolume(t){this.masterVolume=Math.max(0,Math.min(1,t));for(const[n,r]of this.audioInstances)r.audio.volume=r.volume*this.masterVolume*r.sound.volume;for(const[n,r]of this.generatedAudioInstances)r.gainNode&&this.audioContext&&r.gainNode.gain.setValueAtTime(r.volume*this.masterVolume*r.sound.volume,this.audioContext.currentTime)}getMasterVolume(){return this.masterVolume}setEnabled(t){this.isEnabled=t,t||this.stopAllAudio()}isAudioEnabled(){return this.isEnabled&&this.isInitialized}getActiveInstances(){return{audio:Array.from(this.audioInstances.values()),generated:Array.from(this.generatedAudioInstances.values())}}generateDataUrl(t){return"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAaCs7DUO7L0SU="}cleanup(){if(this.stopAllAudio(),this.audioContext){try{this.audioContext.close()}catch(t){console.error("Error closing AudioContext:",t)}this.audioContext=null}this.isInitialized=!1,window.removeEventListener("beforeunload",this.cleanup),window.removeEventListener("pagehide",this.cleanup)}};Q(Tn,"instance");let Ul=Tn;const nt=Ul.getInstance(),hN=()=>o.jsx("span",{children:""}),pN=()=>o.jsx("span",{children:""}),Zf=()=>o.jsx("span",{children:""}),Jf=()=>o.jsx("span",{children:""}),gN=()=>o.jsx("span",{children:""}),yN=()=>o.jsx("span",{children:""}),xN=()=>o.jsx("span",{children:""}),vN=()=>o.jsx("span",{children:""}),wN=({isOpen:e,onClose:t,isPremium:n})=>{const[r,s]=b.useState([]),[i,a]=b.useState([]),[l,c]=b.useState("all"),[u,f]=b.useState(.7),[d,m]=b.useState([]),[y,v]=b.useState(""),[w,j]=b.useState(""),[g,p]=b.useState(!1);b.useState(!0);const[h,x]=b.useState("");b.useState(2);const[k,P]=b.useState(null);b.useEffect(()=>(e&&!g&&nt.initialize().then(()=>{p(!0),nt.setMasterVolume(u)}),()=>{e&&nt.stopAllAudio()}),[e,g,u]);const A=Ye.useMemo(()=>{let L=i;if(l!=="all"&&(L=L.filter(F=>F.category.id===l)),h.trim()){const F=h.toLowerCase();L=L.filter(T=>T.name.toLowerCase().includes(F)||T.description.toLowerCase().includes(F)||T.tags.some(S=>S.toLowerCase().includes(F)))}return L},[i,l,h]),N=async L=>{if(!r.find(F=>F.sound.id===L.id)){if(r.length>=8){alert(" Maximum 8 sounds can be mixed simultaneously in premium mode");return}try{await nt.initialize(),await nt.resume();const F={sound:L,instanceId:null,volume:L.volume,isPlaying:!1,isSolo:!1,isMuted:!1};s(T=>[...T,F])}catch(F){console.error("Error adding sound:",F),alert(" Unable to load this sound. Please try another one.")}}},C=async L=>{s(F=>F.map(T=>{if(T.sound.id===L){if(T.isPlaying&&T.instanceId)return nt.stopAudio(T.instanceId),{...T,isPlaying:!1,instanceId:null};if(!T.isMuted)return nt.playGeneratedAudio(T.sound,V(T),!0).then(S=>{S&&s(D=>D.map(M=>M.sound.id===L?{...M,isPlaying:!0,instanceId:S}:M))}).catch(console.error),T}return T}))},V=L=>L.isMuted||r.some(T=>T.isSolo)&&!L.isSolo?0:L.volume,_=L=>{s(F=>{const T=F.find(S=>S.sound.id===L);return T&&T.instanceId&&nt.stopAudio(T.instanceId),F.filter(S=>S.sound.id!==L)})},Y=(L,F)=>{s(T=>T.map(S=>{if(S.sound.id===L){if(S.instanceId){const D=S.isMuted?0:F;nt.setAudioVolume(S.instanceId,D)}return{...S,volume:F}}return S}))},K=L=>{f(L),nt.setMasterVolume(L)},ee=()=>{if(!y.trim()){alert(" Please enter a name for your mix");return}if(r.length===0){alert(" Add some sounds to your mix before saving");return}const L={id:Date.now().toString(),name:y.trim(),sounds:r.map(T=>({soundId:T.sound.id,volume:T.volume,isSolo:T.isSolo,isMuted:T.isMuted})),masterVolume:u,createdAt:new Date,tags:w.split(",").map(T=>T.trim()).filter(T=>T.length>0)},F=[...d,L];m(F),localStorage.setItem("neuroflow-sound-mixes",JSON.stringify(F)),P(L),v(""),j(""),alert(" Mix saved successfully!")},xe=async L=>{nt.stopAllAudio(),s([]),P(L);for(const F of L.sounds){const T=i.find(S=>S.id===F.soundId);if(T){const S={sound:T,instanceId:null,volume:F.volume,isPlaying:!1,isSolo:F.isSolo||!1,isMuted:F.isMuted||!1};s(D=>[...D,S])}}f(L.masterVolume),K(L.masterVolume),alert(` Loaded mix: ${L.name}`)};return b.useEffect(()=>{const L=localStorage.getItem("neuroflow-sound-mixes");if(L)try{const F=JSON.parse(L);m(F.map(T=>({...T,createdAt:new Date(T.createdAt),tags:T.tags||[]})))}catch(F){console.error("Error loading saved mixes:",F)}},[]),b.useEffect(()=>()=>{nt.stopAllAudio()},[]),e?o.jsx(kr,{children:o.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:t,children:o.jsxs(R.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",onClick:L=>L.stopPropagation(),children:[o.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(xN,{}),o.jsx("h2",{className:"text-2xl font-bold",children:"Sound Mixer"}),!n&&o.jsx("span",{className:"bg-yellow-400 text-black px-2 py-1 rounded-full text-xs font-medium",children:"Demo Mode"}),!g&&o.jsx("span",{className:"bg-blue-400 text-white px-2 py-1 rounded-full text-xs font-medium",children:"Initializing Audio..."})]}),o.jsx("button",{onClick:t,className:"text-white hover:bg-white/20 p-2 rounded-full transition-colors",children:""})]})}),o.jsxs("div",{className:"p-6 max-h-[calc(90vh-120px)] overflow-y-auto",children:[o.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Master Controls"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Jf,{}),o.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:u,onChange:L=>K(parseFloat(L.target.value)),className:"w-32"}),o.jsx(Zf,{}),o.jsxs("span",{className:"text-sm font-medium w-12",children:[Math.round(u*100),"%"]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",placeholder:"Mix name...",value:y,onChange:L=>v(L.target.value),className:"flex-1 px-3 py-2 border rounded-lg"}),o.jsxs("button",{onClick:ee,disabled:r.length===0,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(vN,{})," Save Mix"]})]})]}),r.length>0&&o.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 mb-6",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Current Mix (",r.length,"/6)"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(L=>o.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>C(L.sound.id),className:`p-1 rounded transition-colors ${L.isPlaying?"bg-green-100 text-green-600":"bg-gray-100"}`,children:L.isPlaying?o.jsx(pN,{}):o.jsx(hN,{})}),o.jsx("span",{className:"font-medium text-sm",children:L.sound.name})]}),o.jsx("button",{onClick:()=>_(L.sound.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:o.jsx(yN,{})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Jf,{}),o.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:L.volume,onChange:F=>Y(L.sound.id,parseFloat(F.target.value)),className:"flex-1"}),o.jsx(Zf,{}),o.jsxs("span",{className:"text-xs w-8",children:[Math.round(L.volume*100),"%"]})]})]},L.sound.id))})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[o.jsx("button",{onClick:()=>c("all"),className:`px-3 py-1 rounded-full text-sm transition-colors ${l==="all"?"bg-purple-500 text-white":"bg-gray-200"}`,children:" All"}),W.map(L=>o.jsxs("button",{onClick:()=>c(L.id),className:`px-3 py-1 rounded-full text-sm transition-colors ${l===L.id?"bg-purple-500 text-white":"bg-gray-200"}`,children:[L.icon," ",L.name]},L.id)),"\\n                        "]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:A.map(L=>{const F=r.some(S=>S.sound.id===L.id),T=L.isPremium&&!n;return o.jsxs(R.button,{onClick:()=>!T&&!F&&N(L),disabled:F||T,className:`p-3 rounded-lg text-left transition-all ${F?"bg-green-100 border-2 border-green-500":T?"bg-gray-100 opacity-50 cursor-not-allowed":"bg-white border-2 border-gray-200 hover:border-purple-300 hover:shadow-md"}`,whileHover:!F&&!T?{scale:1.02}:{},whileTap:!F&&!T?{scale:.98}:{},children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-sm font-medium truncate",children:L.name}),T&&o.jsx("span",{className:"text-xs",children:""}),F&&o.jsx("span",{className:"text-green-600",children:""})]}),o.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:L.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-xs text-gray-500",children:L.category.icon}),!F&&!T&&o.jsx(gN,{})]})]},L.id)})}),d.length>0&&o.jsxs("div",{className:"mt-6 bg-gray-50 rounded-xl p-4",children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Saved Mixes"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:d.map(L=>o.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium text-sm",children:L.name}),o.jsx("button",{onClick:()=>{const F=d.filter(T=>T.id!==L.id);m(F),localStorage.setItem("neuroflow-sound-mixes",JSON.stringify(F))},className:"text-red-500 hover:bg-red-50 p-1 rounded text-xs",children:""})]}),o.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:[L.sounds.length," sounds  ",Math.round(L.masterVolume*100),"% volume"]}),o.jsx("button",{onClick:()=>xe(L),className:"w-full py-1 bg-purple-500 text-white rounded text-xs hover:bg-purple-600 transition-colors",children:"Load Mix"})]},L.id))})]}),!n&&o.jsxs("div",{className:"mt-6 bg-gradient-to-r from-yellow-400 to-orange-400 text-white rounded-xl p-4 text-center",children:[o.jsx("h3",{className:"font-bold mb-2",children:" Unlock Full Sound Library"}),o.jsx("p",{className:"text-sm mb-3",children:"Get access to 40+ premium sounds, unlimited mixes, and exclusive ambient soundscapes!"}),o.jsx("p",{className:"text-xs opacity-90",children:"Upgrade to NeuroFlow Full for just $5"})]})]})]})})}):null},bN=()=>o.jsx("span",{children:""}),Pa=()=>o.jsx("span",{children:""}),em=()=>o.jsx("span",{children:""}),jN=()=>o.jsx("span",{children:""}),SN=()=>o.jsx("span",{children:""}),tm=()=>o.jsx("span",{children:""}),nm=()=>o.jsx("span",{children:""}),NN=()=>o.jsx("span",{children:""}),kN=()=>o.jsx("span",{children:""}),PN=({appState:e,onUpdateState:t})=>{const[n,r]=b.useState("all"),[s,i]=b.useState([]),[a,l]=b.useState({}),[c,u]=b.useState(""),[f,d]=b.useState(!1),[m,y]=b.useState(!1),[v,w]=b.useState("");b.useState(null);const[j,g]=b.useState(!1),p=b.useRef({}),h=e.user.subscription.isPremium?xt:au(),x=h.filter(S=>{const D=n==="all"||S.category.id===n,M=S.name.toLowerCase().includes(c.toLowerCase())||S.tags.some(X=>X.toLowerCase().includes(c.toLowerCase())),z=!f||S.isFavorite;return D&&M&&z}),k=async S=>{const D=new(window.AudioContext||window.webkitAudioContext);D.state==="suspended"&&await D.resume();let M;S.audioUrl.includes("forest")||S.id.includes("forest")?M=P(D):S.audioUrl.includes("ocean")||S.id.includes("ocean")?M=A(D):S.audioUrl.includes("rain")||S.id.includes("rain")?M=N(D):S.audioUrl.includes("white-noise")||S.id.includes("white")?M=C(D):S.audioUrl.includes("brown-noise")||S.id.includes("brown")?M=V(D):S.audioUrl.includes("fire")||S.id.includes("fire")?M=_(D):M=Y(D);const z=D.createBufferSource(),X=D.createGain();z.buffer=M,z.loop=!0;const B=a[S.id]??S.volume;return X.gain.value=B,z.connect(X),X.connect(D.destination),z},P=S=>{const D=S.sampleRate*10,M=S.createBuffer(2,D,S.sampleRate),z=M.getChannelData(0),X=M.getChannelData(1);for(let B=0;B<D;B++){const fe=(Math.random()*2-1)*.15,E=Math.sin(B*3e-4)*.08*(Math.random()*.4+.8),U=Math.sin(B*1e-4)*.06,$=Math.sin(B*5e-5)*.03;let te=0;if(Math.random()<5e-6){const Z=.015+Math.random()*.01;te=Math.sin(B*Z)*.015*Math.exp(-(B%2e3)/400)}const se=fe+E+U+$+te;z[B]=se,X[B]=se*.95+E*1.1+U*.9}return M},A=S=>{const D=S.sampleRate*8,M=S.createBuffer(2,D,S.sampleRate),z=M.getChannelData(0),X=M.getChannelData(1);for(let B=0;B<D;B++){const fe=Math.sin(B*8e-4)*.3,E=Math.sin(B*3e-4)*.2,U=(Math.random()*2-1)*.1,$=Math.sin(B*1e-4)*.15,te=fe+E+U+$;z[B]=te,X[B]=te*.9+U*1.2}return M},N=S=>{const D=S.sampleRate*6,M=S.createBuffer(2,D,S.sampleRate),z=M.getChannelData(0),X=M.getChannelData(1);for(let B=0;B<D;B++){const fe=(Math.random()*2-1)*.12,E=Math.sin(B*1e-4)*.05*Math.sin(B*3e-5),U=Math.sin(B*.01)*.03,$=fe+E+U;z[B]=$,X[B]=$*.9+U*1.1}return M},C=S=>{const D=S.sampleRate*4,M=S.createBuffer(1,D,S.sampleRate),z=M.getChannelData(0);for(let X=0;X<D;X++)z[X]=(Math.random()*2-1)*.3;return M},V=S=>{const D=S.sampleRate*4,M=S.createBuffer(1,D,S.sampleRate),z=M.getChannelData(0);let X=0;for(let B=0;B<D;B++){const fe=(Math.random()*2-1)*.1;z[B]=(X+.02*fe)/1.02,X=z[B],z[B]*=3.5}return M},_=S=>{const D=S.sampleRate*6,M=S.createBuffer(2,D,S.sampleRate),z=M.getChannelData(0),X=M.getChannelData(1);for(let B=0;B<D;B++){const fe=Math.random()<.001?(Math.random()*2-1)*.4:0,E=(Math.random()*2-1)*.08,U=Math.sin(B*2e-4)*.05,$=fe+E+U;z[B]=$,X[B]=$*.95+fe*1.1}return M},Y=S=>{const D=S.sampleRate*8,M=S.createBuffer(2,D,S.sampleRate),z=M.getChannelData(0),X=M.getChannelData(1);for(let B=0;B<D;B++){const fe=Math.sin(B*4e-4)*.1,E=Math.sin(B*6e-4)*.08,U=(Math.random()*2-1)*.03,$=fe+E+U;z[B]=$,X[B]=$*.9}return M},K=async S=>{try{if(s.includes(S.id)){ee(S.id);return}const D=await k(S);p.current[S.id]=D,D.start(),i(M=>[...M,S.id]),D.onended=()=>{i(M=>M.filter(z=>z!==S.id)),delete p.current[S.id]}}catch(D){console.error("Error playing sound:",D)}},ee=S=>{p.current[S]&&(p.current[S].stop(),delete p.current[S]),i(D=>D.filter(M=>M!==S))},xe=()=>{Object.keys(p.current).forEach(S=>{p.current[S].stop(),delete p.current[S]}),i([])},L=S=>{console.log("Toggle favorite:",S)},F=(S,D)=>{l(M=>({...M,[S]:D})),p.current[S]},T=()=>{if(!v.trim()||s.length===0)return;const S={id:`mix-${Date.now()}`,name:v.trim(),sounds:s.map(D=>({soundId:D,volume:a[D]??.6})),createdAt:new Date,isPremium:e.user.subscription.isPremium};console.log("Saving mix:",S),w(""),y(!1)};return b.useEffect(()=>()=>{xe()},[]),o.jsx("div",{className:"min-h-screen bg-app p-4",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs(R.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:" Sound Library"}),o.jsx("p",{className:"text-secondary",children:e.user.subscription.isPremium?"Full library with premium sounds and mixing capabilities":"Demo library - upgrade for full access to all sounds"})]}),!e.user.subscription.isPremium&&o.jsx(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"card bg-gradient-to-r from-yellow-400 to-orange-500 text-white mb-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg mb-1",children:" Unlock Full Sound Library"}),o.jsxs("p",{className:"text-sm opacity-90",children:["Get access to ",a0().length," premium sounds, custom mixing, and unlimited combinations!"]})]}),o.jsx("button",{className:"btn-secondary bg-white text-orange-600 hover:bg-gray-100",children:"Upgrade Now"})]})}),o.jsxs("div",{className:"card mb-6",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[o.jsx("div",{className:"flex-1 min-w-64",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(NN,{})}),o.jsx("input",{type:"text",value:c,onChange:S=>u(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-themed rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Search sounds..."})]})}),o.jsxs("button",{onClick:()=>d(!f),className:`px-4 py-2 rounded-lg font-medium transition-colors ${f?"bg-pink-500 text-white":"bg-white text-gray-700 hover:bg-pink-50"}`,children:[o.jsx(em,{})," Favorites"]}),o.jsxs("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all transform hover:scale-105 font-medium",children:[o.jsx(tm,{})," Sound Mixer"]}),s.length>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:()=>y(!0),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[o.jsx(nm,{})," Save Mix"]}),o.jsxs("button",{onClick:xe,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:[o.jsx(Pa,{})," Stop All"]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("button",{onClick:()=>r("all"),className:`px-4 py-2 rounded-full font-medium transition-colors ${n==="all"?"bg-purple-500 text-white":"bg-white text-gray-700 hover:bg-purple-50"}`,children:" All Categories"}),W.map(S=>o.jsxs("button",{onClick:()=>r(S.id),className:`px-4 py-2 rounded-full font-medium transition-colors ${n===S.id?"bg-purple-500 text-white":"bg-white text-gray-700 hover:bg-purple-50"}`,children:[S.icon," ",S.name]},S.id))]})]}),s.length>0&&o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card mb-6 bg-gradient-to-r from-blue-50 to-purple-50",children:[o.jsxs("h3",{className:"font-bold text-lg mb-4 text-primary",children:[" Currently Playing (",s.length,")"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(S=>{const D=h.find(M=>M.id===S);return D?o.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium",children:D.name}),o.jsx("button",{onClick:()=>ee(S),className:"text-red-500 hover:text-red-700",children:o.jsx(Pa,{})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(SN,{}),o.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:a[S]??D.volume,onChange:M=>F(S,parseFloat(M.target.value)),className:"flex-1"}),o.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round((a[S]??D.volume)*100),"%"]})]})]},S):null})})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:x.map((S,D)=>o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:D*.05},className:`card hover:shadow-lg transition-all cursor-pointer relative ${s.includes(S.id)?"ring-2 ring-blue-500 bg-blue-50":""}`,onClick:()=>K(S),children:[S.isPremium&&!e.user.subscription.isPremium&&o.jsxs("div",{className:"absolute top-2 right-2 bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:[o.jsx(kN,{})," PREMIUM"]}),o.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br ${S.category.color} flex items-center justify-center text-2xl`,children:S.category.icon}),o.jsx("h3",{className:"font-bold text-lg mb-2 text-center text-primary",children:S.name}),o.jsx("p",{className:"text-sm text-secondary text-center mb-4",children:S.description}),o.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:S.tags.slice(0,3).map(M=>o.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:M},M))}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("button",{onClick:M=>{M.stopPropagation(),K(S)},className:`px-4 py-2 rounded-lg font-medium transition-colors ${s.includes(S.id)?"bg-red-500 text-white hover:bg-red-600":"bg-blue-500 text-white hover:bg-blue-600"}`,disabled:S.isPremium&&!e.user.subscription.isPremium,children:[s.includes(S.id)?o.jsx(Pa,{}):o.jsx(bN,{}),s.includes(S.id)?" Stop":" Play"]}),o.jsx("button",{onClick:M=>{M.stopPropagation(),L(S.id)},className:"p-2 text-gray-400 hover:text-pink-500 transition-colors",children:S.isFavorite?o.jsx(jN,{}):o.jsx(em,{})})]})]},S.id))}),o.jsx(kr,{children:m&&o.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>y(!1),children:o.jsxs(R.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"card max-w-md w-full",onClick:S=>S.stopPropagation(),children:[o.jsxs("h3",{className:"font-bold text-xl mb-4 text-primary",children:[o.jsx(tm,{})," Save Sound Mix"]}),o.jsxs("p",{className:"text-secondary mb-4",children:["Save your current combination of ",s.length," sounds as a custom mix."]}),o.jsx("input",{type:"text",value:v,onChange:S=>w(S.target.value),className:"w-full p-3 border border-themed rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4",placeholder:"Enter mix name...",autoFocus:!0}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:T,disabled:!v.trim()||s.length===0,className:"flex-1 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(nm,{})," Save Mix"]}),o.jsx("button",{onClick:()=>y(!1),className:"px-6 btn-secondary",children:"Cancel"})]})]})})}),o.jsx(wN,{isOpen:j,onClose:()=>g(!1),isPremium:e.user.subscription.isPremium})]})})},wt=[{id:"focus",name:"Focus & Attention",icon:"",color:"from-blue-400 to-cyan-500",description:"Strategies to improve concentration and reduce distractions",targetCondition:"both"},{id:"organization",name:"Organization",icon:"",color:"from-green-400 to-emerald-500",description:"Systems and tools for better organization and planning",targetCondition:"both"},{id:"emotional",name:"Emotional Regulation",icon:"",color:"from-pink-400 to-rose-500",description:"Managing emotions, stress, and sensory overwhelm",targetCondition:"both"},{id:"social",name:"Social Skills",icon:"",color:"from-purple-400 to-indigo-500",description:"Navigating social situations and communication",targetCondition:"autism"},{id:"sensory",name:"Sensory Management",icon:"",color:"from-yellow-400 to-orange-500",description:"Dealing with sensory sensitivities and preferences",targetCondition:"autism"},{id:"productivity",name:"Productivity Hacks",icon:"",color:"from-red-400 to-pink-500",description:"Time management and productivity strategies",targetCondition:"adhd"}],lu=[{id:"pomodoro-basic",title:"The Pomodoro Technique",content:`Break your work into 25-minute focused sessions followed by 5-minute breaks. This technique works especially well for ADHD brains because:

 It provides structure and clear time boundaries
 Makes large tasks feel less overwhelming
 Builds in regular dopamine hits from completing sessions
 The timer creates external accountability

Start with just one or two sessions per day and gradually increase as it becomes habit.`,category:wt[0],difficulty:"beginner",timeToRead:2,isPremium:!1,tags:["time-management","focus","pomodoro"],helpful:42,hasAudio:!0},{id:"fidget-tools",title:"Fidget Tools for Focus",content:`Fidgeting isn't distraction - it's regulation! Having something to do with your hands can actually improve focus for many neurodivergent people.

Great fidget options:
 Stress balls or fidget cubes
 Thinking putty or slime
 Spinner rings or worry stones
 Textured fabric squares
 Pop-it toys (yes, even for adults!)

Keep them handy during meetings, calls, or study sessions.`,category:wt[0],difficulty:"beginner",timeToRead:1,isPremium:!1,tags:["fidgeting","sensory","focus"],helpful:38,hasAudio:!0},{id:"body-doubling",title:"Body Doubling Magic",content:`"Body doubling" means working alongside someone else, even if you're doing different tasks. This creates accountability and mimics the external structure many ADHD brains need.

Try:
 Virtual coworking sessions online
 Study sessions with friends (even virtually)
 Working at cafs or libraries
 Setting up "parallel play" work dates

The presence of others helps maintain focus and momentum.`,category:wt[5],difficulty:"beginner",timeToRead:2,isPremium:!1,tags:["accountability","productivity","social"],helpful:31,hasAudio:!0},{id:"sensory-breaks",title:"Sensory Reset Breaks",content:`When feeling overwhelmed, take a 5-minute sensory break:

 Step outside for fresh air and different lighting
 Listen to calming music with headphones
 Do some gentle stretching or movement
 Hold something with a pleasant texture
 Practice deep breathing exercises

Regular sensory breaks prevent overwhelm and meltdowns.`,category:wt[2],difficulty:"beginner",timeToRead:1,isPremium:!1,tags:["sensory","breaks","self-care"],helpful:29,hasAudio:!0},{id:"dopamine-menu",title:"Create a Dopamine Menu",content:`Make a "menu" of activities that give you dopamine hits, organized by how much time/energy they take:

**Appetizers** (0-5 min):
 Listen to favorite song
 Watch funny videos
 Text a friend
 Pet an animal

**Main Courses** (30-60 min):
 Exercise or dance
 Creative projects
 Video games
 Call a loved one

Keep this list handy for motivation slumps!`,category:wt[2],difficulty:"beginner",timeToRead:2,isPremium:!1,tags:["dopamine","motivation","self-care"],helpful:47,hasAudio:!0},{id:"executive-function-toolkit",title:"Executive Function Toolkit",content:`Executive function challenges are common in ADHD and autism. Build your toolkit with these strategies:

**Planning & Organization:**
 Use visual calendars and color-coding
 Break projects into tiny, specific steps
 Set multiple alarms and reminders
 Create "launch pads" near doors with essentials

**Working Memory Support:**
 Write everything down immediately
 Use voice memos for ideas on-the-go
 Create visual reminders and sticky notes
 Practice the "one-minute rule" - if it takes less than a minute, do it now

**Emotional Regulation:**
 Develop a feelings vocabulary
 Use mood tracking apps
 Practice the STOP technique (Stop, Take a breath, Observe, Proceed)
 Create a self-soothing kit

**Advanced Strategies:**
 Time-blocking for deep work
 Energy management over time management
 Creating "good enough" standards
 Building in buffer time for transitions

Remember: these are skills to be learned, not character flaws to be fixed!`,category:wt[1],difficulty:"intermediate",timeToRead:8,isPremium:!0,tags:["executive-function","planning","organization","comprehensive"],helpful:73,hasAudio:!0},{id:"masking-recovery",title:"Masking and Recovery Strategies",content:`Masking (hiding autistic traits) is exhausting and can lead to burnout. Here's how to recognize and recover:

**Signs You're Masking:**
 Extreme fatigue after social situations
 Feeling like you're "performing" constantly
 Suppressing stims or natural behaviors
 Copying others' social behaviors
 Feeling disconnected from your authentic self

**Recovery Strategies:**
 Schedule unmasking time daily
 Create safe spaces where you can be yourself
 Practice saying no to social demands
 Allow yourself to stim freely
 Reconnect with your interests and passions

**Gradual Unmasking:**
 Start with trusted people or online communities
 Practice one authentic behavior at a time
 Set boundaries around social expectations
 Remember: you don't owe anyone "normal"

**Building Authentic Connections:**
 Seek out neurodivergent-friendly spaces
 Share your needs and preferences openly
 Find people who appreciate your authentic self
 Practice self-compassion during the process

Recovery from masking is a journey, not a destination. Be patient with yourself.`,category:wt[2],difficulty:"advanced",timeToRead:10,isPremium:!0,tags:["autism","masking","authenticity","recovery","burnout"],helpful:89,hasAudio:!0},{id:"adhd-hyperfocus-management",title:"Hyperfocus: Blessing and Curse",content:`Hyperfocus can be incredibly productive but also problematic. Learn to work with it:

**Harnessing Hyperfocus:**
 Notice your hyperfocus triggers and patterns
 Prepare your environment before entering hyperfocus
 Set up food, water, and bathroom reminders
 Use timers to break for basic needs
 Choose your hyperfocus targets strategically

**Managing Hyperfocus Downsides:**
 Set multiple alarms for important appointments
 Use the "hyperfocus prep ritual":
  - Use bathroom
  - Get snacks and water
  - Set 2-hour maximum timer
  - Tell someone what you're doing

**Post-Hyperfocus Recovery:**
 Expect some mental fatigue
 Plan easier tasks for after intense focus
 Don't judge yourself for the "crash"
 Use this time for rest and gentle activities

**When Hyperfocus Becomes Problematic:**
 Missing meals, sleep, or social obligations
 Neglecting important responsibilities
 Physical discomfort from not moving
 Anxiety when interrupted

Remember: hyperfocus is a superpower when managed well, but it needs boundaries to be sustainable.`,category:wt[0],difficulty:"advanced",timeToRead:7,isPremium:!0,tags:["adhd","hyperfocus","productivity","management"],helpful:65,hasAudio:!0},{id:"stimming-guide",title:"Stimming: Your Natural Regulation Tool",content:`Stimming (self-stimulatory behavior) is natural and helpful for regulation. Here's how to embrace it:

**Types of Stimming:**
 Movement: hand flapping, rocking, bouncing
 Tactile: rubbing textures, squishing objects
 Visual: watching repetitive motions, lights
 Auditory: humming, verbal repetition
 Vestibular: spinning, swinging

**Benefits of Stimming:**
 Reduces anxiety and stress
 Helps process emotions
 Improves focus and concentration
 Provides sensory regulation
 Expresses joy and excitement

**Workplace-Friendly Stims:**
 Fidget jewelry (spinner rings, textured bracelets)
 Silent foot bouncing under desk
 Stress balls or thinking putty
 Clicking pens (if others don't mind)
 Doodling or drawing patterns

**Creating Stim-Friendly Spaces:**
 Designate areas where all stims are welcome
 Keep stim toys accessible
 Normalize stimming in your social circles
 Educate others about why stimming helps

**When Others Don't Understand:**
 Explain that stimming helps you function better
 Offer alternatives if your stims are disruptive
 Stand firm on your right to regulate your nervous system
 Find stimming buddies who understand

Your stims are valid and necessary - don't let anyone make you feel ashamed of your natural regulation methods!`,category:wt[4],difficulty:"intermediate",timeToRead:6,isPremium:!0,tags:["autism","stimming","regulation","sensory","acceptance"],helpful:78,hasAudio:!0}],rm=()=>lu.filter(e=>!e.isPremium),sm=()=>lu.filter(e=>e.isPremium),En=class En{constructor(){Q(this,"checkedVoices",new Map);Q(this,"loadingPromise",null)}static getInstance(){return En.instance||(En.instance=new En),En.instance}async ensureVoicesLoaded(){return this.loadingPromise?this.loadingPromise:(this.loadingPromise=new Promise(t=>{const n=window.speechSynthesis;if(n.getVoices().length>0){t();return}const r=()=>{n.getVoices().length>0&&(n.removeEventListener("voiceschanged",r),t())};n.addEventListener("voiceschanged",r),setTimeout(()=>{n.removeEventListener("voiceschanged",r),t()},3e3)}),this.loadingPromise)}async testVoiceAvailability(t){const n=`${t.id}_${t.voiceURI}`;if(this.checkedVoices.has(n))return this.checkedVoices.get(n);try{if(await this.ensureVoicesLoaded(),window.speechSynthesis.getVoices().find(a=>a.voiceURI===t.voiceURI||a.name===t.name)&&!t.isPremium)return this.checkedVoices.set(n,!0),!0;if(t.isPremium){const a=await this.checkPremiumVoiceAPI(t);return this.checkedVoices.set(n,a),a}return this.checkedVoices.set(n,!1),!1}catch(r){return console.error("Voice availability test failed:",r),this.checkedVoices.set(n,!1),!1}}async checkPremiumVoiceAPI(t){return t.name.includes("Premium")||t.name.includes("Neural")}};Q(En,"instance");let Ol=En;class CN{constructor(){Q(this,"synthesis");Q(this,"voices",[]);Q(this,"isInitialized",!1);Q(this,"voiceChecker");Q(this,"currentUtterance",null);Q(this,"fallbackVoices");this.synthesis=window.speechSynthesis,this.voiceChecker=Ol.getInstance(),this.fallbackVoices=this.createFallbackVoices(),this.loadVoices()}createFallbackVoices(){return[{id:"fallback-default",name:"System Default",language:"en-US",gender:"neutral",isPremium:!1,voiceURI:"default",isAvailable:!0},{id:"fallback-female",name:"System Female",language:"en-US",gender:"female",isPremium:!1,voiceURI:"female",isAvailable:!0}]}async loadVoices(){try{await this.voiceChecker.ensureVoicesLoaded(),this.voices=this.synthesis.getVoices(),this.isInitialized=!0}catch(t){console.error("Failed to load voices:",t),this.isInitialized=!1}}async getAvailableVoices(){if(await this.loadVoices(),!this.isInitialized||this.voices.length===0)return[...this.getDefaultVoices(),...this.fallbackVoices];const t=await Promise.all(this.voices.map(async(r,s)=>({id:`voice-${s}`,name:r.name,language:r.lang,gender:this.inferGender(r.name),accent:this.inferAccent(r.name,r.lang),isPremium:this.isPremiumVoice(r.name),voiceURI:r.voiceURI,isAvailable:!0}))),n=await Promise.all(this.getDefaultVoices().map(async r=>{const s=await this.voiceChecker.testVoiceAvailability(r);return{...r,isAvailable:s}}));return[...t,...n,...this.fallbackVoices]}getDefaultVoices(){return[{id:"default-female",name:"Natural Female Voice",language:"en-US",gender:"female",isPremium:!1,voiceURI:"default",isAvailable:!0},{id:"default-male",name:"Natural Male Voice",language:"en-US",gender:"male",isPremium:!1,voiceURI:"default",isAvailable:!0},{id:"premium-neural-female-1",name:"Aria - Neural Female",language:"en-US",gender:"female",accent:"American",isPremium:!0,voiceURI:"neural-aria",provider:"Azure Cognitive Services",isAvailable:!1},{id:"premium-neural-male-1",name:"Davis - Neural Male",language:"en-US",gender:"male",accent:"American",isPremium:!0,voiceURI:"neural-davis",provider:"Azure Cognitive Services",isAvailable:!1},{id:"premium-wavenet-female-1",name:"Wavenet Female A",language:"en-US",gender:"female",accent:"American",isPremium:!0,voiceURI:"wavenet-female-a",provider:"Google Cloud TTS",isAvailable:!1},{id:"premium-wavenet-male-1",name:"Wavenet Male B",language:"en-US",gender:"male",accent:"American",isPremium:!0,voiceURI:"wavenet-male-b",provider:"Google Cloud TTS",isAvailable:!1},{id:"premium-british-female",name:"Emma - British Neural",language:"en-GB",gender:"female",accent:"British",isPremium:!0,voiceURI:"neural-emma",provider:"Azure Cognitive Services",isAvailable:!1},{id:"premium-british-male",name:"Ryan - British Neural",language:"en-GB",gender:"male",accent:"British",isPremium:!0,voiceURI:"neural-ryan",provider:"Azure Cognitive Services",isAvailable:!1}]}inferGender(t){const n=["female","woman","girl","zira","hazel","susan","karen","samantha","sara","emma","sophie"],r=["male","man","boy","david","mark","daniel","alex","tom","james"],s=t.toLowerCase();return n.some(i=>s.includes(i))?"female":r.some(i=>s.includes(i))?"male":"neutral"}inferAccent(t,n){if(n.includes("en-GB")||t.toLowerCase().includes("british"))return"British";if(n.includes("en-AU")||t.toLowerCase().includes("australian"))return"Australian";if(n.includes("en-CA")||t.toLowerCase().includes("canadian"))return"Canadian";if(n.includes("en-IN")||t.toLowerCase().includes("indian"))return"Indian";if(n.includes("en-US"))return"American"}isPremiumVoice(t){return["premium","neural","wavenet","enhanced","natural"].some(r=>t.toLowerCase().includes(r))}async speak(t,n,r,s,i){return new Promise(async(a,l)=>{try{this.stop();const c=await this.voiceChecker.testVoiceAvailability(n.voice);if(n.voice.isPremium&&c){await this.speakWithPremiumService(t,n,r,s,i),a();return}else if(n.voice.isPremium&&!c){console.warn("Premium voice unavailable, falling back to enhanced system voice"),await this.speakWithEnhancedVoice(t,n,r,s,i),a();return}await this.speakWithSystemVoice(t,n,r,s,i),a()}catch(c){const u=`TTS Error: ${c instanceof Error?c.message:"Unknown error"}`;i==null||i(u),l(new Error(u))}})}async speakWithEnhancedVoice(t,n,r,s,i){try{r==null||r();const a=this.preprocessTextForNaturalSpeech(t),l=this.splitTextIntoChunks(a);for(let c=0;c<l.length;c++){const u=l[c],f=c===l.length-1;await new Promise((d,m)=>{const y=new SpeechSynthesisUtterance(u);y.rate=n.rate*.95,y.pitch=n.pitch,y.volume=n.volume;const v=this.selectBestAvailableVoice(n.voice);v&&(y.voice=v),y.onend=()=>{f&&(s==null||s()),d()},y.onerror=w=>{i==null||i(`Enhanced speech error: ${w.error}`),m(new Error(w.error))},this.synthesis.speak(y)}),f||await new Promise(d=>setTimeout(d,150))}}catch(a){console.error("Enhanced voice processing failed:",a),await this.speakWithSystemVoice(t,n,r,s,i)}}stop(){this.synthesis.cancel(),this.currentUtterance=null}pause(){this.synthesis.pause()}resume(){this.synthesis.resume()}isSpeaking(){return this.synthesis.speaking||this.currentUtterance!==null}isPaused(){return this.synthesis.paused}}const kn=new CN,co={voice:{id:"default-female",name:"Natural Female Voice",language:"en-US",gender:"female",isPremium:!1,voiceURI:"default",isAvailable:!0},rate:1,pitch:1,volume:.8},im=()=>o.jsx("span",{children:""}),TN=()=>o.jsx("span",{children:""}),EN=()=>o.jsx("span",{children:""}),AN=()=>o.jsx("span",{children:""}),MN=()=>o.jsx("span",{children:""}),DN=()=>o.jsx("span",{children:""}),LN=({text:e,title:t,isPremium:n=!1,showSettings:r=!0,className:s=""})=>{const[i,a]=b.useState(!1),[l,c]=b.useState(!1),[u,f]=b.useState(!1),[d,m]=b.useState({...co,voice:n?{id:"premium-female-1",name:"Sarah - Premium Female",language:"en-US",gender:"female",accent:"American",isPremium:!0,voiceURI:"premium-sarah"}:co.voice}),[y,v]=b.useState([]),[w,j]=b.useState(!0),g=b.useRef(null),p=async()=>{if(l){kn.resume(),c(!1),a(!0);return}if(i){kn.pause(),c(!0),a(!1);return}if(d.voice.isPremium&&!n){alert(" Premium voices are available in the full version! Upgrade to access high-quality TTS voices.");return}try{a(!0),c(!1),g.current=kn.speak(e,d,()=>{console.log("TTS started")},()=>{a(!1),c(!1),g.current=null},P=>{console.error("TTS error:",P),a(!1),c(!1),alert(" Text-to-speech error. Please try again.")}),await g.current}catch(P){console.error("TTS playback failed:",P),a(!1),c(!1)}},h=()=>{kn.stop(),a(!1),c(!1),g.current=null},x=(P,A)=>{m(N=>({...N,[P]:A}))},k=P=>{let A=P.name;return P.isPremium&&!n&&(A+=" (Premium)"),P.provider&&(A+=`  ${P.provider}`),P.isAvailable===!1&&(A+=" (Unavailable)"),A};return o.jsxs("div",{className:`bg-white rounded-lg shadow-sm border p-4 ${s}`,children:[t&&o.jsxs("h4",{className:"font-medium text-gray-800 mb-3 flex items-center gap-2",children:[o.jsx(DN,{})," ",t]}),o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(R.button,{onClick:p,disabled:!e.trim(),className:`flex items-center justify-center w-12 h-12 rounded-full transition-all ${i?"bg-orange-100 text-orange-600 hover:bg-orange-200":"bg-blue-100 text-blue-600 hover:bg-blue-200"} disabled:opacity-50 disabled:cursor-not-allowed`,whileHover:{scale:1.05},whileTap:{scale:.95},children:i?l?o.jsx(im,{}):o.jsx(TN,{}):o.jsx(im,{})}),o.jsx(R.button,{onClick:h,disabled:!i&&!l,className:"flex items-center justify-center w-10 h-10 rounded-full bg-red-100 text-red-600 hover:bg-red-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsx(EN,{})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:["Voice: ",o.jsx("span",{className:"font-medium",children:k(d.voice)})]}),o.jsxs("div",{className:"text-xs text-gray-500",children:[d.rate,"x speed  ",Math.round(d.volume*100),"% volume"]})]}),r&&o.jsx(R.button,{onClick:()=>f(!u),className:"p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsx(MN,{})})]}),r&&u&&o.jsxs(R.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t pt-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Voice"}),o.jsx("select",{value:d.voice.id,onChange:P=>{const A=y.find(N=>N.id===P.target.value);A&&x("voice",A)},disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50",children:w?o.jsx("option",{children:"Loading voices..."}):y.map(P=>o.jsx("option",{value:P.id,disabled:P.isPremium&&!n||P.isAvailable===!1,children:k(P)},P.id))})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Speed: ",d.rate.toFixed(1),"x"]}),o.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:d.rate,onChange:P=>x("rate",parseFloat(P.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Volume: ",Math.round(d.volume*100),"%"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-gray-400",children:""}),o.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:d.volume,onChange:P=>x("volume",parseFloat(P.target.value)),className:"flex-1"}),o.jsx(AN,{})]})]}),o.jsx("button",{onClick:()=>{const P="Hello! This is a test of your selected voice settings. The quick brown fox jumps over the lazy dog.";kn.speak(P,d).catch(A=>{alert(`Voice test failed: ${A.message}`)})},disabled:w||!d.voice.isAvailable,className:"w-full py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:w?" Loading...":" Test Voice Settings"})]}),!n&&o.jsx("div",{className:"mt-4 p-3 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[o.jsx("span",{children:""}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:"Unlock Premium Voices"}),o.jsx("div",{className:"text-xs",children:"Get access to high-quality neural voices!"})]})]})})]})},RN=()=>o.jsx("span",{children:""}),VN=()=>o.jsx("span",{children:""}),IN=()=>o.jsx("span",{children:""}),FN=()=>o.jsx("span",{children:""}),UN=()=>o.jsx("span",{children:""}),ON=({appState:e,onUpdateState:t})=>{const[n,r]=b.useState("all"),[s,i]=b.useState(""),[a,l]=b.useState(new Set),[c,u]=b.useState(new Set),d=(e.user.subscription.isPremium?lu:rm()).filter(g=>{const p=n==="all"||g.category.id===n,h=g.title.toLowerCase().includes(s.toLowerCase())||g.content.toLowerCase().includes(s.toLowerCase())||g.tags.some(x=>x.toLowerCase().includes(s.toLowerCase()));return p&&h}),m=g=>{l(p=>{const h=new Set(p);return h.has(g)?h.delete(g):h.add(g),h})},y=g=>{u(p=>{const h=new Set(p);return h.has(g)?h.delete(g):h.add(g),h})},v=g=>{switch(g){case"beginner":return"bg-green-100 text-green-800";case"intermediate":return"bg-yellow-100 text-yellow-800";case"advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=g=>{switch(g){case"beginner":return"";case"intermediate":return"";case"advanced":return"";default:return""}},j=g=>g.split(`
`).filter(h=>h.trim()).map((h,x)=>{if(/^[\d\-\*]/.test(h.trim())||h.includes(":")){const k=h.split(":");if(k.length>1)return o.jsxs("p",{className:"mb-2",children:[o.jsxs("strong",{className:"text-purple-700",children:[k[0],":"]}),o.jsx("span",{className:"ml-1",children:k.slice(1).join(":")})]},x)}return o.jsx("p",{className:"mb-2",children:h},x)});return o.jsx("div",{className:"min-h-screen bg-app p-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs(R.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:" Evidence-Based Life Hacks"}),o.jsx("p",{className:"text-secondary",children:e.user.subscription.isPremium?"Complete guide with research-backed strategies and premium features":`${rm().length} essential tips available - unlock ${sm().length} more with premium!`})]}),!e.user.subscription.isPremium&&o.jsx(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"card bg-gradient-to-r from-purple-400 to-pink-500 text-white mb-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg mb-1",children:" Unlock Advanced Strategies"}),o.jsxs("p",{className:"text-sm opacity-90",children:["Get access to ",sm().length," evidence-based tips, interactive guides, premium TTS voices, and comprehensive ADHD/Autism strategies!"]})]}),o.jsx("button",{className:"btn-secondary bg-white text-purple-600 hover:bg-gray-100",children:"Upgrade Now"})]})}),o.jsxs("div",{className:"card mb-6",children:[o.jsx("div",{className:"flex flex-wrap items-center gap-4",children:o.jsx("div",{className:"flex-1 min-w-64",children:o.jsx("input",{type:"text",value:s,onChange:g=>i(g.target.value),className:"w-full px-4 py-2 border border-themed rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Search evidence-based tips..."})})}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[o.jsx("button",{onClick:()=>r("all"),className:`px-4 py-2 rounded-full font-medium transition-colors ${n==="all"?"bg-purple-500 text-white":"bg-white text-gray-700 hover:bg-purple-50"}`,children:" All Categories"}),wt.map(g=>o.jsxs("button",{onClick:()=>r(g.id),className:`px-4 py-2 rounded-full font-medium transition-colors ${n===g.id?"bg-purple-500 text-white":"bg-white text-gray-700 hover:bg-purple-50"}`,children:[g.icon," ",g.name]},g.id))]})]}),o.jsx("div",{className:"space-y-6",children:d.map((g,p)=>{const h=a.has(g.id),x=c.has(g.id);return o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"card hover:shadow-xl transition-all duration-300",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("span",{className:"text-2xl",children:g.category.icon}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-primary",children:g.title}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(g.difficulty)}`,children:[w(g.difficulty)," ",g.difficulty]}),o.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-1",children:[o.jsx(IN,{})," ",g.timeToRead," min read"]}),g.isPremium&&o.jsx("span",{className:"px-2 py-1 bg-gradient-to-r from-gold-400 to-yellow-500 text-white rounded-full text-xs font-medium",children:" Premium"})]})]})]})}),o.jsx("button",{onClick:()=>m(g.id),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:h?o.jsx(UN,{}):o.jsx(FN,{})})]}),o.jsx("div",{className:"text-gray-700 mb-4",children:h?o.jsx("div",{children:j(g.content)}):o.jsxs("p",{children:[g.content.slice(0,200),"..."]})}),h&&g.hasAudio&&o.jsx("div",{className:"mb-4",children:o.jsx(LN,{text:`${g.title}. ${g.content}`,title:"Listen to this tip",isPremium:e.user.subscription.isPremium,showSettings:!1,className:"bg-blue-50"})}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:g.tags.map(k=>o.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:["#",k]},k))}),o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[o.jsxs("button",{onClick:()=>y(g.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${x?"bg-pink-100 text-pink-600":"bg-gray-100 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`,children:[x?o.jsx(VN,{}):o.jsx(RN,{}),x?"Helpful!":"Mark as helpful"]}),o.jsxs("div",{className:"text-sm text-gray-500",children:[g.helpful||0," people found this helpful"]})]})]},g.id)})}),d.length===0&&o.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No tips found"}),o.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or category filter"})]})]})})},BN=()=>o.jsx("span",{children:""}),om=()=>o.jsx("span",{children:""}),_N=()=>o.jsx("span",{children:""}),zN=()=>o.jsx("span",{children:""}),$N=()=>o.jsx("span",{children:""}),HN=()=>o.jsx("span",{children:""}),WN=()=>o.jsx("span",{children:""}),GN=()=>o.jsx("span",{children:""}),QN=()=>o.jsx("span",{children:""}),KN=()=>o.jsx("span",{children:""}),am=()=>o.jsx("span",{children:""}),qN=()=>o.jsx("span",{children:""}),YN=({appState:e,onUpdateState:t})=>{const{theme:n,setThemeMode:r,toggleAnimations:s,availableModes:i}=Fv(),[a,l]=b.useState(e.user.preferences),[c,u]=b.useState(co),[f,d]=b.useState([]),[m,y]=b.useState(!1);b.useState(!0);const v=(h,x)=>{l(k=>({...k,[h]:x})),y(!0),h==="theme"&&r(x),h==="animationsEnabled"&&n.animations.enabled!==x&&s()},w=(h,x)=>{u(k=>({...k,[h]:x})),y(!0)},j=()=>{const h={...e.user,preferences:a};t({user:h}),localStorage.setItem("neuroflow-tts-settings",JSON.stringify(c)),y(!1),setTimeout(()=>{alert(" Settings saved successfully!")},300)},g=()=>{confirm("Are you sure you want to reset all settings to default values?")&&(l({theme:"light",soundEnabled:!0,animationsEnabled:!0,notificationsEnabled:!0,difficultyLevel:"medium",focusSessionLength:25,breakLength:5}),u(co),y(!0))},p=async()=>{if(c.voice.isPremium&&!e.user.subscription.isPremium){alert(" Premium voices are available in the full version! Upgrade to access high-quality TTS voices.");return}try{await kn.speak("Hello! This is a test of your selected voice settings. How does this sound to you?",c)}catch{alert(" Voice test failed. Please check your browser settings.")}};return o.jsx("div",{className:"min-h-screen bg-app p-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs(R.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[o.jsxs("h1",{className:"text-4xl font-bold text-primary mb-2",children:[o.jsx(BN,{})," Settings"]}),o.jsx("p",{className:"text-secondary",children:"Customize your NeuroFlow experience"})]}),m&&o.jsx(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"card bg-yellow-50 border-yellow-200 mb-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-yellow-600",children:""}),o.jsx("span",{className:"text-yellow-800 font-medium",children:"You have unsaved changes"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:j,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm",children:[o.jsx(am,{})," Save Changes"]}),o.jsx("button",{onClick:()=>{l(e.user.preferences),y(!1)},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:"Cancel"})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"card",children:[o.jsxs("h2",{className:"text-xl font-bold text-primary mb-4 flex items-center gap-2",children:[o.jsx(zN,{})," Theme & Appearance"]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-secondary mb-2",children:"Color Theme"}),o.jsx("div",{className:"grid grid-cols-3 gap-3",children:["light","dark","colorful"].map(h=>o.jsxs("button",{onClick:()=>v("theme",h),className:`p-3 rounded-lg border-2 transition-all text-center ${a.theme===h?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("div",{className:"text-2xl mb-1",children:h==="light"?o.jsx(KN,{}):h==="dark"?o.jsx(QN,{}):""}),o.jsx("div",{className:"text-sm font-medium capitalize",children:h})]},h))})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-secondary",children:"Enable Animations"}),o.jsx("button",{onClick:()=>v("animationsEnabled",!a.animationsEnabled),className:`p-2 rounded-lg transition-colors ${a.animationsEnabled?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"}`,children:a.animationsEnabled?o.jsx(WN,{}):o.jsx(GN,{})})]}),o.jsx("p",{className:"text-xs text-muted mt-1",children:"Smooth transitions and motion effects"})]})]}),o.jsxs(R.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"card",children:[o.jsxs("h2",{className:"text-xl font-bold text-primary mb-4 flex items-center gap-2",children:[o.jsx(om,{})," Audio & Sound"]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("label",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-secondary",children:"Enable Sound Effects"}),o.jsx("button",{onClick:()=>v("soundEnabled",!a.soundEnabled),className:`p-2 rounded-lg transition-colors ${a.soundEnabled?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"}`,children:a.soundEnabled?o.jsx(om,{}):o.jsx(_N,{})})]}),o.jsx("p",{className:"text-xs text-muted",children:"Achievement notifications and ambient sounds"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-secondary",children:"Push Notifications"}),o.jsx("button",{onClick:()=>v("notificationsEnabled",!a.notificationsEnabled),className:`p-2 rounded-lg transition-colors ${a.notificationsEnabled?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"}`,children:a.notificationsEnabled?o.jsx($N,{}):o.jsx(HN,{})})]}),o.jsx("p",{className:"text-xs text-muted mt-1",children:"Reminders and achievement notifications"})]})]}),o.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"card",children:[o.jsx("h2",{className:"text-xl font-bold text-primary mb-4 flex items-center gap-2",children:" Focus & Productivity"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-secondary mb-2",children:"Difficulty Level"}),o.jsxs("select",{value:a.difficultyLevel,onChange:h=>v("difficultyLevel",h.target.value),className:"w-full px-3 py-2 border border-themed rounded-lg focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"easy",children:" Easy - Gentle challenges"}),o.jsx("option",{value:"medium",children:" Medium - Balanced approach"}),o.jsx("option",{value:"hard",children:" Hard - Maximum challenge"})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-sm font-medium text-secondary mb-2",children:["Focus Session Length: ",a.focusSessionLength," minutes"]}),o.jsx("input",{type:"range",min:"15",max:"60",step:"5",value:a.focusSessionLength,onChange:h=>v("focusSessionLength",parseInt(h.target.value)),className:"w-full"}),o.jsxs("div",{className:"flex justify-between text-xs text-muted mt-1",children:[o.jsx("span",{children:"15 min"}),o.jsx("span",{children:"60 min"})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-sm font-medium text-secondary mb-2",children:["Break Length: ",a.breakLength," minutes"]}),o.jsx("input",{type:"range",min:"3",max:"15",step:"1",value:a.breakLength,onChange:h=>v("breakLength",parseInt(h.target.value)),className:"w-full"}),o.jsxs("div",{className:"flex justify-between text-xs text-muted mt-1",children:[o.jsx("span",{children:"3 min"}),o.jsx("span",{children:"15 min"})]})]})]}),o.jsxs(R.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},className:"card",children:[o.jsx("h2",{className:"text-xl font-bold text-primary mb-4 flex items-center gap-2",children:" Text-to-Speech"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-secondary mb-2",children:"Voice"}),o.jsx("select",{value:c.voice.id,onChange:h=>{const x=f.find(k=>k.id===h.target.value);x&&w("voice",x)},className:"w-full px-3 py-2 border border-themed rounded-lg focus:ring-2 focus:ring-blue-500",children:f.map(h=>o.jsxs("option",{value:h.id,children:[h.name," ",h.isPremium&&!e.user.subscription.isPremium?"(Premium)":""]},h.id))})]}),o.jsxs("div",{className:"space-y-4 mb-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-secondary mb-1",children:["Speed: ",c.rate.toFixed(1),"x"]}),o.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:c.rate,onChange:h=>w("rate",parseFloat(h.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-secondary mb-1",children:["Pitch: ",c.pitch.toFixed(1)]}),o.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:c.pitch,onChange:h=>w("pitch",parseFloat(h.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-secondary mb-1",children:["Volume: ",Math.round(c.volume*100),"%"]}),o.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:c.volume,onChange:h=>w("volume",parseFloat(h.target.value)),className:"w-full"})]})]}),o.jsx("button",{onClick:p,className:"w-full px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:" Test Voice"})]})]}),o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex gap-4 mt-8 justify-center",children:[o.jsxs("button",{onClick:j,disabled:!m,className:"px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:[o.jsx(am,{})," Save All Settings"]}),o.jsxs("button",{onClick:g,className:"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium",children:[o.jsx(qN,{})," Reset to Defaults"]})]}),!e.user.subscription.isPremium&&o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card bg-gradient-to-r from-purple-400 to-pink-500 text-white mt-8 text-center",children:[o.jsx("h3",{className:"font-bold text-lg mb-2",children:" Unlock Premium Settings"}),o.jsx("p",{className:"text-sm opacity-90 mb-4",children:"Get access to premium TTS voices, advanced customization options, and personalized settings profiles!"}),o.jsx("button",{className:"btn-secondary bg-white text-purple-600 hover:bg-gray-100",children:"Upgrade to Premium"})]})]})})},An=class An{constructor(){Q(this,"chapters",new Map);Q(this,"categories",[]);Q(this,"userProgress",new Map);Q(this,"currentChapter",null);Q(this,"isInitialized",!1);this.initializeContent()}static getInstance(){return An.instance||(An.instance=new An),An.instance}async initializeContent(){try{this.categories=this.getDefaultCategories(),(await this.getDefaultChapters()).forEach(n=>{this.chapters.set(n.id,n)}),this.loadUserProgress(),this.isInitialized=!0}catch(t){console.error("Failed to initialize guidebook content:",t),this.isInitialized=!0}}getDefaultCategories(){return[{id:"adhd-basics",name:"ADHD Fundamentals",description:"Understanding ADHD and building foundational strategies",icon:"",color:"from-blue-400 to-cyan-500",chapters:["adhd-understanding","self-awareness","daily-routines"],isPremium:!1},{id:"focus-productivity",name:"Focus & Productivity",description:"Techniques for improving concentration and getting things done",icon:"",color:"from-green-400 to-emerald-500",chapters:["focus-techniques","time-management","task-prioritization"],isPremium:!1},{id:"emotional-regulation",name:"Emotional Wellness",description:"Managing emotions, stress, and building resilience",icon:"",color:"from-pink-400 to-rose-500",chapters:["emotional-awareness","stress-management","mindfulness"],isPremium:!0},{id:"social-skills",name:"Social & Communication",description:"Improving relationships and communication skills",icon:"",color:"from-purple-400 to-indigo-500",chapters:["communication","relationships","workplace-skills"],isPremium:!0},{id:"advanced-strategies",name:"Advanced Techniques",description:"Sophisticated approaches for long-term success",icon:"",color:"from-yellow-400 to-orange-500",chapters:["habit-formation","goal-achievement","life-optimization"],isPremium:!0}]}async getDefaultChapters(){return[{id:"adhd-understanding",title:"Understanding ADHD",description:"Learn about ADHD brain differences and how they affect daily life",estimatedReadTime:15,difficulty:"beginner",tags:["adhd","neuroscience","basics"],isPremium:!1,content:[{id:"intro",type:"text",title:"What is ADHD?",content:`ADHD (Attention Deficit Hyperactivity Disorder) is a neurodevelopmental condition that affects how the brain processes information and regulates attention, hyperactivity, and impulsivity.

Contrary to common misconceptions, ADHD is not about lacking intelligence or being lazy. It's about having a brain that works differently, with unique strengths and challenges.`,metadata:{ttsEnabled:!0}},{id:"brain-differences",type:"interactive",title:"ADHD Brain Differences",content:{type:"checklist",data:{title:"Common ADHD Traits - Check what applies to you:",items:["Difficulty focusing on boring tasks","Hyperfocus on interesting activities","Challenges with time management","Creative problem-solving abilities","High energy and enthusiasm","Difficulty with organization","Strong empathy and emotional sensitivity","Innovative thinking patterns"]},interactions:[{id:"self-assessment",type:"checkbox",label:"Select traits that apply to you",action:"save-assessment"}]}},{id:"strength-focus",type:"text",title:"ADHD Strengths",content:`People with ADHD often possess remarkable strengths:

 **Creativity**: Unique perspectives and innovative solutions
 **Hyperfocus**: Intense concentration on engaging tasks
 **Resilience**: Adaptability developed through overcoming challenges
 **Empathy**: Deep emotional understanding of others
 **Energy**: High enthusiasm for meaningful projects`,metadata:{ttsEnabled:!0,imageUrl:"adhd-strengths.jpg"}}]},{id:"focus-techniques",title:"Focus Enhancement Techniques",description:"Practical strategies to improve concentration and attention",estimatedReadTime:20,difficulty:"beginner",tags:["focus","concentration","techniques"],isPremium:!1,prerequisiteChapters:["adhd-understanding"],content:[{id:"pomodoro-intro",type:"text",title:"The Pomodoro Technique",content:`The Pomodoro Technique is particularly effective for ADHD brains because it works with natural attention cycles rather than against them.

The basic principle: Work for 25 minutes, then take a 5-minute break. After 4 cycles, take a longer 15-30 minute break.`,metadata:{ttsEnabled:!0}},{id:"pomodoro-practice",type:"interactive",title:"Try a Pomodoro Session",content:{type:"breathing-exercise",data:{title:"Focus Preparation Exercise",duration:120,instructions:["Find a comfortable position","Close your eyes or soften your gaze","Take deep breaths to center yourself","Set intention for focused work","Begin your Pomodoro session"]},interactions:[{id:"timer",type:"timer",label:"Start Focus Timer",action:"start-pomodoro"}]}}]},{id:"emotional-awareness",title:"Emotional Awareness & Regulation",description:"Understanding and managing emotional intensity",estimatedReadTime:25,difficulty:"intermediate",tags:["emotions","regulation","mindfulness"],isPremium:!0,content:[{id:"emotional-intensity",type:"text",title:"ADHD and Emotional Intensity",content:`ADHD often comes with heightened emotional sensitivity. This isn't a weakness - it's a sign of a deeply feeling, empathetic brain.

Emotional regulation challenges in ADHD include:
 Intense reactions to stimuli
 Difficulty "bouncing back" from setbacks
 Overwhelming feelings in social situations
 Rejection sensitive dysphoria (RSD)`,metadata:{ttsEnabled:!0,imageUrl:"emotional-brain.jpg"}},{id:"mood-tracker",type:"interactive",title:"Mood Check-In",content:{type:"mood-tracker",data:{title:"How are you feeling right now?",emotions:[{name:"Happy",emoji:"",color:"#22c55e"},{name:"Anxious",emoji:"",color:"#f59e0b"},{name:"Frustrated",emoji:"",color:"#ef4444"},{name:"Calm",emoji:"",color:"#3b82f6"},{name:"Excited",emoji:"",color:"#8b5cf6"},{name:"Overwhelmed",emoji:"",color:"#f97316"}]},interactions:[{id:"mood-select",type:"button",label:"Select your current mood",action:"log-mood"}]}}]}]}getCategories(t=!1){return this.categories.filter(n=>t||!n.isPremium)}getChaptersByCategory(t,n=!1){const r=this.categories.find(s=>s.id===t);return r?r.chapters.map(s=>this.chapters.get(s)).filter(s=>s!==void 0&&(n||!s.isPremium)):[]}getChapter(t){return this.chapters.get(t)||null}getUserProgress(t,n){const r=`${t}_${n}`;return this.userProgress.get(r)||null}updateProgress(t,n,r,s=0){const i=`${t}_${n}`,a=this.chapters.get(n);if(!a)return;let l=this.userProgress.get(i);l||(l={userId:t,chapterId:n,sectionsCompleted:[],totalSections:a.content.length,completionPercentage:0,lastAccessed:new Date,timeSpent:0,notes:[],bookmarks:[]}),l.sectionsCompleted.includes(r)||l.sectionsCompleted.push(r),l.completionPercentage=l.sectionsCompleted.length/l.totalSections*100,l.lastAccessed=new Date,l.timeSpent+=s,this.userProgress.set(i,l),this.saveUserProgress()}addBookmark(t,n,r){const s=`${t}_${n}`,i=this.userProgress.get(s);i&&!i.bookmarks.includes(r)&&(i.bookmarks.push(r),this.saveUserProgress())}addNote(t,n,r){const s=`${t}_${n}`,i=this.userProgress.get(s);i&&(i.notes.push(r),this.saveUserProgress())}searchChapters(t,n=!1){const r=t.toLowerCase();return Array.from(this.chapters.values()).filter(s=>{const i=s.title.toLowerCase().includes(r)||s.description.toLowerCase().includes(r)||s.tags.some(l=>l.toLowerCase().includes(r)),a=n||!s.isPremium;return i&&a})}getRecommendedChapters(t,n=!1){const s=Array.from(this.userProgress.values()).filter(a=>a.userId===t).filter(a=>a.completionPercentage>=80).map(a=>a.chapterId);return Array.from(this.chapters.values()).filter(a=>{const l=n||!a.isPremium,c=!s.includes(a.id),u=!a.prerequisiteChapters||a.prerequisiteChapters.every(f=>s.includes(f));return l&&c&&u}).sort((a,l)=>{const c={beginner:0,intermediate:1,advanced:2};return c[a.difficulty]-c[l.difficulty]}).slice(0,5)}async generateChapterImages(t){var r;const n=this.chapters.get(t);if(n)try{for(const s of n.content)if((r=s.metadata)!=null&&r.imageUrl&&!s.metadata.imageUrl.startsWith("http")){const i=`${n.title} ${s.title||""} adhd neurodivergent`,a=await ou.fetchUnsplashImages(i,1);a.length>0&&(s.metadata.imageUrl=a[0].url)}this.chapters.set(t,n)}catch(s){console.error("Failed to generate chapter images:",s)}}async readSection(t,n){var r;if(!(t.type!=="text"||!((r=t.metadata)!=null&&r.ttsEnabled)))try{const i=(typeof t.content=="string"?t.content:"").replace(/[*#]/g,"").replace(/\n\n/g,". ");await kn.speak(i,n)}catch(s){console.error("TTS playback failed:",s)}}getUserStatistics(t){const n=Array.from(this.userProgress.values()).filter(c=>c.userId===t),r=n.filter(c=>c.completionPercentage>=80),s=n.reduce((c,u)=>c+u.timeSpent,0),i=n.length>0?n.reduce((c,u)=>c+u.completionPercentage,0)/n.length:0,a=new Map;r.forEach(c=>{const u=this.chapters.get(c.chapterId);if(u){const f=this.categories.find(d=>d.chapters.includes(u.id));f&&a.set(f.id,(a.get(f.id)||0)+1)}});const l=a.size>0?Array.from(a.entries()).sort((c,u)=>u[1]-c[1])[0][0]:"adhd-basics";return{totalChaptersStarted:n.length,totalChaptersCompleted:r.length,totalTimeSpent:s,averageCompletion:i,favoriteCategory:l}}saveUserProgress(){const t=Array.from(this.userProgress.entries()).map(([n,r])=>[n,{...r,lastAccessed:r.lastAccessed.toISOString()}]);localStorage.setItem("neuroflow-guidebook-progress",JSON.stringify(t))}loadUserProgress(){try{const t=localStorage.getItem("neuroflow-guidebook-progress");t&&JSON.parse(t).forEach(([r,s])=>{this.userProgress.set(r,{...s,lastAccessed:new Date(s.lastAccessed)})})}catch(t){console.error("Failed to load user progress:",t)}}exportUserData(t){return{progress:Array.from(this.userProgress.entries()).filter(([r])=>r.startsWith(t)).map(([r,s])=>[r,s]),statistics:this.getUserStatistics(t),exportDate:new Date().toISOString()}}isServiceInitialized(){return this.isInitialized}};Q(An,"instance");let Bl=An;const Gr=Bl.getInstance(),XN=({appState:e,onUpdateState:t})=>{const[n,r]=b.useState([]),[s,i]=b.useState(null),[a,l]=b.useState(null),[c,u]=b.useState([]),[f,d]=b.useState(new Map),[m,y]=b.useState(""),[v,w]=b.useState(!0),[j,g]=b.useState(0),p=e.user.subscription.isPremium,h=e.user.id;b.useEffect(()=>{(async()=>{w(!0);try{for(;!Gr.isServiceInitialized();)await new Promise(_=>setTimeout(_,100));const C=Gr.getCategories(p);r(C);const V=new Map;C.forEach(_=>{_.chapters.forEach(Y=>{const K=Gr.getUserProgress(h,Y);K&&V.set(Y,K)})}),d(V),!s&&C.length>0&&i(C[0].id)}catch(C){console.error("Failed to load guidebook data:",C)}finally{w(!1)}})()},[p,h,s]),b.useEffect(()=>{if(s){const N=Gr.getChaptersByCategory(s,p);u(N)}},[s,p]);const x=Ye.useMemo(()=>m.trim()?Gr.searchChapters(m,p):[],[m,p]),k=N=>{const C=f.get(N);return(C==null?void 0:C.completionPercentage)||0},P=N=>{if(N<60)return`${N} min`;const C=Math.floor(N/60),V=N%60;return V>0?`${C}h ${V}m`:`${C}h`};if(v)return o.jsx("div",{className:"min-h-screen bg-app flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin text-4xl mb-4",children:""}),o.jsx("p",{className:"text-secondary",children:"Loading interactive guides..."})]})});if(!p)return o.jsx("div",{className:"min-h-screen bg-app p-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("div",{className:"text-8xl mb-6",children:""}),o.jsx("h1",{className:"text-4xl font-bold text-primary mb-4",children:"Interactive Life Guides"}),o.jsxs(R.div,{className:"card bg-gradient-to-r from-purple-400 to-pink-500 text-white",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Unlock Interactive Guides"}),o.jsx("p",{className:"mb-6",children:"Get comprehensive guides covering ADHD mastery, emotional regulation, and productivity strategies!"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-white/10 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold mb-2",children:" ADHD Fundamentals"}),o.jsx("p",{className:"text-sm",children:"Understanding your brain and building foundational strategies"})]}),o.jsxs("div",{className:"bg-white/10 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold mb-2",children:" Emotional Wellness"}),o.jsx("p",{className:"text-sm",children:"Managing emotions, stress, and building resilience"})]}),o.jsxs("div",{className:"bg-white/10 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold mb-2",children:" Advanced Techniques"}),o.jsx("p",{className:"text-sm",children:"Sophisticated approaches for long-term success"})]})]}),o.jsx("button",{className:"btn-secondary bg-white text-purple-600 hover:bg-gray-100",children:"Upgrade to Premium - $5"})]})]})});const A=m.trim()?x:c;return o.jsx("div",{className:"min-h-screen bg-app p-4",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:" Interactive Life Guides"}),o.jsx("p",{className:"text-secondary",children:"Comprehensive guides designed specifically for neurodivergent minds"})]}),o.jsx("div",{className:"max-w-md mx-auto mb-8",children:o.jsx("input",{type:"text",placeholder:"Search guides...",value:m,onChange:N=>y(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),!m.trim()&&o.jsx("div",{className:"flex flex-wrap justify-center gap-3 mb-8",children:n.map(N=>o.jsxs("button",{onClick:()=>i(N.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${s===N.id?"bg-gradient-to-r "+N.color+" text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[N.icon," ",N.name]},N.id))}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map((N,C)=>{const V=k(N.id);return o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:C*.1},className:"card hover:shadow-lg transition-all cursor-pointer interactive",onClick:()=>{l(N),g(0)},children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsx("h3",{className:"text-lg font-bold text-primary",children:N.title}),N.isPremium&&o.jsx("span",{className:"text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded-full",children:"Premium"})]}),o.jsx("p",{className:"text-secondary text-sm mb-4 line-clamp-3",children:N.description}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted mb-4",children:[o.jsxs("span",{children:[" ",P(N.estimatedReadTime)]}),o.jsxs("span",{children:[" ",N.content.length," sections"]}),o.jsx("span",{className:`px-2 py-1 rounded-full ${N.difficulty==="beginner"?"bg-green-100 text-green-800":N.difficulty==="intermediate"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:N.difficulty})]}),V>0&&o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs text-secondary",children:"Progress"}),o.jsxs("span",{className:"text-xs text-secondary",children:[Math.round(V),"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:o.jsx("div",{className:"bg-gradient-to-r from-green-400 to-blue-500 h-1.5 rounded-full transition-all",style:{width:`${V}%`}})})]}),o.jsx("button",{className:"w-full btn-primary text-sm",children:V>0?"Continue Reading":"Start Chapter"})]},N.id)})}),A.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-4xl mb-4",children:""}),o.jsx("h3",{className:"text-lg font-semibold text-secondary mb-2",children:"No guides found"}),o.jsx("p",{className:"text-muted",children:m.trim()?"Try adjusting your search terms":"Select a category to view available guides"})]})]})})},ZN=()=>o.jsx("span",{children:""}),JN=()=>o.jsx("span",{children:""}),ek=()=>o.jsx("span",{children:""}),tk=()=>o.jsx("span",{children:""}),nk=()=>o.jsx("span",{children:""}),rk=()=>o.jsx("span",{children:""}),sk=()=>o.jsx("span",{children:""}),ik=()=>o.jsx("span",{children:""}),ok=()=>{const e=Tp(),t=Ic(),n=[{id:"dashboard",label:"Home",icon:ZN,path:"/"},{id:"tasks",label:"Quests",icon:JN,path:"/tasks"},{id:"zen",label:"Zen",icon:ek,path:"/zen"},{id:"sounds",label:"Sounds",icon:nk,path:"/sounds"},{id:"tips",label:"Tips",icon:rk,path:"/tips"},{id:"guides",label:"Guides",icon:sk,path:"/guides"},{id:"settings",label:"Settings",icon:ik,path:"/settings"},{id:"profile",label:"Profile",icon:tk,path:"/profile"}];return o.jsx("nav",{className:"bg-white border-t border-gray-200 px-2 py-2 overflow-x-auto",children:o.jsx("div",{className:"flex justify-start gap-1 min-w-max",children:n.map(r=>{const s=t.pathname===r.path;return o.jsxs(R.button,{onClick:()=>{e(r.path)},className:`flex flex-col items-center p-2 rounded-lg transition-all min-w-16 ${s?"text-blue-500 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[o.jsx(r.icon,{}),o.jsx("span",{className:"text-xs font-medium",children:r.label}),s&&o.jsx(R.div,{layoutId:"activeTab",className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-blue-500 rounded-full",initial:!1,transition:{type:"spring",stiffness:500,damping:30}})]},r.id)})})})};var Ei={linear:function(e,t,n,r){var s=n-t;return s*e/r+t},easeInQuad:function(e,t,n,r){var s=n-t;return s*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){var s=n-t;return-s*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){var s=n-t;return(e/=r/2)<1?s/2*e*e+t:-s/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){var s=n-t;return s*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){var s=n-t;return s*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){var s=n-t;return(e/=r/2)<1?s/2*e*e*e+t:s/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){var s=n-t;return s*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){var s=n-t;return-s*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){var s=n-t;return(e/=r/2)<1?s/2*e*e*e*e+t:-s/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){var s=n-t;return s*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){var s=n-t;return s*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){var s=n-t;return(e/=r/2)<1?s/2*e*e*e*e*e+t:s/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){var s=n-t;return-s*Math.cos(e/r*(Math.PI/2))+s+t},easeOutSine:function(e,t,n,r){var s=n-t;return s*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){var s=n-t;return-s/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){var s=n-t;return e==0?t:s*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){var s=n-t;return e==r?t+s:s*(-Math.pow(2,-10*e/r)+1)+t},easeInOutExpo:function(e,t,n,r){var s=n-t;return e===0?t:e===r?t+s:(e/=r/2)<1?s/2*Math.pow(2,10*(e-1))+t:s/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,n,r){var s=n-t;return-s*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){var s=n-t;return s*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){var s=n-t;return(e/=r/2)<1?-s/2*(Math.sqrt(1-e*e)-1)+t:s/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,r){var s=n-t,i,a,l;return l=1.70158,a=0,i=s,e===0?t:(e/=r)===1?t+s:(a||(a=r*.3),i<Math.abs(s)?(i=s,l=a/4):l=a/(2*Math.PI)*Math.asin(s/i),-(i*Math.pow(2,10*(e-=1))*Math.sin((e*r-l)*(2*Math.PI)/a))+t)},easeOutElastic:function(e,t,n,r){var s=n-t,i,a,l;return l=1.70158,a=0,i=s,e===0?t:(e/=r)===1?t+s:(a||(a=r*.3),i<Math.abs(s)?(i=s,l=a/4):l=a/(2*Math.PI)*Math.asin(s/i),i*Math.pow(2,-10*e)*Math.sin((e*r-l)*(2*Math.PI)/a)+s+t)},easeInOutElastic:function(e,t,n,r){var s=n-t,i,a,l;return l=1.70158,a=0,i=s,e===0?t:(e/=r/2)===2?t+s:(a||(a=r*(.3*1.5)),i<Math.abs(s)?(i=s,l=a/4):l=a/(2*Math.PI)*Math.asin(s/i),e<1?-.5*(i*Math.pow(2,10*(e-=1))*Math.sin((e*r-l)*(2*Math.PI)/a))+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-l)*(2*Math.PI)/a)*.5+s+t)},easeInBack:function(e,t,n,r,s){var i=n-t;return s===void 0&&(s=1.70158),i*(e/=r)*e*((s+1)*e-s)+t},easeOutBack:function(e,t,n,r,s){var i=n-t;return s===void 0&&(s=1.70158),i*((e=e/r-1)*e*((s+1)*e+s)+1)+t},easeInOutBack:function(e,t,n,r,s){var i=n-t;return s===void 0&&(s=1.70158),(e/=r/2)<1?i/2*(e*e*(((s*=1.525)+1)*e-s))+t:i/2*((e-=2)*e*(((s*=1.525)+1)*e+s)+2)+t},easeInBounce:function(e,t,n,r){var s=n-t,i;return i=Ei.easeOutBounce(r-e,0,s,r),s-i+t},easeOutBounce:function(e,t,n,r){var s=n-t;return(e/=r)<1/2.75?s*(7.5625*e*e)+t:e<2/2.75?s*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?s*(7.5625*(e-=2.25/2.75)*e+.9375)+t:s*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,n,r){var s=n-t,i;return e<r/2?(i=Ei.easeInBounce(e*2,0,s,r),i*.5+t):(i=Ei.easeOutBounce(e*2-r,0,s,r),i*.5+s*.5+t)}},ak=Ei;function lk(e){return e*Math.PI/180}function Ge(e,t){return e+Math.random()*(t-e)}function ck(e,t){return Math.floor(e+Math.random()*(t-e+1))}var ds;(function(e){e[e.Circle=0]="Circle",e[e.Square=1]="Square",e[e.Strip=2]="Strip"})(ds||(ds={}));var Gt;(function(e){e[e.Positive=1]="Positive",e[e.Negative=-1]="Negative"})(Gt||(Gt={}));const uk=1e3/60;class dk{constructor(t,n,r,s){this.getOptions=n;const{colors:i,initialVelocityX:a,initialVelocityY:l}=this.getOptions();this.context=t,this.x=r,this.y=s,this.w=Ge(5,20),this.h=Ge(5,20),this.radius=Ge(5,10),this.vx=typeof a=="number"?Ge(-a,a):Ge(a.min,a.max),this.vy=typeof l=="number"?Ge(-l,0):Ge(l.min,l.max),this.shape=ck(0,2),this.angle=lk(Ge(0,360)),this.angularSpin=Ge(-.2,.2),this.color=i[Math.floor(Math.random()*i.length)],this.rotateY=Ge(0,1),this.rotationDirection=Ge(0,1)?Gt.Positive:Gt.Negative}update(t){const{gravity:n,wind:r,friction:s,opacity:i,drawShape:a}=this.getOptions(),l=t/uk;this.x+=this.vx*l,this.y+=this.vy*l,this.vy+=n*l,this.vx+=r*l,this.vx*=s**l,this.vy*=s**l,this.rotateY>=1&&this.rotationDirection===Gt.Positive?this.rotationDirection=Gt.Negative:this.rotateY<=-1&&this.rotationDirection===Gt.Negative&&(this.rotationDirection=Gt.Positive);const c=.1*this.rotationDirection*l;if(this.rotateY+=c,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=i,this.context.lineCap="round",this.context.lineWidth=2,a&&typeof a=="function")a.call(this,this.context);else switch(this.shape){case ds.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case ds.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case ds.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class fk{constructor(t,n){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=s=>{this.particles.splice(s,1)},this.getParticle=()=>{const s=Ge(this.x,this.w+this.x),i=Ge(this.y,this.h+this.y);return new dk(this.context,this.getOptions,s,i)},this.animate=s=>{const{canvas:i,context:a,particlesGenerated:l,lastNumberOfPieces:c}=this,{run:u,recycle:f,numberOfPieces:d,debug:m,tweenFunction:y,tweenDuration:v}=this.getOptions();if(!u)return!1;const w=this.particles.length,j=f?w:l;if(j<d){c!==d&&(this.tweenProgress=0,this.tweenFrom=j,this.lastNumberOfPieces=d),this.tweenProgress=Math.min(v,Math.max(0,this.tweenProgress+s));const g=y(this.tweenProgress,this.tweenFrom,d,v),p=Math.round(g-j);for(let h=0;h<p;h++)this.particles.push(this.getParticle());this.particlesGenerated+=p}m&&(a.font="12px sans-serif",a.fillStyle="#333",a.textAlign="right",a.fillText(`Particles: ${w}`,i.width-10,i.height-20));for(let g=this.particles.length-1;g>=0;g--){const p=this.particles[g];p.update(s),(p.y>i.height||p.y<-100||p.x>i.width+100||p.x<-100)&&(f&&j<=d?this.particles[g]=this.getParticle():this.removeParticleAt(g))}return w>0||j<d},this.canvas=t;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.getOptions=n}}const cu={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:ak.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class mk{constructor(t,n){this.lastFrameTime=0,this.setOptionsWithDefaults=s=>{const i={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...i,...cu,...s},Object.assign(this,s.confettiSource)},this.update=(s=0)=>{const{options:{run:i,onConfettiComplete:a,frameRate:l},canvas:c,context:u}=this,f=Math.min(s-this.lastFrameTime,50);if(l&&f<1e3/l){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=s-(l?f%l:0),i&&(u.fillStyle="white",u.clearRect(0,0,c.width,c.height)),this.generator.animate(f)?this.rafId=requestAnimationFrame(this.update):(a&&typeof a=="function"&&this.generator.particlesGenerated>0&&a.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=t;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new fk(this.canvas,()=>this.options),this.options=n,this.update()}get options(){return this._options}set options(t){var s,i;const n=(s=this._options)==null?void 0:s.run,r=(i=this._options)==null?void 0:i.recycle;this.setOptionsWithDefaults(t),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof t.recycle=="boolean"&&t.recycle&&r===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof t.run=="boolean"&&t.run&&n===!1&&this.update()}}const hk=Ye.createRef();class uu extends Ye.Component{constructor(t){super(t),this.canvas=Ye.createRef(),this.canvas=t.canvasRef||hk}componentDidMount(){if(this.canvas.current){const t=Ca(this.props)[0];this.confetti=new mk(this.canvas.current,t)}}componentDidUpdate(){const t=Ca(this.props)[0];this.confetti&&(this.confetti.options=t)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[t,n]=Ca(this.props),r={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...n.style};return o.jsx("canvas",{width:t.width,height:t.height,ref:this.canvas,...n,style:r})}}uu.defaultProps={...cu};uu.displayName="ReactConfetti";function Ca(e){const t={},n={},r={},s=[...Object.keys(cu),"confettiSource","drawShape","onConfettiComplete","frameRate"],i=["canvasRef"];for(const a in e){const l=e[a];s.includes(a)?t[a]=l:i.includes(a)?i[a]=l:r[a]=l}return[t,r,n]}const pk=Ye.forwardRef((e,t)=>o.jsx(uu,{canvasRef:t,...e})),gk=()=>o.jsx("span",{children:""}),yk=()=>o.jsx("span",{children:""}),xk=()=>o.jsx("span",{children:""}),vk=({title:e,message:t,xp:n,achievement:r,onClose:s})=>{const[i,a]=Ye.useState(!0);return b.useEffect(()=>{const l=setTimeout(()=>{s()},5e3),c=setTimeout(()=>{a(!1)},3e3);return()=>{clearTimeout(l),clearTimeout(c)}},[s]),o.jsx(kr,{children:o.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:s,children:[i&&o.jsx(pk,{width:window.innerWidth,height:window.innerHeight,recycle:!1,numberOfPieces:200,gravity:.3}),o.jsxs(R.div,{initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},transition:{type:"spring",duration:.5,bounce:.3},className:"bg-white rounded-2xl p-8 max-w-md w-full text-center shadow-2xl",onClick:l=>l.stopPropagation(),children:[o.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(gk,{})}),o.jsx(R.div,{initial:{scale:0},animate:{scale:[0,1.2,1]},transition:{duration:.6,ease:"easeOut"},className:"text-6xl mb-4",children:""}),o.jsx(R.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-2xl font-bold text-gray-800 mb-2",children:e}),o.jsx(R.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-gray-600 mb-6",children:t}),o.jsxs(R.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.4},className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg p-4 mb-6",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx(yk,{}),o.jsx("span",{className:"font-semibold",children:"XP Gained!"})]}),o.jsxs("div",{className:"text-3xl font-bold",children:["+",n]})]}),r&&o.jsxs(R.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5},className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white rounded-lg p-4 mb-6",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx(xk,{}),o.jsx("span",{className:"font-semibold",children:"Achievement Unlocked!"})]}),o.jsx("div",{className:"text-2xl mb-2",children:r.icon}),o.jsx("div",{className:"font-bold",children:r.title}),o.jsx("div",{className:"text-sm opacity-90",children:r.description})]}),o.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-sm text-gray-500",children:" Every small step is progress! Keep up the amazing work! "}),o.jsx(R.div,{initial:{width:"100%"},animate:{width:"0%"},transition:{duration:5,ease:"linear"},className:"h-1 bg-blue-500 rounded-full mt-4 mx-auto"})]})]})})},wk=()=>o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:o.jsxs(R.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center space-y-6",children:[o.jsx(R.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"text-8xl",children:""}),o.jsx(R.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"NeuroFlow"}),o.jsx(R.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-gray-600 text-lg",children:"Preparing your personalized journey..."}),o.jsx("div",{className:"flex justify-center space-x-2",children:[0,1,2].map(e=>o.jsx(R.div,{animate:{scale:[1,1.5,1],opacity:[.3,1,.3]},transition:{duration:1.5,repeat:1/0,delay:e*.2},className:"w-3 h-3 bg-blue-500 rounded-full"},e))}),o.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"max-w-md mx-auto text-center",children:o.jsx("p",{className:"text-gray-500 italic",children:`"Your neurodivergent brain is uniquely powerful. Let's unlock its potential together! "`})})]})}),bk=()=>{var P,A;const e=Tp(),[t,n]=b.useState(null),[r,s]=b.useState({isAuthenticated:!1,user:null,isLoading:!1}),[i,a]=b.useState("signin"),[l,c]=b.useState(!1),[u,f]=b.useState(null),[d,m]=b.useState(!1);b.useEffect(()=>{jt.waitForInitialization().then(()=>{console.log("Theme system initialized")})},[]),b.useEffect(()=>jt.observe(C=>{var V,_;((_=(V=t==null?void 0:t.user)==null?void 0:V.preferences)==null?void 0:_.theme)!==C.mode&&v({user:{...t.user,preferences:{...t.user.preferences,theme:C.mode}}})}),[(A=(P=t==null?void 0:t.user)==null?void 0:P.preferences)==null?void 0:A.theme]),b.useEffect(()=>{if(console.log("App initialization starting, isInitialized:",d),d)return;const N=localStorage.getItem("neurofocus-auth-state"),C=localStorage.getItem("neurofocus-app-state");console.log("Saved auth:",N),console.log("Saved state:",C);try{if(N){const V=JSON.parse(N);console.log("Parsed auth:",V),s(V),V.isAuthenticated&&V.user&&a("app")}if(C){const V=JSON.parse(C);console.log("Parsed state:",V),n(V)}}catch(V){console.error("Failed to parse saved state:",V),localStorage.removeItem("neurofocus-app-state"),localStorage.removeItem("neurofocus-auth-state")}console.log("Setting isInitialized to true"),m(!0)},[]);const y=(N=!0)=>{const C=fa(N);n({user:C,tasks:[],categories:da,achievements:Pi,dailyStats:[],isOnboarding:!0,authState:{isAuthenticated:!N,user:C,isLoading:!1}}),s({isAuthenticated:!N,user:C,isLoading:!1}),a("app"),e("/")};b.useEffect(()=>{d&&(t&&localStorage.setItem("neurofocus-app-state",JSON.stringify(t)),r&&localStorage.setItem("neurofocus-auth-state",JSON.stringify(r)))},[t,r,d]);const v=N=>{t&&n({...t,...N})},w=N=>{if(!t)return;const C={...N,id:Iv(),createdAt:new Date};v({tasks:[...t.tasks,C]})},j=N=>{if(!t)return;const C=t.tasks.find(F=>F.id===N);if(!C||C.completed)return;const V=t.tasks.map(F=>F.id===N?{...F,completed:!0,completedAt:new Date}:F),_=C.xpReward,Y=t.user.xp+_,K=t.user.totalPoints+_,ee=new Date().toISOString().split("T")[0],xe=Dp(t.dailyStats),L=t.dailyStats.filter(F=>F.date!==ee);L.push({...xe,tasksCompleted:xe.tasksCompleted+1,xpEarned:xe.xpEarned+_,streakDay:!0}),v({tasks:V,user:{...t.user,xp:Y,totalPoints:K},dailyStats:L}),f({title:"Quest Complete! ",message:`You completed "${C.title}"`,xp:_}),c(!0)},g=async(N,C)=>{s(V=>({...V,isLoading:!0})),setTimeout(()=>{const V=fa(!1);V.email=N,V.name=N.split("@")[0];const _={isAuthenticated:!0,user:V,isLoading:!1};s(_),n({user:V,tasks:[],categories:da,achievements:Pi,dailyStats:[],isOnboarding:!0,authState:_}),a("app"),e("/")},1e3)},p=async(N,C,V)=>{s(_=>({..._,isLoading:!0})),setTimeout(()=>{const _=fa(!1);_.email=C,_.name=N;const Y={isAuthenticated:!0,user:_,isLoading:!1};s(Y),n({user:_,tasks:[],categories:da,achievements:Pi,dailyStats:[],isOnboarding:!0,authState:Y}),a("app"),e("/")},1e3)},h=()=>{y(!0)},x=async N=>{!t||!r.user||setTimeout(()=>{const C={...r.user,subscription:{isPremium:!0,plan:"full",purchaseDate:new Date,expiryDate:void 0}},V={...t,user:C,authState:{...r,user:C}};n(V),s(_=>({..._,user:C})),a("app"),setTimeout(()=>{alert(" Welcome to NeuroFlow Full! All features are now unlocked. Thank you for your support!")},500)},2e3)},k=()=>{s({isAuthenticated:!1,user:null,isLoading:!1}),n(null),localStorage.removeItem("neurofocus-app-state"),localStorage.removeItem("neurofocus-auth-state"),a("signin"),e("/landing")};return d?(console.log("App initialized. AuthState:",r,"CurrentView:",i),!r.isAuthenticated||i==="signin"||i==="signup"?(console.log("Showing auth flow. CurrentView:",i),i==="signup"?o.jsx(BS,{onSignUp:p,onGoogleSignUp:()=>{},onSwitchToSignIn:()=>a("signin"),onGuestMode:h,isLoading:r.isLoading}):o.jsx(IS,{onSignIn:g,onGoogleSignIn:()=>{},onSwitchToSignUp:()=>a("signup"),onGuestMode:h,isLoading:r.isLoading})):i==="purchase"?o.jsx(iN,{onPurchase:x,onCancel:()=>a("app"),isLoading:r.isLoading}):t?o.jsxs("div",{className:"min-h-screen bg-app",children:[o.jsxs("div",{className:"flex flex-col h-screen",children:[t.user.isGuest&&o.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-white px-4 py-2 text-center text-sm font-medium",children:[" Demo Mode - Limited Features |",o.jsx("button",{onClick:()=>a("purchase"),className:"underline hover:no-underline ml-1",children:"Upgrade to Full Version for $5"})]}),o.jsx("main",{className:"flex-1 overflow-auto",children:o.jsxs(Td,{children:[o.jsx(We,{path:"/",element:o.jsx(rS,{appState:t,onCompleteTask:j,onUpdateState:v})}),o.jsx(We,{path:"/tasks",element:o.jsx(cS,{appState:t,onAddTask:w,onCompleteTask:j,onUpdateState:v})}),o.jsx(We,{path:"/zen",element:o.jsx(pS,{appState:t,onUpdateState:v})}),o.jsx(We,{path:"/sounds",element:o.jsx(PN,{appState:t,onUpdateState:v})}),o.jsx(We,{path:"/tips",element:o.jsx(ON,{appState:t,onUpdateState:v})}),o.jsx(We,{path:"/guides",element:o.jsx(XN,{appState:t,onUpdateState:v})}),o.jsx(We,{path:"/settings",element:o.jsx(YN,{appState:t,onUpdateState:v})}),o.jsx(We,{path:"/profile",element:o.jsx(jS,{appState:t,onUpdateState:v,onSignOut:k,onUpgrade:()=>a("purchase")})}),o.jsx(We,{path:"/landing",element:o.jsx(di,{onGetStarted:()=>y(!0)})})]})}),o.jsx(ok,{})]}),l&&u&&o.jsx(vk,{title:u.title,message:u.message,xp:u.xp,achievement:u.achievement,onClose:()=>c(!1)})]}):o.jsxs(Td,{children:[o.jsx(We,{path:"/",element:o.jsx(di,{onGetStarted:()=>y(!0)})}),o.jsx(We,{path:"/landing",element:o.jsx(di,{onGetStarted:()=>y(!0)})}),o.jsx(We,{path:"*",element:o.jsx(di,{onGetStarted:()=>y(!0)})})]})):(console.log("Showing loading screen, isInitialized:",d),o.jsx(wk,{}))};function jk(){return console.log("App component rendering - with full AppContent"),o.jsx(bk,{})}console.log("NeuroFlow ADHD App - Starting initialization");const c0=document.getElementById("root");if(!c0)throw new Error("Root element not found");const Sk=Ta.createRoot(c0);Sk.render(o.jsx(Ye.StrictMode,{children:o.jsx(Vv,{children:o.jsx(jk,{})})}));console.log("NeuroFlow ADHD App - Rendered successfully");
